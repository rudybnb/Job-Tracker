var qu=e=>{throw TypeError(e)};var ci=(e,t,s)=>t.has(e)||qu("Cannot "+s);var C=(e,t,s)=>(ci(e,t,"read from private field"),s?s.call(e):t.get(e)),Q=(e,t,s)=>t.has(e)?qu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),B=(e,t,s,r)=>(ci(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),te=(e,t,s)=>(ci(e,t,"access private method"),s);var ro=(e,t,s,r)=>({set _(a){B(e,t,a,s)},get _(){return C(e,t,r)}});function Jv(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();function uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mh={exports:{}},Tl={},fh={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),sy=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),ry=Symbol.for("react.suspense"),ay=Symbol.for("react.memo"),oy=Symbol.for("react.lazy"),Ju=Symbol.iterator;function ly(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var hh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ph=Object.assign,xh={};function Ur(e,t,s){this.props=e,this.context=t,this.refs=xh,this.updater=s||hh}Ur.prototype.isReactComponent={};Ur.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ur.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gh(){}gh.prototype=Ur.prototype;function Cd(e,t,s){this.props=e,this.context=t,this.refs=xh,this.updater=s||hh}var Ed=Cd.prototype=new gh;Ed.constructor=Cd;ph(Ed,Ur.prototype);Ed.isPureReactComponent=!0;var Yu=Array.isArray,vh=Object.prototype.hasOwnProperty,Pd={current:null},yh={key:!0,ref:!0,__self:!0,__source:!0};function wh(e,t,s){var r,a={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)vh.call(t,r)&&!yh.hasOwnProperty(r)&&(a[r]=t[r]);var i=arguments.length-2;if(i===1)a.children=s;else if(1<i){for(var c=Array(i),d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in i=e.defaultProps,i)a[r]===void 0&&(a[r]=i[r]);return{$$typeof:Ga,type:e,key:o,ref:l,props:a,_owner:Pd.current}}function iy(e,t){return{$$typeof:Ga,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ga}function cy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var Xu=/\/+/g;function di(e,t){return typeof e=="object"&&e!==null&&e.key!=null?cy(""+e.key):t.toString(36)}function Io(e,t,s,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ga:case Yv:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+di(l,0):r,Yu(a)?(s="",e!=null&&(s=e.replace(Xu,"$&/")+"/"),Io(a,t,s,"",function(d){return d})):a!=null&&(Td(a)&&(a=iy(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Xu,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",Yu(e))for(var i=0;i<e.length;i++){o=e[i];var c=r+di(o,i);l+=Io(o,t,s,c,a)}else if(c=ly(e),typeof c=="function")for(e=c.call(e),i=0;!(o=e.next()).done;)o=o.value,c=r+di(o,i++),l+=Io(o,t,s,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ao(e,t,s){if(e==null)return e;var r=[],a=0;return Io(e,r,"","",function(o){return t.call(s,o,a++)}),r}function dy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},Ao={transition:null},uy={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:Pd};function bh(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ao,forEach:function(e,t,s){ao(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return ao(e,function(){t++}),t},toArray:function(e){return ao(e,function(t){return t})||[]},only:function(e){if(!Td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ur;oe.Fragment=Xv;oe.Profiler=ey;oe.PureComponent=Cd;oe.StrictMode=Zv;oe.Suspense=ry;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uy;oe.act=bh;oe.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ph({},e.props),a=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Pd.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)vh.call(t,c)&&!yh.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=s;else if(1<c){i=Array(c);for(var d=0;d<c;d++)i[d]=arguments[d+2];r.children=i}return{$$typeof:Ga,type:e.type,key:a,ref:o,props:r,_owner:l}};oe.createContext=function(e){return e={$$typeof:sy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ty,_context:e},e.Consumer=e};oe.createElement=wh;oe.createFactory=function(e){var t=wh.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:ny,render:e}};oe.isValidElement=Td;oe.lazy=function(e){return{$$typeof:oy,_payload:{_status:-1,_result:e},_init:dy}};oe.memo=function(e,t){return{$$typeof:ay,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Ao.transition;Ao.transition={};try{e()}finally{Ao.transition=t}};oe.unstable_act=bh;oe.useCallback=function(e,t){return st.current.useCallback(e,t)};oe.useContext=function(e){return st.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return st.current.useDeferredValue(e)};oe.useEffect=function(e,t){return st.current.useEffect(e,t)};oe.useId=function(){return st.current.useId()};oe.useImperativeHandle=function(e,t,s){return st.current.useImperativeHandle(e,t,s)};oe.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return st.current.useMemo(e,t)};oe.useReducer=function(e,t,s){return st.current.useReducer(e,t,s)};oe.useRef=function(e){return st.current.useRef(e)};oe.useState=function(e){return st.current.useState(e)};oe.useSyncExternalStore=function(e,t,s){return st.current.useSyncExternalStore(e,t,s)};oe.useTransition=function(){return st.current.useTransition()};oe.version="18.3.1";fh.exports=oe;var x=fh.exports;const ks=uh(x),jh=Jv({__proto__:null,default:ks},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=x,fy=Symbol.for("react.element"),hy=Symbol.for("react.fragment"),py=Object.prototype.hasOwnProperty,xy=my.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gy={key:!0,ref:!0,__self:!0,__source:!0};function Nh(e,t,s){var r,a={},o=null,l=null;s!==void 0&&(o=""+s),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)py.call(t,r)&&!gy.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:fy,type:e,key:o,ref:l,props:a,_owner:xy.current}}Tl.Fragment=hy;Tl.jsx=Nh;Tl.jsxs=Nh;mh.exports=Tl;var n=mh.exports,Sh={exports:{}},bt={},kh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,O){var U=I.length;I.push(O);e:for(;0<U;){var H=U-1>>>1,J=I[H];if(0<a(J,O))I[H]=O,I[U]=J,U=H;else break e}}function s(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var O=I[0],U=I.pop();if(U!==O){I[0]=U;e:for(var H=0,J=I.length,re=J>>>1;H<re;){var L=2*(H+1)-1,G=I[L],q=L+1,V=I[q];if(0>a(G,U))q<J&&0>a(V,G)?(I[H]=V,I[q]=U,H=q):(I[H]=G,I[L]=U,H=L);else if(q<J&&0>a(V,U))I[H]=V,I[q]=U,H=q;else break e}}return O}function a(I,O){var U=I.sortIndex-O.sortIndex;return U!==0?U:I.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var c=[],d=[],p=1,m=null,h=3,j=!1,v=!1,u=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(I){for(var O=s(d);O!==null;){if(O.callback===null)r(d);else if(O.startTime<=I)r(d),O.sortIndex=O.expirationTime,t(c,O);else break;O=s(d)}}function w(I){if(u=!1,g(I),!v)if(s(c)!==null)v=!0,F(N);else{var O=s(d);O!==null&&M(w,O.startTime-I)}}function N(I,O){v=!1,u&&(u=!1,y(k),k=-1),j=!0;var U=h;try{for(g(O),m=s(c);m!==null&&(!(m.expirationTime>O)||I&&!R());){var H=m.callback;if(typeof H=="function"){m.callback=null,h=m.priorityLevel;var J=H(m.expirationTime<=O);O=e.unstable_now(),typeof J=="function"?m.callback=J:m===s(c)&&r(c),g(O)}else r(c);m=s(c)}if(m!==null)var re=!0;else{var L=s(d);L!==null&&M(w,L.startTime-O),re=!1}return re}finally{m=null,h=U,j=!1}}var E=!1,S=null,k=-1,T=5,A=-1;function R(){return!(e.unstable_now()-A<T)}function D(){if(S!==null){var I=e.unstable_now();A=I;var O=!0;try{O=S(!0,I)}finally{O?z():(E=!1,S=null)}}else E=!1}var z;if(typeof f=="function")z=function(){f(D)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,_=P.port2;P.port1.onmessage=D,z=function(){_.postMessage(null)}}else z=function(){b(D,0)};function F(I){S=I,E||(E=!0,z())}function M(I,O){k=b(function(){I(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){v||j||(v=!0,F(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return s(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var U=h;h=O;try{return I()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,O){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var U=h;h=I;try{return O()}finally{h=U}},e.unstable_scheduleCallback=function(I,O,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,I){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,I={id:p++,callback:O,priorityLevel:I,startTime:U,expirationTime:J,sortIndex:-1},U>H?(I.sortIndex=U,t(d,I),s(c)===null&&I===s(d)&&(u?(y(k),k=-1):u=!0,M(w,U-H))):(I.sortIndex=J,t(c,I),v||j||(v=!0,F(N))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var O=h;return function(){var U=h;h=O;try{return I.apply(this,arguments)}finally{h=U}}}})(Ch);kh.exports=Ch;var vy=kh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=x,wt=vy;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eh=new Set,ja={};function Ln(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(ja[e]=t,e=0;e<t.length;e++)Eh.add(t[e])}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=Object.prototype.hasOwnProperty,wy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zu={},em={};function by(e){return ec.call(em,e)?!0:ec.call(Zu,e)?!1:wy.test(e)?em[e]=!0:(Zu[e]=!0,!1)}function jy(e,t,s,r){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ny(e,t,s,r){if(t===null||typeof t>"u"||jy(e,t,s,r))return!0;if(r)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,s,r,a,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rd=/[\-:]([a-z])/g;function Id(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rd,Id);Be[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rd,Id);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rd,Id);Be[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ad(e,t,s,r){var a=Be.hasOwnProperty(t)?Be[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ny(t,s,a,r)&&(s=null),r||a===null?by(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(t=a.attributeName,r=a.attributeNamespace,s===null?e.removeAttribute(t):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,r?e.setAttributeNS(r,t,s):e.setAttribute(t,s))))}var bs=yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oo=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Hn=Symbol.for("react.fragment"),Dd=Symbol.for("react.strict_mode"),tc=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Th=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),sc=Symbol.for("react.suspense"),nc=Symbol.for("react.suspense_list"),Od=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),Rh=Symbol.for("react.offscreen"),tm=Symbol.iterator;function Jr(e){return e===null||typeof e!="object"?null:(e=tm&&e[tm]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,ui;function oa(e){if(ui===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);ui=t&&t[1]||""}return`
`+ui+e}var mi=!1;function fi(e,t){if(!e||mi)return"";mi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),o=r.stack.split(`
`),l=a.length-1,i=o.length-1;1<=l&&0<=i&&a[l]!==o[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==o[i]){if(l!==1||i!==1)do if(l--,i--,0>i||a[l]!==o[i]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=i);break}}}finally{mi=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?oa(e):""}function Sy(e){switch(e.tag){case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return e=fi(e.type,!1),e;case 11:return e=fi(e.type.render,!1),e;case 1:return e=fi(e.type,!0),e;default:return""}}function rc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Hn:return"Fragment";case Wn:return"Portal";case tc:return"Profiler";case Dd:return"StrictMode";case sc:return"Suspense";case nc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Th:return(e.displayName||"Context")+".Consumer";case Ph:return(e._context.displayName||"Context")+".Provider";case Md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Od:return t=e.displayName||null,t!==null?t:rc(e.type)||"Memo";case Ps:t=e._payload,e=e._init;try{return rc(e(t))}catch{}}return null}function ky(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rc(t);case 8:return t===Dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cy(e){var t=Ih(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lo(e){e._valueTracker||(e._valueTracker=Cy(e))}function Ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),r="";return e&&(r=Ih(e)?e.checked?"true":"false":e.value),e=r,e!==s?(t.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ac(e,t){var s=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function sm(e,t){var s=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;s=Xs(t.value!=null?t.value:s),e._wrapperState={initialChecked:r,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dh(e,t){t=t.checked,t!=null&&Ad(e,"checked",t,!1)}function oc(e,t){Dh(e,t);var s=Xs(t.value),r=t.type;if(s!=null)r==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lc(e,t.type,s):t.hasOwnProperty("defaultValue")&&lc(e,t.type,Xs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nm(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function lc(e,t,s){(t!=="number"||Yo(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var la=Array.isArray;function nr(e,t,s,r){if(e=e.options,t){t={};for(var a=0;a<s.length;a++)t["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=t.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&r&&(e[s].defaultSelected=!0)}else{for(s=""+Xs(s),t=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ic(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rm(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error($(92));if(la(s)){if(1<s.length)throw Error($(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Xs(s)}}function Mh(e,t){var s=Xs(t.value),r=Xs(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),r!=null&&(e.defaultValue=""+r)}function am(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var io,Lh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,s,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(io=io||document.createElement("div"),io.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=io.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Na(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ey=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(e){Ey.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ma[t]=ma[e]})});function Fh(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||ma.hasOwnProperty(e)&&ma[e]?(""+t).trim():t+"px"}function _h(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var r=s.indexOf("--")===0,a=Fh(s,t[s],r);s==="float"&&(s="cssFloat"),r?e.setProperty(s,a):e[s]=a}}var Py=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dc(e,t){if(t){if(Py[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function uc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mc=null;function Ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fc=null,rr=null,ar=null;function om(e){if(e=Ja(e)){if(typeof fc!="function")throw Error($(280));var t=e.stateNode;t&&(t=Ml(t),fc(e.stateNode,e.type,t))}}function $h(e){rr?ar?ar.push(e):ar=[e]:rr=e}function zh(){if(rr){var e=rr,t=ar;if(ar=rr=null,om(e),t)for(e=0;e<t.length;e++)om(t[e])}}function Uh(e,t){return e(t)}function Vh(){}var hi=!1;function Bh(e,t,s){if(hi)return e(t,s);hi=!0;try{return Uh(e,t,s)}finally{hi=!1,(rr!==null||ar!==null)&&(Vh(),zh())}}function Sa(e,t){var s=e.stateNode;if(s===null)return null;var r=Ml(s);if(r===null)return null;s=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error($(231,t,typeof s));return s}var hc=!1;if(hs)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){hc=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{hc=!1}function Ty(e,t,s,r,a,o,l,i,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(p){this.onError(p)}}var fa=!1,Xo=null,Zo=!1,pc=null,Ry={onError:function(e){fa=!0,Xo=e}};function Iy(e,t,s,r,a,o,l,i,c){fa=!1,Xo=null,Ty.apply(Ry,arguments)}function Ay(e,t,s,r,a,o,l,i,c){if(Iy.apply(this,arguments),fa){if(fa){var d=Xo;fa=!1,Xo=null}else throw Error($(198));Zo||(Zo=!0,pc=d)}}function Fn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lm(e){if(Fn(e)!==e)throw Error($(188))}function Dy(e){var t=e.alternate;if(!t){if(t=Fn(e),t===null)throw Error($(188));return t!==e?null:e}for(var s=e,r=t;;){var a=s.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){s=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===s)return lm(a),e;if(o===r)return lm(a),t;o=o.sibling}throw Error($(188))}if(s.return!==r.return)s=a,r=o;else{for(var l=!1,i=a.child;i;){if(i===s){l=!0,s=a,r=o;break}if(i===r){l=!0,r=a,s=o;break}i=i.sibling}if(!l){for(i=o.child;i;){if(i===s){l=!0,s=o,r=a;break}if(i===r){l=!0,r=o,s=a;break}i=i.sibling}if(!l)throw Error($(189))}}if(s.alternate!==r)throw Error($(190))}if(s.tag!==3)throw Error($(188));return s.stateNode.current===s?e:t}function Hh(e){return e=Dy(e),e!==null?Kh(e):null}function Kh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Kh(e);if(t!==null)return t;e=e.sibling}return null}var Gh=wt.unstable_scheduleCallback,im=wt.unstable_cancelCallback,My=wt.unstable_shouldYield,Oy=wt.unstable_requestPaint,Re=wt.unstable_now,Ly=wt.unstable_getCurrentPriorityLevel,Fd=wt.unstable_ImmediatePriority,Qh=wt.unstable_UserBlockingPriority,el=wt.unstable_NormalPriority,Fy=wt.unstable_LowPriority,qh=wt.unstable_IdlePriority,Rl=null,Yt=null;function _y(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Uy,$y=Math.log,zy=Math.LN2;function Uy(e){return e>>>=0,e===0?32:31-($y(e)/zy|0)|0}var co=64,uo=4194304;function ia(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tl(e,t){var s=e.pendingLanes;if(s===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,l=s&268435455;if(l!==0){var i=l&~a;i!==0?r=ia(i):(o&=l,o!==0&&(r=ia(o)))}else l=s&~a,l!==0?r=ia(l):o!==0&&(r=ia(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)s=31-_t(t),a=1<<s,r|=e[s],t&=~a;return r}function Vy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function By(e,t){for(var s=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-_t(o),i=1<<l,c=a[l];c===-1?(!(i&s)||i&r)&&(a[l]=Vy(i,t)):c<=t&&(e.expiredLanes|=i),o&=~i}}function xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jh(){var e=co;return co<<=1,!(co&4194240)&&(co=64),e}function pi(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function Qa(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=s}function Wy(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-_t(s),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,s&=~o}}function _d(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var r=31-_t(s),a=1<<r;a&t|e[r]&t&&(e[r]|=t),s&=~a}}var xe=0;function Yh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xh,$d,Zh,ep,tp,gc=!1,mo=[],Bs=null,Ws=null,Hs=null,ka=new Map,Ca=new Map,Rs=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cm(e,t){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ca.delete(t.pointerId)}}function Xr(e,t,s,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:s,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Ja(t),t!==null&&$d(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Ky(e,t,s,r,a){switch(t){case"focusin":return Bs=Xr(Bs,e,t,s,r,a),!0;case"dragenter":return Ws=Xr(Ws,e,t,s,r,a),!0;case"mouseover":return Hs=Xr(Hs,e,t,s,r,a),!0;case"pointerover":var o=a.pointerId;return ka.set(o,Xr(ka.get(o)||null,e,t,s,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ca.set(o,Xr(Ca.get(o)||null,e,t,s,r,a)),!0}return!1}function sp(e){var t=hn(e.target);if(t!==null){var s=Fn(t);if(s!==null){if(t=s.tag,t===13){if(t=Wh(s),t!==null){e.blockedOn=t,tp(e.priority,function(){Zh(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Do(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=vc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);mc=r,s.target.dispatchEvent(r),mc=null}else return t=Ja(s),t!==null&&$d(t),e.blockedOn=s,!1;t.shift()}return!0}function dm(e,t,s){Do(e)&&s.delete(t)}function Gy(){gc=!1,Bs!==null&&Do(Bs)&&(Bs=null),Ws!==null&&Do(Ws)&&(Ws=null),Hs!==null&&Do(Hs)&&(Hs=null),ka.forEach(dm),Ca.forEach(dm)}function Zr(e,t){e.blockedOn===t&&(e.blockedOn=null,gc||(gc=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Gy)))}function Ea(e){function t(a){return Zr(a,e)}if(0<mo.length){Zr(mo[0],e);for(var s=1;s<mo.length;s++){var r=mo[s];r.blockedOn===e&&(r.blockedOn=null)}}for(Bs!==null&&Zr(Bs,e),Ws!==null&&Zr(Ws,e),Hs!==null&&Zr(Hs,e),ka.forEach(t),Ca.forEach(t),s=0;s<Rs.length;s++)r=Rs[s],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rs.length&&(s=Rs[0],s.blockedOn===null);)sp(s),s.blockedOn===null&&Rs.shift()}var or=bs.ReactCurrentBatchConfig,sl=!0;function Qy(e,t,s,r){var a=xe,o=or.transition;or.transition=null;try{xe=1,zd(e,t,s,r)}finally{xe=a,or.transition=o}}function qy(e,t,s,r){var a=xe,o=or.transition;or.transition=null;try{xe=4,zd(e,t,s,r)}finally{xe=a,or.transition=o}}function zd(e,t,s,r){if(sl){var a=vc(e,t,s,r);if(a===null)ki(e,t,r,nl,s),cm(e,r);else if(Ky(a,e,t,s,r))r.stopPropagation();else if(cm(e,r),t&4&&-1<Hy.indexOf(e)){for(;a!==null;){var o=Ja(a);if(o!==null&&Xh(o),o=vc(e,t,s,r),o===null&&ki(e,t,r,nl,s),o===a)break;a=o}a!==null&&r.stopPropagation()}else ki(e,t,r,null,s)}}var nl=null;function vc(e,t,s,r){if(nl=null,e=Ld(r),e=hn(e),e!==null)if(t=Fn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Wh(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nl=e,null}function np(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ly()){case Fd:return 1;case Qh:return 4;case el:case Fy:return 16;case qh:return 536870912;default:return 16}default:return 16}}var Us=null,Ud=null,Mo=null;function rp(){if(Mo)return Mo;var e,t=Ud,s=t.length,r,a="value"in Us?Us.value:Us.textContent,o=a.length;for(e=0;e<s&&t[e]===a[e];e++);var l=s-e;for(r=1;r<=l&&t[s-r]===a[o-r];r++);return Mo=a.slice(e,1<r?1-r:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function um(){return!1}function jt(e){function t(s,r,a,o,l){this._reactName=s,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(s=e[i],this[i]=s?s(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fo:um,this.isPropagationStopped=um,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vd=jt(Vr),qa=Ee({},Vr,{view:0,detail:0}),Jy=jt(qa),xi,gi,ea,Il=Ee({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ea&&(ea&&e.type==="mousemove"?(xi=e.screenX-ea.screenX,gi=e.screenY-ea.screenY):gi=xi=0,ea=e),xi)},movementY:function(e){return"movementY"in e?e.movementY:gi}}),mm=jt(Il),Yy=Ee({},Il,{dataTransfer:0}),Xy=jt(Yy),Zy=Ee({},qa,{relatedTarget:0}),vi=jt(Zy),ew=Ee({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),tw=jt(ew),sw=Ee({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nw=jt(sw),rw=Ee({},Vr,{data:0}),fm=jt(rw),aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ow={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lw[e])?!!t[e]:!1}function Bd(){return iw}var cw=Ee({},qa,{key:function(e){if(e.key){var t=aw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ow[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bd,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dw=jt(cw),uw=Ee({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=jt(uw),mw=Ee({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bd}),fw=jt(mw),hw=Ee({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pw=jt(hw),xw=Ee({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gw=jt(xw),vw=[9,13,27,32],Wd=hs&&"CompositionEvent"in window,ha=null;hs&&"documentMode"in document&&(ha=document.documentMode);var yw=hs&&"TextEvent"in window&&!ha,ap=hs&&(!Wd||ha&&8<ha&&11>=ha),pm=" ",xm=!1;function op(e,t){switch(e){case"keyup":return vw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kn=!1;function ww(e,t){switch(e){case"compositionend":return lp(t);case"keypress":return t.which!==32?null:(xm=!0,pm);case"textInput":return e=t.data,e===pm&&xm?null:e;default:return null}}function bw(e,t){if(Kn)return e==="compositionend"||!Wd&&op(e,t)?(e=rp(),Mo=Ud=Us=null,Kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ap&&t.locale!=="ko"?null:t.data;default:return null}}var jw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jw[e.type]:t==="textarea"}function ip(e,t,s,r){$h(r),t=rl(t,"onChange"),0<t.length&&(s=new Vd("onChange","change",null,s,r),e.push({event:s,listeners:t}))}var pa=null,Pa=null;function Nw(e){yp(e,0)}function Al(e){var t=qn(e);if(Ah(t))return e}function Sw(e,t){if(e==="change")return t}var cp=!1;if(hs){var yi;if(hs){var wi="oninput"in document;if(!wi){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),wi=typeof vm.oninput=="function"}yi=wi}else yi=!1;cp=yi&&(!document.documentMode||9<document.documentMode)}function ym(){pa&&(pa.detachEvent("onpropertychange",dp),Pa=pa=null)}function dp(e){if(e.propertyName==="value"&&Al(Pa)){var t=[];ip(t,Pa,e,Ld(e)),Bh(Nw,t)}}function kw(e,t,s){e==="focusin"?(ym(),pa=t,Pa=s,pa.attachEvent("onpropertychange",dp)):e==="focusout"&&ym()}function Cw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Al(Pa)}function Ew(e,t){if(e==="click")return Al(t)}function Pw(e,t){if(e==="input"||e==="change")return Al(t)}function Tw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Tw;function Ta(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var a=s[r];if(!ec.call(t,a)||!zt(e[a],t[a]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bm(e,t){var s=wm(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wm(s)}}function up(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?up(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mp(){for(var e=window,t=Yo();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Yo(e.document)}return t}function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Rw(e){var t=mp(),s=e.focusedElem,r=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&up(s.ownerDocument.documentElement,s)){if(r!==null&&Hd(s)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=bm(s,o);var l=bm(s,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Iw=hs&&"documentMode"in document&&11>=document.documentMode,Gn=null,yc=null,xa=null,wc=!1;function jm(e,t,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;wc||Gn==null||Gn!==Yo(r)||(r=Gn,"selectionStart"in r&&Hd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&Ta(xa,r)||(xa=r,r=rl(yc,"onSelect"),0<r.length&&(t=new Vd("onSelect","select",null,t,s),e.push({event:t,listeners:r}),t.target=Gn)))}function ho(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Qn={animationend:ho("Animation","AnimationEnd"),animationiteration:ho("Animation","AnimationIteration"),animationstart:ho("Animation","AnimationStart"),transitionend:ho("Transition","TransitionEnd")},bi={},fp={};hs&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function Dl(e){if(bi[e])return bi[e];if(!Qn[e])return e;var t=Qn[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in fp)return bi[e]=t[s];return e}var hp=Dl("animationend"),pp=Dl("animationiteration"),xp=Dl("animationstart"),gp=Dl("transitionend"),vp=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){vp.set(e,t),Ln(t,[e])}for(var ji=0;ji<Nm.length;ji++){var Ni=Nm[ji],Aw=Ni.toLowerCase(),Dw=Ni[0].toUpperCase()+Ni.slice(1);nn(Aw,"on"+Dw)}nn(hp,"onAnimationEnd");nn(pp,"onAnimationIteration");nn(xp,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(gp,"onTransitionEnd");Pr("onMouseEnter",["mouseout","mouseover"]);Pr("onMouseLeave",["mouseout","mouseover"]);Pr("onPointerEnter",["pointerout","pointerover"]);Pr("onPointerLeave",["pointerout","pointerover"]);Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Sm(e,t,s){var r=e.type||"unknown-event";e.currentTarget=s,Ay(r,t,void 0,e),e.currentTarget=null}function yp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],c=i.instance,d=i.currentTarget;if(i=i.listener,c!==o&&a.isPropagationStopped())break e;Sm(a,i,d),o=c}else for(l=0;l<r.length;l++){if(i=r[l],c=i.instance,d=i.currentTarget,i=i.listener,c!==o&&a.isPropagationStopped())break e;Sm(a,i,d),o=c}}}if(Zo)throw e=pc,Zo=!1,pc=null,e}function ye(e,t){var s=t[kc];s===void 0&&(s=t[kc]=new Set);var r=e+"__bubble";s.has(r)||(wp(t,e,2,!1),s.add(r))}function Si(e,t,s){var r=0;t&&(r|=4),wp(s,e,r,t)}var po="_reactListening"+Math.random().toString(36).slice(2);function Ra(e){if(!e[po]){e[po]=!0,Eh.forEach(function(s){s!=="selectionchange"&&(Mw.has(s)||Si(s,!1,e),Si(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[po]||(t[po]=!0,Si("selectionchange",!1,t))}}function wp(e,t,s,r){switch(np(t)){case 1:var a=Qy;break;case 4:a=qy;break;default:a=zd}s=a.bind(null,t,s,e),a=void 0,!hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,s,{capture:!0,passive:a}):e.addEventListener(t,s,!0):a!==void 0?e.addEventListener(t,s,{passive:a}):e.addEventListener(t,s,!1)}function ki(e,t,s,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var i=r.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;i!==null;){if(l=hn(i),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}i=i.parentNode}}r=r.return}Bh(function(){var d=o,p=Ld(s),m=[];e:{var h=vp.get(e);if(h!==void 0){var j=Vd,v=e;switch(e){case"keypress":if(Oo(s)===0)break e;case"keydown":case"keyup":j=dw;break;case"focusin":v="focus",j=vi;break;case"focusout":v="blur",j=vi;break;case"beforeblur":case"afterblur":j=vi;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=mm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fw;break;case hp:case pp:case xp:j=tw;break;case gp:j=pw;break;case"scroll":j=Jy;break;case"wheel":j=gw;break;case"copy":case"cut":case"paste":j=nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=hm}var u=(t&4)!==0,b=!u&&e==="scroll",y=u?h!==null?h+"Capture":null:h;u=[];for(var f=d,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Sa(f,y),w!=null&&u.push(Ia(f,w,g)))),b)break;f=f.return}0<u.length&&(h=new j(h,v,null,s,p),m.push({event:h,listeners:u}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",h&&s!==mc&&(v=s.relatedTarget||s.fromElement)&&(hn(v)||v[ps]))break e;if((j||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,j?(v=s.relatedTarget||s.toElement,j=d,v=v?hn(v):null,v!==null&&(b=Fn(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(j=null,v=d),j!==v)){if(u=mm,w="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(u=hm,w="onPointerLeave",y="onPointerEnter",f="pointer"),b=j==null?h:qn(j),g=v==null?h:qn(v),h=new u(w,f+"leave",j,s,p),h.target=b,h.relatedTarget=g,w=null,hn(p)===d&&(u=new u(y,f+"enter",v,s,p),u.target=g,u.relatedTarget=b,w=u),b=w,j&&v)t:{for(u=j,y=v,f=0,g=u;g;g=$n(g))f++;for(g=0,w=y;w;w=$n(w))g++;for(;0<f-g;)u=$n(u),f--;for(;0<g-f;)y=$n(y),g--;for(;f--;){if(u===y||y!==null&&u===y.alternate)break t;u=$n(u),y=$n(y)}u=null}else u=null;j!==null&&km(m,h,j,u,!1),v!==null&&b!==null&&km(m,b,v,u,!0)}}e:{if(h=d?qn(d):window,j=h.nodeName&&h.nodeName.toLowerCase(),j==="select"||j==="input"&&h.type==="file")var N=Sw;else if(gm(h))if(cp)N=Pw;else{N=Cw;var E=kw}else(j=h.nodeName)&&j.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Ew);if(N&&(N=N(e,d))){ip(m,N,s,p);break e}E&&E(e,h,d),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&lc(h,"number",h.value)}switch(E=d?qn(d):window,e){case"focusin":(gm(E)||E.contentEditable==="true")&&(Gn=E,yc=d,xa=null);break;case"focusout":xa=yc=Gn=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,jm(m,s,p);break;case"selectionchange":if(Iw)break;case"keydown":case"keyup":jm(m,s,p)}var S;if(Wd)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?op(e,s)&&(k="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(k="onCompositionStart");k&&(ap&&s.locale!=="ko"&&(Kn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Kn&&(S=rp()):(Us=p,Ud="value"in Us?Us.value:Us.textContent,Kn=!0)),E=rl(d,k),0<E.length&&(k=new fm(k,e,null,s,p),m.push({event:k,listeners:E}),S?k.data=S:(S=lp(s),S!==null&&(k.data=S)))),(S=yw?ww(e,s):bw(e,s))&&(d=rl(d,"onBeforeInput"),0<d.length&&(p=new fm("onBeforeInput","beforeinput",null,s,p),m.push({event:p,listeners:d}),p.data=S))}yp(m,t)})}function Ia(e,t,s){return{instance:e,listener:t,currentTarget:s}}function rl(e,t){for(var s=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Sa(e,s),o!=null&&r.unshift(Ia(e,o,a)),o=Sa(e,t),o!=null&&r.push(Ia(e,o,a))),e=e.return}return r}function $n(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function km(e,t,s,r,a){for(var o=t._reactName,l=[];s!==null&&s!==r;){var i=s,c=i.alternate,d=i.stateNode;if(c!==null&&c===r)break;i.tag===5&&d!==null&&(i=d,a?(c=Sa(s,o),c!=null&&l.unshift(Ia(s,c,i))):a||(c=Sa(s,o),c!=null&&l.push(Ia(s,c,i)))),s=s.return}l.length!==0&&e.push({event:t,listeners:l})}var Ow=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(Ow,`
`).replace(Lw,"")}function xo(e,t,s){if(t=Cm(t),Cm(e)!==t&&s)throw Error($(425))}function al(){}var bc=null,jc=null;function Nc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sc=typeof setTimeout=="function"?setTimeout:void 0,Fw=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,_w=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(e){return Em.resolve(null).then(e).catch($w)}:Sc;function $w(e){setTimeout(function(){throw e})}function Ci(e,t){var s=t,r=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(r===0){e.removeChild(a),Ea(t);return}r--}else s!=="$"&&s!=="$?"&&s!=="$!"||r++;s=a}while(s);Ea(t)}function Ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),qt="__reactFiber$"+Br,Aa="__reactProps$"+Br,ps="__reactContainer$"+Br,kc="__reactEvents$"+Br,zw="__reactListeners$"+Br,Uw="__reactHandles$"+Br;function hn(e){var t=e[qt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ps]||s[qt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=Pm(e);e!==null;){if(s=e[qt])return s;e=Pm(e)}return t}e=s,s=e.parentNode}return null}function Ja(e){return e=e[qt]||e[ps],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Ml(e){return e[Aa]||null}var Cc=[],Jn=-1;function rn(e){return{current:e}}function we(e){0>Jn||(e.current=Cc[Jn],Cc[Jn]=null,Jn--)}function ge(e,t){Jn++,Cc[Jn]=e.current,e.current=t}var Zs={},Je=rn(Zs),ct=rn(!1),Cn=Zs;function Tr(e,t){var s=e.type.contextTypes;if(!s)return Zs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in s)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function ol(){we(ct),we(Je)}function Tm(e,t,s){if(Je.current!==Zs)throw Error($(168));ge(Je,t),ge(ct,s)}function bp(e,t,s){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return s;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error($(108,ky(e)||"Unknown",a));return Ee({},s,r)}function ll(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zs,Cn=Je.current,ge(Je,e),ge(ct,ct.current),!0}function Rm(e,t,s){var r=e.stateNode;if(!r)throw Error($(169));s?(e=bp(e,t,Cn),r.__reactInternalMemoizedMergedChildContext=e,we(ct),we(Je),ge(Je,e)):we(ct),ge(ct,s)}var os=null,Ol=!1,Ei=!1;function jp(e){os===null?os=[e]:os.push(e)}function Vw(e){Ol=!0,jp(e)}function an(){if(!Ei&&os!==null){Ei=!0;var e=0,t=xe;try{var s=os;for(xe=1;e<s.length;e++){var r=s[e];do r=r(!0);while(r!==null)}os=null,Ol=!1}catch(a){throw os!==null&&(os=os.slice(e+1)),Gh(Fd,an),a}finally{xe=t,Ei=!1}}return null}var Yn=[],Xn=0,il=null,cl=0,kt=[],Ct=0,En=null,is=1,cs="";function mn(e,t){Yn[Xn++]=cl,Yn[Xn++]=il,il=e,cl=t}function Np(e,t,s){kt[Ct++]=is,kt[Ct++]=cs,kt[Ct++]=En,En=e;var r=is;e=cs;var a=32-_t(r)-1;r&=~(1<<a),s+=1;var o=32-_t(t)+a;if(30<o){var l=a-a%5;o=(r&(1<<l)-1).toString(32),r>>=l,a-=l,is=1<<32-_t(t)+a|s<<a|r,cs=o+e}else is=1<<o|s<<a|r,cs=e}function Kd(e){e.return!==null&&(mn(e,1),Np(e,1,0))}function Gd(e){for(;e===il;)il=Yn[--Xn],Yn[Xn]=null,cl=Yn[--Xn],Yn[Xn]=null;for(;e===En;)En=kt[--Ct],kt[Ct]=null,cs=kt[--Ct],kt[Ct]=null,is=kt[--Ct],kt[Ct]=null}var vt=null,gt=null,je=!1,Lt=null;function Sp(e,t){var s=Et(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function Im(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=Ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=En!==null?{id:is,overflow:cs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Et(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,vt=e,gt=null,!0):!1;default:return!1}}function Ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pc(e){if(je){var t=gt;if(t){var s=t;if(!Im(e,t)){if(Ec(e))throw Error($(418));t=Ks(s.nextSibling);var r=vt;t&&Im(e,t)?Sp(r,s):(e.flags=e.flags&-4097|2,je=!1,vt=e)}}else{if(Ec(e))throw Error($(418));e.flags=e.flags&-4097|2,je=!1,vt=e}}}function Am(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function go(e){if(e!==vt)return!1;if(!je)return Am(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nc(e.type,e.memoizedProps)),t&&(t=gt)){if(Ec(e))throw kp(),Error($(418));for(;t;)Sp(e,t),t=Ks(t.nextSibling)}if(Am(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){gt=Ks(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?Ks(e.stateNode.nextSibling):null;return!0}function kp(){for(var e=gt;e;)e=Ks(e.nextSibling)}function Rr(){gt=vt=null,je=!1}function Qd(e){Lt===null?Lt=[e]:Lt.push(e)}var Bw=bs.ReactCurrentBatchConfig;function ta(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error($(309));var r=s.stateNode}if(!r)throw Error($(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var i=a.refs;l===null?delete i[o]:i[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error($(284));if(!s._owner)throw Error($(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Dm(e){var t=e._init;return t(e._payload)}function Cp(e){function t(y,f){if(e){var g=y.deletions;g===null?(y.deletions=[f],y.flags|=16):g.push(f)}}function s(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function a(y,f){return y=Js(y,f),y.index=0,y.sibling=null,y}function o(y,f,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<f?(y.flags|=2,f):g):(y.flags|=2,f)):(y.flags|=1048576,f)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function i(y,f,g,w){return f===null||f.tag!==6?(f=Mi(g,y.mode,w),f.return=y,f):(f=a(f,g),f.return=y,f)}function c(y,f,g,w){var N=g.type;return N===Hn?p(y,f,g.props.children,w,g.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ps&&Dm(N)===f.type)?(w=a(f,g.props),w.ref=ta(y,f,g),w.return=y,w):(w=Vo(g.type,g.key,g.props,null,y.mode,w),w.ref=ta(y,f,g),w.return=y,w)}function d(y,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=Oi(g,y.mode,w),f.return=y,f):(f=a(f,g.children||[]),f.return=y,f)}function p(y,f,g,w,N){return f===null||f.tag!==7?(f=kn(g,y.mode,w,N),f.return=y,f):(f=a(f,g),f.return=y,f)}function m(y,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Mi(""+f,y.mode,g),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case oo:return g=Vo(f.type,f.key,f.props,null,y.mode,g),g.ref=ta(y,null,f),g.return=y,g;case Wn:return f=Oi(f,y.mode,g),f.return=y,f;case Ps:var w=f._init;return m(y,w(f._payload),g)}if(la(f)||Jr(f))return f=kn(f,y.mode,g,null),f.return=y,f;vo(y,f)}return null}function h(y,f,g,w){var N=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:i(y,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case oo:return g.key===N?c(y,f,g,w):null;case Wn:return g.key===N?d(y,f,g,w):null;case Ps:return N=g._init,h(y,f,N(g._payload),w)}if(la(g)||Jr(g))return N!==null?null:p(y,f,g,w,null);vo(y,g)}return null}function j(y,f,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,i(f,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oo:return y=y.get(w.key===null?g:w.key)||null,c(f,y,w,N);case Wn:return y=y.get(w.key===null?g:w.key)||null,d(f,y,w,N);case Ps:var E=w._init;return j(y,f,g,E(w._payload),N)}if(la(w)||Jr(w))return y=y.get(g)||null,p(f,y,w,N,null);vo(f,w)}return null}function v(y,f,g,w){for(var N=null,E=null,S=f,k=f=0,T=null;S!==null&&k<g.length;k++){S.index>k?(T=S,S=null):T=S.sibling;var A=h(y,S,g[k],w);if(A===null){S===null&&(S=T);break}e&&S&&A.alternate===null&&t(y,S),f=o(A,f,k),E===null?N=A:E.sibling=A,E=A,S=T}if(k===g.length)return s(y,S),je&&mn(y,k),N;if(S===null){for(;k<g.length;k++)S=m(y,g[k],w),S!==null&&(f=o(S,f,k),E===null?N=S:E.sibling=S,E=S);return je&&mn(y,k),N}for(S=r(y,S);k<g.length;k++)T=j(S,y,k,g[k],w),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?k:T.key),f=o(T,f,k),E===null?N=T:E.sibling=T,E=T);return e&&S.forEach(function(R){return t(y,R)}),je&&mn(y,k),N}function u(y,f,g,w){var N=Jr(g);if(typeof N!="function")throw Error($(150));if(g=N.call(g),g==null)throw Error($(151));for(var E=N=null,S=f,k=f=0,T=null,A=g.next();S!==null&&!A.done;k++,A=g.next()){S.index>k?(T=S,S=null):T=S.sibling;var R=h(y,S,A.value,w);if(R===null){S===null&&(S=T);break}e&&S&&R.alternate===null&&t(y,S),f=o(R,f,k),E===null?N=R:E.sibling=R,E=R,S=T}if(A.done)return s(y,S),je&&mn(y,k),N;if(S===null){for(;!A.done;k++,A=g.next())A=m(y,A.value,w),A!==null&&(f=o(A,f,k),E===null?N=A:E.sibling=A,E=A);return je&&mn(y,k),N}for(S=r(y,S);!A.done;k++,A=g.next())A=j(S,y,k,A.value,w),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?k:A.key),f=o(A,f,k),E===null?N=A:E.sibling=A,E=A);return e&&S.forEach(function(D){return t(y,D)}),je&&mn(y,k),N}function b(y,f,g,w){if(typeof g=="object"&&g!==null&&g.type===Hn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case oo:e:{for(var N=g.key,E=f;E!==null;){if(E.key===N){if(N=g.type,N===Hn){if(E.tag===7){s(y,E.sibling),f=a(E,g.props.children),f.return=y,y=f;break e}}else if(E.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ps&&Dm(N)===E.type){s(y,E.sibling),f=a(E,g.props),f.ref=ta(y,E,g),f.return=y,y=f;break e}s(y,E);break}else t(y,E);E=E.sibling}g.type===Hn?(f=kn(g.props.children,y.mode,w,g.key),f.return=y,y=f):(w=Vo(g.type,g.key,g.props,null,y.mode,w),w.ref=ta(y,f,g),w.return=y,y=w)}return l(y);case Wn:e:{for(E=g.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){s(y,f.sibling),f=a(f,g.children||[]),f.return=y,y=f;break e}else{s(y,f);break}else t(y,f);f=f.sibling}f=Oi(g,y.mode,w),f.return=y,y=f}return l(y);case Ps:return E=g._init,b(y,f,E(g._payload),w)}if(la(g))return v(y,f,g,w);if(Jr(g))return u(y,f,g,w);vo(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(s(y,f.sibling),f=a(f,g),f.return=y,y=f):(s(y,f),f=Mi(g,y.mode,w),f.return=y,y=f),l(y)):s(y,f)}return b}var Ir=Cp(!0),Ep=Cp(!1),dl=rn(null),ul=null,Zn=null,qd=null;function Jd(){qd=Zn=ul=null}function Yd(e){var t=dl.current;we(dl),e._currentValue=t}function Tc(e,t,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===s)break;e=e.return}}function lr(e,t){ul=e,qd=Zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(qd!==e)if(e={context:e,memoizedValue:t,next:null},Zn===null){if(ul===null)throw Error($(308));Zn=e,ul.dependencies={lanes:0,firstContext:e}}else Zn=Zn.next=e;return t}var pn=null;function Xd(e){pn===null?pn=[e]:pn.push(e)}function Pp(e,t,s,r){var a=t.interleaved;return a===null?(s.next=s,Xd(t)):(s.next=a.next,a.next=s),t.interleaved=s,xs(e,r)}function xs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ts=!1;function Zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(e,t,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,xs(e,s)}return a=r.interleaved,a===null?(t.next=t,Xd(r)):(t.next=a.next,a.next=t),r.interleaved=t,xs(e,s)}function Lo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,_d(e,s)}}function Mm(e,t){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var a=null,o=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};o===null?a=o=l:o=o.next=l,s=s.next}while(s!==null);o===null?a=o=t:o=o.next=t}else a=o=t;s={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ml(e,t,s,r){var a=e.updateQueue;Ts=!1;var o=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var c=i,d=c.next;c.next=null,l===null?o=d:l.next=d,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,i=p.lastBaseUpdate,i!==l&&(i===null?p.firstBaseUpdate=d:i.next=d,p.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;l=0,p=d=c=null,i=o;do{var h=i.lane,j=i.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:j,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var v=e,u=i;switch(h=t,j=s,u.tag){case 1:if(v=u.payload,typeof v=="function"){m=v.call(j,m,h);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=u.payload,h=typeof v=="function"?v.call(j,m,h):v,h==null)break e;m=Ee({},m,h);break e;case 2:Ts=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[i]:h.push(i))}else j={eventTime:j,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},p===null?(d=p=j,c=m):p=p.next=j,l|=h;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;h=i,i=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(p===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Tn|=l,e.lanes=l,e.memoizedState=m}}function Om(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=s,typeof a!="function")throw Error($(191,a));a.call(r)}}}var Ya={},Xt=rn(Ya),Da=rn(Ya),Ma=rn(Ya);function xn(e){if(e===Ya)throw Error($(174));return e}function eu(e,t){switch(ge(Ma,t),ge(Da,e),ge(Xt,Ya),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cc(t,e)}we(Xt),ge(Xt,t)}function Ar(){we(Xt),we(Da),we(Ma)}function Rp(e){xn(Ma.current);var t=xn(Xt.current),s=cc(t,e.type);t!==s&&(ge(Da,e),ge(Xt,s))}function tu(e){Da.current===e&&(we(Xt),we(Da))}var Se=rn(0);function fl(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pi=[];function su(){for(var e=0;e<Pi.length;e++)Pi[e]._workInProgressVersionPrimary=null;Pi.length=0}var Fo=bs.ReactCurrentDispatcher,Ti=bs.ReactCurrentBatchConfig,Pn=0,Ce=null,Oe=null,_e=null,hl=!1,ga=!1,Oa=0,Ww=0;function We(){throw Error($(321))}function nu(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!zt(e[s],t[s]))return!1;return!0}function ru(e,t,s,r,a,o){if(Pn=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fo.current=e===null||e.memoizedState===null?Qw:qw,e=s(r,a),ga){o=0;do{if(ga=!1,Oa=0,25<=o)throw Error($(301));o+=1,_e=Oe=null,t.updateQueue=null,Fo.current=Jw,e=s(r,a)}while(ga)}if(Fo.current=pl,t=Oe!==null&&Oe.next!==null,Pn=0,_e=Oe=Ce=null,hl=!1,t)throw Error($(300));return e}function au(){var e=Oa!==0;return Oa=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Ce.memoizedState=_e=e:_e=_e.next=e,_e}function Rt(){if(Oe===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=_e===null?Ce.memoizedState:_e.next;if(t!==null)_e=t,Oe=e;else{if(e===null)throw Error($(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},_e===null?Ce.memoizedState=_e=e:_e=_e.next=e}return _e}function La(e,t){return typeof t=="function"?t(e):t}function Ri(e){var t=Rt(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=Oe,a=r.baseQueue,o=s.pending;if(o!==null){if(a!==null){var l=a.next;a.next=o.next,o.next=l}r.baseQueue=a=o,s.pending=null}if(a!==null){o=a.next,r=r.baseState;var i=l=null,c=null,d=o;do{var p=d.lane;if((Pn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(i=c=m,l=r):c=c.next=m,Ce.lanes|=p,Tn|=p}d=d.next}while(d!==null&&d!==o);c===null?l=r:c.next=i,zt(r,t.memoizedState)||(it=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,s.lastRenderedState=r}if(e=s.interleaved,e!==null){a=e;do o=a.lane,Ce.lanes|=o,Tn|=o,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Ii(e){var t=Rt(),s=t.queue;if(s===null)throw Error($(311));s.lastRenderedReducer=e;var r=s.dispatch,a=s.pending,o=t.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do o=e(o,l.action),l=l.next;while(l!==a);zt(o,t.memoizedState)||(it=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),s.lastRenderedState=o}return[o,r]}function Ip(){}function Ap(e,t){var s=Ce,r=Rt(),a=t(),o=!zt(r.memoizedState,a);if(o&&(r.memoizedState=a,it=!0),r=r.queue,ou(Op.bind(null,s,r,e),[e]),r.getSnapshot!==t||o||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,Fa(9,Mp.bind(null,s,r,a,t),void 0,null),$e===null)throw Error($(349));Pn&30||Dp(s,t,a)}return a}function Dp(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Mp(e,t,s,r){t.value=s,t.getSnapshot=r,Lp(t)&&Fp(e)}function Op(e,t,s){return s(function(){Lp(t)&&Fp(e)})}function Lp(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!zt(e,s)}catch{return!0}}function Fp(e){var t=xs(e,1);t!==null&&$t(t,e,1,-1)}function Lm(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t.queue=e,e=e.dispatch=Gw.bind(null,Ce,e),[t.memoizedState,e]}function Fa(e,t,s,r){return e={tag:e,create:t,destroy:s,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,t.lastEffect=e)),e}function _p(){return Rt().memoizedState}function _o(e,t,s,r){var a=Wt();Ce.flags|=e,a.memoizedState=Fa(1|t,s,void 0,r===void 0?null:r)}function Ll(e,t,s,r){var a=Rt();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var l=Oe.memoizedState;if(o=l.destroy,r!==null&&nu(r,l.deps)){a.memoizedState=Fa(t,s,o,r);return}}Ce.flags|=e,a.memoizedState=Fa(1|t,s,o,r)}function Fm(e,t){return _o(8390656,8,e,t)}function ou(e,t){return Ll(2048,8,e,t)}function $p(e,t){return Ll(4,2,e,t)}function zp(e,t){return Ll(4,4,e,t)}function Up(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vp(e,t,s){return s=s!=null?s.concat([e]):null,Ll(4,4,Up.bind(null,t,e),s)}function lu(){}function Bp(e,t){var s=Rt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&nu(t,r[1])?r[0]:(s.memoizedState=[e,t],e)}function Wp(e,t){var s=Rt();t=t===void 0?null:t;var r=s.memoizedState;return r!==null&&t!==null&&nu(t,r[1])?r[0]:(e=e(),s.memoizedState=[e,t],e)}function Hp(e,t,s){return Pn&21?(zt(s,t)||(s=Jh(),Ce.lanes|=s,Tn|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=s)}function Hw(e,t){var s=xe;xe=s!==0&&4>s?s:4,e(!0);var r=Ti.transition;Ti.transition={};try{e(!1),t()}finally{xe=s,Ti.transition=r}}function Kp(){return Rt().memoizedState}function Kw(e,t,s){var r=qs(e);if(s={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null},Gp(e))Qp(t,s);else if(s=Pp(e,t,s,r),s!==null){var a=tt();$t(s,e,r,a),qp(s,t,r)}}function Gw(e,t,s){var r=qs(e),a={lane:r,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gp(e))Qp(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,i=o(l,s);if(a.hasEagerState=!0,a.eagerState=i,zt(i,l)){var c=t.interleaved;c===null?(a.next=a,Xd(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}s=Pp(e,t,a,r),s!==null&&(a=tt(),$t(s,e,r,a),qp(s,t,r))}}function Gp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Qp(e,t){ga=hl=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function qp(e,t,s){if(s&4194240){var r=t.lanes;r&=e.pendingLanes,s|=r,t.lanes=s,_d(e,s)}}var pl={readContext:Tt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Qw={readContext:Tt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:Fm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,_o(4194308,4,Up.bind(null,t,e),s)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var s=Wt();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var r=Wt();return t=s!==void 0?s(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Kw.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Lm,useDebugValue:lu,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Lm(!1),t=e[0];return e=Hw.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var r=Ce,a=Wt();if(je){if(s===void 0)throw Error($(407));s=s()}else{if(s=t(),$e===null)throw Error($(349));Pn&30||Dp(r,t,s)}a.memoizedState=s;var o={value:s,getSnapshot:t};return a.queue=o,Fm(Op.bind(null,r,o,e),[e]),r.flags|=2048,Fa(9,Mp.bind(null,r,o,s,t),void 0,null),s},useId:function(){var e=Wt(),t=$e.identifierPrefix;if(je){var s=cs,r=is;s=(r&~(1<<32-_t(r)-1)).toString(32)+s,t=":"+t+"R"+s,s=Oa++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Ww++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qw={readContext:Tt,useCallback:Bp,useContext:Tt,useEffect:ou,useImperativeHandle:Vp,useInsertionEffect:$p,useLayoutEffect:zp,useMemo:Wp,useReducer:Ri,useRef:_p,useState:function(){return Ri(La)},useDebugValue:lu,useDeferredValue:function(e){var t=Rt();return Hp(t,Oe.memoizedState,e)},useTransition:function(){var e=Ri(La)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Ip,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1},Jw={readContext:Tt,useCallback:Bp,useContext:Tt,useEffect:ou,useImperativeHandle:Vp,useInsertionEffect:$p,useLayoutEffect:zp,useMemo:Wp,useReducer:Ii,useRef:_p,useState:function(){return Ii(La)},useDebugValue:lu,useDeferredValue:function(e){var t=Rt();return Oe===null?t.memoizedState=e:Hp(t,Oe.memoizedState,e)},useTransition:function(){var e=Ii(La)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:Ip,useSyncExternalStore:Ap,useId:Kp,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function Rc(e,t,s,r){t=e.memoizedState,s=s(r,t),s=s==null?t:Ee({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Fl={isMounted:function(e){return(e=e._reactInternals)?Fn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var r=tt(),a=qs(e),o=ds(r,a);o.payload=t,s!=null&&(o.callback=s),t=Gs(e,o,a),t!==null&&($t(t,e,a,r),Lo(t,e,a))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var r=tt(),a=qs(e),o=ds(r,a);o.tag=1,o.payload=t,s!=null&&(o.callback=s),t=Gs(e,o,a),t!==null&&($t(t,e,a,r),Lo(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=tt(),r=qs(e),a=ds(s,r);a.tag=2,t!=null&&(a.callback=t),t=Gs(e,a,r),t!==null&&($t(t,e,r,s),Lo(t,e,r))}};function _m(e,t,s,r,a,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!Ta(s,r)||!Ta(a,o):!0}function Jp(e,t,s){var r=!1,a=Zs,o=t.contextType;return typeof o=="object"&&o!==null?o=Tt(o):(a=dt(t)?Cn:Je.current,r=t.contextTypes,o=(r=r!=null)?Tr(e,a):Zs),t=new t(s,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $m(e,t,s,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,r),t.state!==e&&Fl.enqueueReplaceState(t,t.state,null)}function Ic(e,t,s,r){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Zd(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=Tt(o):(o=dt(t)?Cn:Je.current,a.context=Tr(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Rc(e,t,o,s),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fl.enqueueReplaceState(a,a.state,null),ml(e,s,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var s="",r=t;do s+=Sy(r),r=r.return;while(r);var a=s}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function Ai(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Ac(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var Yw=typeof WeakMap=="function"?WeakMap:Map;function Yp(e,t,s){s=ds(-1,s),s.tag=3,s.payload={element:null};var r=t.value;return s.callback=function(){gl||(gl=!0,Vc=r),Ac(e,t)},s}function Xp(e,t,s){s=ds(-1,s),s.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;s.payload=function(){return r(a)},s.callback=function(){Ac(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){Ac(e,t),typeof r!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),s}function zm(e,t,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Yw;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(s)||(a.add(s),e=ub.bind(null,e,t,s),t.then(e,e))}function Um(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vm(e,t,s,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=ds(-1,1),t.tag=2,Gs(s,t,1))),s.lanes|=1),e)}var Xw=bs.ReactCurrentOwner,it=!1;function et(e,t,s,r){t.child=e===null?Ep(t,null,s,r):Ir(t,e.child,s,r)}function Bm(e,t,s,r,a){s=s.render;var o=t.ref;return lr(t,a),r=ru(e,t,s,r,o,a),s=au(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(je&&s&&Kd(t),t.flags|=1,et(e,t,r,a),t.child)}function Wm(e,t,s,r,a){if(e===null){var o=s.type;return typeof o=="function"&&!pu(o)&&o.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=o,Zp(e,t,o,r,a)):(e=Vo(s.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var l=o.memoizedProps;if(s=s.compare,s=s!==null?s:Ta,s(l,r)&&e.ref===t.ref)return gs(e,t,a)}return t.flags|=1,e=Js(o,r),e.ref=t.ref,e.return=t,t.child=e}function Zp(e,t,s,r,a){if(e!==null){var o=e.memoizedProps;if(Ta(o,r)&&e.ref===t.ref)if(it=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,gs(e,t,a)}return Dc(e,t,s,r,a)}function ex(e,t,s){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(tr,pt),pt|=s;else{if(!(s&1073741824))return e=o!==null?o.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(tr,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:s,ge(tr,pt),pt|=r}else o!==null?(r=o.baseLanes|s,t.memoizedState=null):r=s,ge(tr,pt),pt|=r;return et(e,t,a,s),t.child}function tx(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Dc(e,t,s,r,a){var o=dt(s)?Cn:Je.current;return o=Tr(t,o),lr(t,a),s=ru(e,t,s,r,o,a),r=au(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,gs(e,t,a)):(je&&r&&Kd(t),t.flags|=1,et(e,t,s,a),t.child)}function Hm(e,t,s,r,a){if(dt(s)){var o=!0;ll(t)}else o=!1;if(lr(t,a),t.stateNode===null)$o(e,t),Jp(t,s,r),Ic(t,s,r,a),r=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Tt(d):(d=dt(s)?Cn:Je.current,d=Tr(t,d));var p=s.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==r||c!==d)&&$m(t,l,r,d),Ts=!1;var h=t.memoizedState;l.state=h,ml(t,r,l,a),c=t.memoizedState,i!==r||h!==c||ct.current||Ts?(typeof p=="function"&&(Rc(t,s,p,r),c=t.memoizedState),(i=Ts||_m(t,s,i,r,h,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=d,r=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Tp(e,t),i=t.memoizedProps,d=t.type===t.elementType?i:Dt(t.type,i),l.props=d,m=t.pendingProps,h=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Tt(c):(c=dt(s)?Cn:Je.current,c=Tr(t,c));var j=s.getDerivedStateFromProps;(p=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==m||h!==c)&&$m(t,l,r,c),Ts=!1,h=t.memoizedState,l.state=h,ml(t,r,l,a);var v=t.memoizedState;i!==m||h!==v||ct.current||Ts?(typeof j=="function"&&(Rc(t,s,j,r),v=t.memoizedState),(d=Ts||_m(t,s,d,r,h,v,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Mc(e,t,s,r,o,a)}function Mc(e,t,s,r,a,o){tx(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Rm(t,s,!1),gs(e,t,o);r=t.stateNode,Xw.current=t;var i=l&&typeof s.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Ir(t,e.child,null,o),t.child=Ir(t,null,i,o)):et(e,t,i,o),t.memoizedState=r.state,a&&Rm(t,s,!0),t.child}function sx(e){var t=e.stateNode;t.pendingContext?Tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tm(e,t.context,!1),eu(e,t.containerInfo)}function Km(e,t,s,r,a){return Rr(),Qd(a),t.flags|=256,et(e,t,s,r),t.child}var Oc={dehydrated:null,treeContext:null,retryLane:0};function Lc(e){return{baseLanes:e,cachePool:null,transitions:null}}function nx(e,t,s){var r=t.pendingProps,a=Se.current,o=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ge(Se,a&1),e===null)return Pc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=zl(l,r,0,null),e=kn(e,r,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lc(s),t.memoizedState=Oc,e):iu(t,l));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Zw(e,t,l,r,i,a,s);if(o){o=r.fallback,l=t.mode,a=e.child,i=a.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Js(a,c),r.subtreeFlags=a.subtreeFlags&14680064),i!==null?o=Js(i,o):(o=kn(o,l,s,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?Lc(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Oc,r}return o=e.child,e=o.sibling,r=Js(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=s),r.return=t,r.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r}function iu(e,t){return t=zl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yo(e,t,s,r){return r!==null&&Qd(r),Ir(t,e.child,null,s),e=iu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zw(e,t,s,r,a,o,l){if(s)return t.flags&256?(t.flags&=-257,r=Ai(Error($(422))),yo(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=zl({mode:"visible",children:r.children},a,0,null),o=kn(o,a,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ir(t,e.child,null,l),t.child.memoizedState=Lc(l),t.memoizedState=Oc,o);if(!(t.mode&1))return yo(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var i=r.dgst;return r=i,o=Error($(419)),r=Ai(o,r,void 0),yo(e,t,l,r)}if(i=(l&e.childLanes)!==0,it||i){if(r=$e,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,xs(e,a),$t(r,e,a,-1))}return hu(),r=Ai(Error($(421))),yo(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=mb.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,gt=Ks(a.nextSibling),vt=t,je=!0,Lt=null,e!==null&&(kt[Ct++]=is,kt[Ct++]=cs,kt[Ct++]=En,is=e.id,cs=e.overflow,En=t),t=iu(t,r.children),t.flags|=4096,t)}function Gm(e,t,s){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tc(e.return,t,s)}function Di(e,t,s,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=s,o.tailMode=a)}function rx(e,t,s){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(et(e,t,r.children,s),r=Se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gm(e,s,t);else if(e.tag===19)Gm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ge(Se,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(s=t.child,a=null;s!==null;)e=s.alternate,e!==null&&fl(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=t.child,t.child=null):(a=s.sibling,s.sibling=null),Di(t,!1,a,s,o);break;case"backwards":for(s=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&fl(e)===null){t.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Di(t,!0,s,null,o);break;case"together":Di(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,s=Js(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=Js(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function eb(e,t,s){switch(t.tag){case 3:sx(t),Rr();break;case 5:Rp(t);break;case 1:dt(t.type)&&ll(t);break;case 4:eu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;ge(dl,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ge(Se,Se.current&1),t.flags|=128,null):s&t.child.childLanes?nx(e,t,s):(ge(Se,Se.current&1),e=gs(e,t,s),e!==null?e.sibling:null);ge(Se,Se.current&1);break;case 19:if(r=(s&t.childLanes)!==0,e.flags&128){if(r)return rx(e,t,s);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ge(Se,Se.current),r)break;return null;case 22:case 23:return t.lanes=0,ex(e,t,s)}return gs(e,t,s)}var ax,Fc,ox,lx;ax=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Fc=function(){};ox=function(e,t,s,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,xn(Xt.current);var o=null;switch(s){case"input":a=ac(e,a),r=ac(e,r),o=[];break;case"select":a=Ee({},a,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":a=ic(e,a),r=ic(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=al)}dc(s,r);var l;s=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var i=a[d];for(l in i)i.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ja.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(i=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&c!==i&&(c!=null||i!=null))if(d==="style")if(i){for(l in i)!i.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&i[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(o||(o=[]),o.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ja.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ye("scroll",e),o||i===c||(o=[])):(o=o||[]).push(d,c))}s&&(o=o||[]).push("style",s);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};lx=function(e,t,s,r){s!==r&&(t.flags|=4)};function sa(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(t)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=s,t}function tb(e,t,s){var r=t.pendingProps;switch(Gd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return dt(t.type)&&ol(),He(t),null;case 3:return r=t.stateNode,Ar(),we(ct),we(Je),su(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(go(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Hc(Lt),Lt=null))),Fc(e,t),He(t),null;case 5:tu(t);var a=xn(Ma.current);if(s=t.type,e!==null&&t.stateNode!=null)ox(e,t,s,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return He(t),null}if(e=xn(Xt.current),go(t)){r=t.stateNode,s=t.type;var o=t.memoizedProps;switch(r[qt]=t,r[Aa]=o,e=(t.mode&1)!==0,s){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(a=0;a<ca.length;a++)ye(ca[a],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":sm(r,o),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ye("invalid",r);break;case"textarea":rm(r,o),ye("invalid",r)}dc(s,o),a=null;for(var l in o)if(o.hasOwnProperty(l)){var i=o[l];l==="children"?typeof i=="string"?r.textContent!==i&&(o.suppressHydrationWarning!==!0&&xo(r.textContent,i,e),a=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&xo(r.textContent,i,e),a=["children",""+i]):ja.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&ye("scroll",r)}switch(s){case"input":lo(r),nm(r,o,!0);break;case"textarea":lo(r),am(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=al)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oh(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(s,{is:r.is}):(e=l.createElement(s),s==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,s),e[qt]=t,e[Aa]=r,ax(e,t,!1,!1),t.stateNode=e;e:{switch(l=uc(s,r),s){case"dialog":ye("cancel",e),ye("close",e),a=r;break;case"iframe":case"object":case"embed":ye("load",e),a=r;break;case"video":case"audio":for(a=0;a<ca.length;a++)ye(ca[a],e);a=r;break;case"source":ye("error",e),a=r;break;case"img":case"image":case"link":ye("error",e),ye("load",e),a=r;break;case"details":ye("toggle",e),a=r;break;case"input":sm(e,r),a=ac(e,r),ye("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ee({},r,{value:void 0}),ye("invalid",e);break;case"textarea":rm(e,r),a=ic(e,r),ye("invalid",e);break;default:a=r}dc(s,a),i=a;for(o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="style"?_h(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lh(e,c)):o==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&Na(e,c):typeof c=="number"&&Na(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ja.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ye("scroll",e):c!=null&&Ad(e,o,c,l))}switch(s){case"input":lo(e),nm(e,r,!1);break;case"textarea":lo(e),am(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?nr(e,!!r.multiple,o,!1):r.defaultValue!=null&&nr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=al)}switch(s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)lx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(s=xn(Ma.current),xn(Xt.current),go(t)){if(r=t.stateNode,s=t.memoizedProps,r[qt]=t,(o=r.nodeValue!==s)&&(e=vt,e!==null))switch(e.tag){case 3:xo(r.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,s,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(s.nodeType===9?s:s.ownerDocument).createTextNode(r),r[qt]=t,t.stateNode=r}return He(t),null;case 13:if(we(Se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&gt!==null&&t.mode&1&&!(t.flags&128))kp(),Rr(),t.flags|=98560,o=!1;else if(o=go(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error($(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[qt]=t}else Rr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else Lt!==null&&(Hc(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Fe===0&&(Fe=3):hu())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Ar(),Fc(e,t),e===null&&Ra(t.stateNode.containerInfo),He(t),null;case 10:return Yd(t.type._context),He(t),null;case 17:return dt(t.type)&&ol(),He(t),null;case 19:if(we(Se),o=t.memoizedState,o===null)return He(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)sa(o,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=fl(e),l!==null){for(t.flags|=128,sa(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=s,s=t.child;s!==null;)o=s,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ge(Se,Se.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>Mr&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304)}else{if(!r)if(e=fl(l),e!==null){if(t.flags|=128,r=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!je)return He(t),null}else 2*Re()-o.renderingStartTime>Mr&&s!==1073741824&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(s=o.last,s!==null?s.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,s=Se.current,ge(Se,r?s&1|2:s&1),t):(He(t),null);case 22:case 23:return fu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?pt&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function sb(e,t){switch(Gd(t),t.tag){case 1:return dt(t.type)&&ol(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ar(),we(ct),we(Je),su(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tu(t),null;case 13:if(we(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Rr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Se),null;case 4:return Ar(),null;case 10:return Yd(t.type._context),null;case 22:case 23:return fu(),null;case 24:return null;default:return null}}var wo=!1,Ge=!1,nb=typeof WeakSet=="function"?WeakSet:Set,W=null;function er(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(r){Te(e,t,r)}else s.current=null}function _c(e,t,s){try{s()}catch(r){Te(e,t,r)}}var Qm=!1;function rb(e,t){if(bc=sl,e=mp(),Hd(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{s.nodeType,o.nodeType}catch{s=null;break e}var l=0,i=-1,c=-1,d=0,p=0,m=e,h=null;t:for(;;){for(var j;m!==s||a!==0&&m.nodeType!==3||(i=l+a),m!==o||r!==0&&m.nodeType!==3||(c=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(j=m.firstChild)!==null;)h=m,m=j;for(;;){if(m===e)break t;if(h===s&&++d===a&&(i=l),h===o&&++p===r&&(c=l),(j=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=j}s=i===-1||c===-1?null:{start:i,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:e,selectionRange:s},sl=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var u=v.memoizedProps,b=v.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?u:Dt(t.type,u),b);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(w){Te(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return v=Qm,Qm=!1,v}function va(e,t,s){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&_c(t,s,o)}a=a.next}while(a!==r)}}function _l(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var r=s.create;s.destroy=r()}s=s.next}while(s!==t)}}function $c(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function ix(e){var t=e.alternate;t!==null&&(e.alternate=null,ix(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qt],delete t[Aa],delete t[kc],delete t[zw],delete t[Uw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cx(e){return e.tag===5||e.tag===3||e.tag===4}function qm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=al));else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,s),e=e.sibling;e!==null;)zc(e,t,s),e=e.sibling}function Uc(e,t,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uc(e,t,s),e=e.sibling;e!==null;)Uc(e,t,s),e=e.sibling}var Ue=null,Ot=!1;function js(e,t,s){for(s=s.child;s!==null;)dx(e,t,s),s=s.sibling}function dx(e,t,s){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Rl,s)}catch{}switch(s.tag){case 5:Ge||er(s,t);case 6:var r=Ue,a=Ot;Ue=null,js(e,t,s),Ue=r,Ot=a,Ue!==null&&(Ot?(e=Ue,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ue.removeChild(s.stateNode));break;case 18:Ue!==null&&(Ot?(e=Ue,s=s.stateNode,e.nodeType===8?Ci(e.parentNode,s):e.nodeType===1&&Ci(e,s),Ea(e)):Ci(Ue,s.stateNode));break;case 4:r=Ue,a=Ot,Ue=s.stateNode.containerInfo,Ot=!0,js(e,t,s),Ue=r,Ot=a;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=s.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&_c(s,t,l),a=a.next}while(a!==r)}js(e,t,s);break;case 1:if(!Ge&&(er(s,t),r=s.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=s.memoizedProps,r.state=s.memoizedState,r.componentWillUnmount()}catch(i){Te(s,t,i)}js(e,t,s);break;case 21:js(e,t,s);break;case 22:s.mode&1?(Ge=(r=Ge)||s.memoizedState!==null,js(e,t,s),Ge=r):js(e,t,s);break;default:js(e,t,s)}}function Jm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new nb),t.forEach(function(r){var a=fb.bind(null,e,r);s.has(r)||(s.add(r),r.then(a,a))})}}function It(e,t){var s=t.deletions;if(s!==null)for(var r=0;r<s.length;r++){var a=s[r];try{var o=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Ue=i.stateNode,Ot=!1;break e;case 3:Ue=i.stateNode.containerInfo,Ot=!0;break e;case 4:Ue=i.stateNode.containerInfo,Ot=!0;break e}i=i.return}if(Ue===null)throw Error($(160));dx(o,l,a),Ue=null,Ot=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){Te(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ux(t,e),t=t.sibling}function ux(e,t){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Bt(e),r&4){try{va(3,e,e.return),_l(3,e)}catch(u){Te(e,e.return,u)}try{va(5,e,e.return)}catch(u){Te(e,e.return,u)}}break;case 1:It(t,e),Bt(e),r&512&&s!==null&&er(s,s.return);break;case 5:if(It(t,e),Bt(e),r&512&&s!==null&&er(s,s.return),e.flags&32){var a=e.stateNode;try{Na(a,"")}catch(u){Te(e,e.return,u)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,l=s!==null?s.memoizedProps:o,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Dh(a,o),uc(i,l);var d=uc(i,o);for(l=0;l<c.length;l+=2){var p=c[l],m=c[l+1];p==="style"?_h(a,m):p==="dangerouslySetInnerHTML"?Lh(a,m):p==="children"?Na(a,m):Ad(a,p,m,d)}switch(i){case"input":oc(a,o);break;case"textarea":Mh(a,o);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?nr(a,!!o.multiple,j,!1):h!==!!o.multiple&&(o.defaultValue!=null?nr(a,!!o.multiple,o.defaultValue,!0):nr(a,!!o.multiple,o.multiple?[]:"",!1))}a[Aa]=o}catch(u){Te(e,e.return,u)}}break;case 6:if(It(t,e),Bt(e),r&4){if(e.stateNode===null)throw Error($(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(u){Te(e,e.return,u)}}break;case 3:if(It(t,e),Bt(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(u){Te(e,e.return,u)}break;case 4:It(t,e),Bt(e);break;case 13:It(t,e),Bt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(uu=Re())),r&4&&Jm(e);break;case 22:if(p=s!==null&&s.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||p,It(t,e),Ge=d):It(t,e),Bt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(W=e,p=e.child;p!==null;){for(m=W=p;W!==null;){switch(h=W,j=h.child,h.tag){case 0:case 11:case 14:case 15:va(4,h,h.return);break;case 1:er(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,s=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(u){Te(r,s,u)}}break;case 5:er(h,h.return);break;case 22:if(h.memoizedState!==null){Xm(m);continue}}j!==null?(j.return=h,W=j):Xm(m)}p=p.sibling}e:for(p=null,m=e;;){if(m.tag===5){if(p===null){p=m;try{a=m.stateNode,d?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Fh("display",l))}catch(u){Te(e,e.return,u)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(u){Te(e,e.return,u)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:It(t,e),Bt(e),r&4&&Jm(e);break;case 21:break;default:It(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(cx(s)){var r=s;break e}s=s.return}throw Error($(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Na(a,""),r.flags&=-33);var o=qm(e);Uc(e,o,a);break;case 3:case 4:var l=r.stateNode.containerInfo,i=qm(e);zc(e,i,l);break;default:throw Error($(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ab(e,t,s){W=e,mx(e)}function mx(e,t,s){for(var r=(e.mode&1)!==0;W!==null;){var a=W,o=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||wo;if(!l){var i=a.alternate,c=i!==null&&i.memoizedState!==null||Ge;i=wo;var d=Ge;if(wo=l,(Ge=c)&&!d)for(W=a;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?Zm(a):c!==null?(c.return=l,W=c):Zm(a);for(;o!==null;)W=o,mx(o),o=o.sibling;W=a,wo=i,Ge=d}Ym(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,W=o):Ym(e)}}function Ym(e){for(;W!==null;){var t=W;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||_l(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(s===null)r.componentDidMount();else{var a=t.elementType===t.type?s.memoizedProps:Dt(t.type,s.memoizedProps);r.componentDidUpdate(a,s.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Om(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Om(t,l,s)}break;case 5:var i=t.stateNode;if(s===null&&t.flags&4){s=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Ea(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Ge||t.flags&512&&$c(t)}catch(h){Te(t,t.return,h)}}if(t===e){W=null;break}if(s=t.sibling,s!==null){s.return=t.return,W=s;break}W=t.return}}function Xm(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var s=t.sibling;if(s!==null){s.return=t.return,W=s;break}W=t.return}}function Zm(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{_l(4,t)}catch(c){Te(t,s,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){Te(t,a,c)}}var o=t.return;try{$c(t)}catch(c){Te(t,o,c)}break;case 5:var l=t.return;try{$c(t)}catch(c){Te(t,l,c)}}}catch(c){Te(t,t.return,c)}if(t===e){W=null;break}var i=t.sibling;if(i!==null){i.return=t.return,W=i;break}W=t.return}}var ob=Math.ceil,xl=bs.ReactCurrentDispatcher,cu=bs.ReactCurrentOwner,Pt=bs.ReactCurrentBatchConfig,fe=0,$e=null,Me=null,Ve=0,pt=0,tr=rn(0),Fe=0,_a=null,Tn=0,$l=0,du=0,ya=null,lt=null,uu=0,Mr=1/0,as=null,gl=!1,Vc=null,Qs=null,bo=!1,Vs=null,vl=0,wa=0,Bc=null,zo=-1,Uo=0;function tt(){return fe&6?Re():zo!==-1?zo:zo=Re()}function qs(e){return e.mode&1?fe&2&&Ve!==0?Ve&-Ve:Bw.transition!==null?(Uo===0&&(Uo=Jh()),Uo):(e=xe,e!==0||(e=window.event,e=e===void 0?16:np(e.type)),e):1}function $t(e,t,s,r){if(50<wa)throw wa=0,Bc=null,Error($(185));Qa(e,s,r),(!(fe&2)||e!==$e)&&(e===$e&&(!(fe&2)&&($l|=s),Fe===4&&Is(e,Ve)),ut(e,r),s===1&&fe===0&&!(t.mode&1)&&(Mr=Re()+500,Ol&&an()))}function ut(e,t){var s=e.callbackNode;By(e,t);var r=tl(e,e===$e?Ve:0);if(r===0)s!==null&&im(s),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(s!=null&&im(s),t===1)e.tag===0?Vw(ef.bind(null,e)):jp(ef.bind(null,e)),_w(function(){!(fe&6)&&an()}),s=null;else{switch(Yh(r)){case 1:s=Fd;break;case 4:s=Qh;break;case 16:s=el;break;case 536870912:s=qh;break;default:s=el}s=wx(s,fx.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function fx(e,t){if(zo=-1,Uo=0,fe&6)throw Error($(327));var s=e.callbackNode;if(ir()&&e.callbackNode!==s)return null;var r=tl(e,e===$e?Ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=yl(e,r);else{t=r;var a=fe;fe|=2;var o=px();($e!==e||Ve!==t)&&(as=null,Mr=Re()+500,Sn(e,t));do try{cb();break}catch(i){hx(e,i)}while(!0);Jd(),xl.current=o,fe=a,Me!==null?t=0:($e=null,Ve=0,t=Fe)}if(t!==0){if(t===2&&(a=xc(e),a!==0&&(r=a,t=Wc(e,a))),t===1)throw s=_a,Sn(e,0),Is(e,r),ut(e,Re()),s;if(t===6)Is(e,r);else{if(a=e.current.alternate,!(r&30)&&!lb(a)&&(t=yl(e,r),t===2&&(o=xc(e),o!==0&&(r=o,t=Wc(e,o))),t===1))throw s=_a,Sn(e,0),Is(e,r),ut(e,Re()),s;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:fn(e,lt,as);break;case 3:if(Is(e,r),(r&130023424)===r&&(t=uu+500-Re(),10<t)){if(tl(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Sc(fn.bind(null,e,lt,as),t);break}fn(e,lt,as);break;case 4:if(Is(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-_t(r);o=1<<l,l=t[l],l>a&&(a=l),r&=~o}if(r=a,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ob(r/1960))-r,10<r){e.timeoutHandle=Sc(fn.bind(null,e,lt,as),r);break}fn(e,lt,as);break;case 5:fn(e,lt,as);break;default:throw Error($(329))}}}return ut(e,Re()),e.callbackNode===s?fx.bind(null,e):null}function Wc(e,t){var s=ya;return e.current.memoizedState.isDehydrated&&(Sn(e,t).flags|=256),e=yl(e,t),e!==2&&(t=lt,lt=s,t!==null&&Hc(t)),e}function Hc(e){lt===null?lt=e:lt.push.apply(lt,e)}function lb(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var r=0;r<s.length;r++){var a=s[r],o=a.getSnapshot;a=a.value;try{if(!zt(o(),a))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Is(e,t){for(t&=~du,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-_t(t),r=1<<s;e[s]=-1,t&=~r}}function ef(e){if(fe&6)throw Error($(327));ir();var t=tl(e,0);if(!(t&1))return ut(e,Re()),null;var s=yl(e,t);if(e.tag!==0&&s===2){var r=xc(e);r!==0&&(t=r,s=Wc(e,r))}if(s===1)throw s=_a,Sn(e,0),Is(e,t),ut(e,Re()),s;if(s===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fn(e,lt,as),ut(e,Re()),null}function mu(e,t){var s=fe;fe|=1;try{return e(t)}finally{fe=s,fe===0&&(Mr=Re()+500,Ol&&an())}}function Rn(e){Vs!==null&&Vs.tag===0&&!(fe&6)&&ir();var t=fe;fe|=1;var s=Pt.transition,r=xe;try{if(Pt.transition=null,xe=1,e)return e()}finally{xe=r,Pt.transition=s,fe=t,!(fe&6)&&an()}}function fu(){pt=tr.current,we(tr)}function Sn(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Fw(s)),Me!==null)for(s=Me.return;s!==null;){var r=s;switch(Gd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:Ar(),we(ct),we(Je),su();break;case 5:tu(r);break;case 4:Ar();break;case 13:we(Se);break;case 19:we(Se);break;case 10:Yd(r.type._context);break;case 22:case 23:fu()}s=s.return}if($e=e,Me=e=Js(e.current,null),Ve=pt=t,Fe=0,_a=null,du=$l=Tn=0,lt=ya=null,pn!==null){for(t=0;t<pn.length;t++)if(s=pn[t],r=s.interleaved,r!==null){s.interleaved=null;var a=r.next,o=s.pending;if(o!==null){var l=o.next;o.next=a,r.next=l}s.pending=r}pn=null}return e}function hx(e,t){do{var s=Me;try{if(Jd(),Fo.current=pl,hl){for(var r=Ce.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}hl=!1}if(Pn=0,_e=Oe=Ce=null,ga=!1,Oa=0,cu.current=null,s===null||s.return===null){Fe=1,_a=t,Me=null;break}e:{var o=e,l=s.return,i=s,c=t;if(t=Ve,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=i,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var j=Um(l);if(j!==null){j.flags&=-257,Vm(j,l,i,o,t),j.mode&1&&zm(o,d,t),t=j,c=d;var v=t.updateQueue;if(v===null){var u=new Set;u.add(c),t.updateQueue=u}else v.add(c);break e}else{if(!(t&1)){zm(o,d,t),hu();break e}c=Error($(426))}}else if(je&&i.mode&1){var b=Um(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Vm(b,l,i,o,t),Qd(Dr(c,i));break e}}o=c=Dr(c,i),Fe!==4&&(Fe=2),ya===null?ya=[o]:ya.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Yp(o,c,t);Mm(o,y);break e;case 1:i=c;var f=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qs===null||!Qs.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Xp(o,i,t);Mm(o,w);break e}}o=o.return}while(o!==null)}gx(s)}catch(N){t=N,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function px(){var e=xl.current;return xl.current=pl,e===null?pl:e}function hu(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),$e===null||!(Tn&268435455)&&!($l&268435455)||Is($e,Ve)}function yl(e,t){var s=fe;fe|=2;var r=px();($e!==e||Ve!==t)&&(as=null,Sn(e,t));do try{ib();break}catch(a){hx(e,a)}while(!0);if(Jd(),fe=s,xl.current=r,Me!==null)throw Error($(261));return $e=null,Ve=0,Fe}function ib(){for(;Me!==null;)xx(Me)}function cb(){for(;Me!==null&&!My();)xx(Me)}function xx(e){var t=yx(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?gx(e):Me=t,cu.current=null}function gx(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=sb(s,t),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(s=tb(s,t,pt),s!==null){Me=s;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Fe===0&&(Fe=5)}function fn(e,t,s){var r=xe,a=Pt.transition;try{Pt.transition=null,xe=1,db(e,t,s,r)}finally{Pt.transition=a,xe=r}return null}function db(e,t,s,r){do ir();while(Vs!==null);if(fe&6)throw Error($(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var o=s.lanes|s.childLanes;if(Wy(e,o),e===$e&&(Me=$e=null,Ve=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||bo||(bo=!0,wx(el,function(){return ir(),null})),o=(s.flags&15990)!==0,s.subtreeFlags&15990||o){o=Pt.transition,Pt.transition=null;var l=xe;xe=1;var i=fe;fe|=4,cu.current=null,rb(e,s),ux(s,e),Rw(jc),sl=!!bc,jc=bc=null,e.current=s,ab(s),Oy(),fe=i,xe=l,Pt.transition=o}else e.current=s;if(bo&&(bo=!1,Vs=e,vl=a),o=e.pendingLanes,o===0&&(Qs=null),_y(s.stateNode),ut(e,Re()),t!==null)for(r=e.onRecoverableError,s=0;s<t.length;s++)a=t[s],r(a.value,{componentStack:a.stack,digest:a.digest});if(gl)throw gl=!1,e=Vc,Vc=null,e;return vl&1&&e.tag!==0&&ir(),o=e.pendingLanes,o&1?e===Bc?wa++:(wa=0,Bc=e):wa=0,an(),null}function ir(){if(Vs!==null){var e=Yh(vl),t=Pt.transition,s=xe;try{if(Pt.transition=null,xe=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,vl=0,fe&6)throw Error($(331));var a=fe;for(fe|=4,W=e.current;W!==null;){var o=W,l=o.child;if(W.flags&16){var i=o.deletions;if(i!==null){for(var c=0;c<i.length;c++){var d=i[c];for(W=d;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:va(8,p,o)}var m=p.child;if(m!==null)m.return=p,W=m;else for(;W!==null;){p=W;var h=p.sibling,j=p.return;if(ix(p),p===d){W=null;break}if(h!==null){h.return=j,W=h;break}W=j}}}var v=o.alternate;if(v!==null){var u=v.child;if(u!==null){v.child=null;do{var b=u.sibling;u.sibling=null,u=b}while(u!==null)}}W=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,W=l;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:va(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,W=y;break e}W=o.return}}var f=e.current;for(W=f;W!==null;){l=W;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,W=g;else e:for(l=f;W!==null;){if(i=W,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:_l(9,i)}}catch(N){Te(i,i.return,N)}if(i===l){W=null;break e}var w=i.sibling;if(w!==null){w.return=i.return,W=w;break e}W=i.return}}if(fe=a,an(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Rl,e)}catch{}r=!0}return r}finally{xe=s,Pt.transition=t}}return!1}function tf(e,t,s){t=Dr(s,t),t=Yp(e,t,1),e=Gs(e,t,1),t=tt(),e!==null&&(Qa(e,1,t),ut(e,t))}function Te(e,t,s){if(e.tag===3)tf(e,e,s);else for(;t!==null;){if(t.tag===3){tf(t,e,s);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qs===null||!Qs.has(r))){e=Dr(s,e),e=Xp(t,e,1),t=Gs(t,e,1),e=tt(),t!==null&&(Qa(t,1,e),ut(t,e));break}}t=t.return}}function ub(e,t,s){var r=e.pingCache;r!==null&&r.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&s,$e===e&&(Ve&s)===s&&(Fe===4||Fe===3&&(Ve&130023424)===Ve&&500>Re()-uu?Sn(e,0):du|=s),ut(e,t)}function vx(e,t){t===0&&(e.mode&1?(t=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):t=1);var s=tt();e=xs(e,t),e!==null&&(Qa(e,t,s),ut(e,s))}function mb(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),vx(e,s)}function fb(e,t){var s=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),vx(e,s)}var yx;yx=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)it=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return it=!1,eb(e,t,s);it=!!(e.flags&131072)}else it=!1,je&&t.flags&1048576&&Np(t,cl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$o(e,t),e=t.pendingProps;var a=Tr(t,Je.current);lr(t,s),a=ru(null,t,r,e,a,s);var o=au();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,ll(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zd(t),a.updater=Fl,t.stateNode=a,a._reactInternals=t,Ic(t,r,e,s),t=Mc(null,t,r,!0,o,s)):(t.tag=0,je&&o&&Kd(t),et(null,t,a,s),t=t.child),t;case 16:r=t.elementType;e:{switch($o(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=pb(r),e=Dt(r,e),a){case 0:t=Dc(null,t,r,e,s);break e;case 1:t=Hm(null,t,r,e,s);break e;case 11:t=Bm(null,t,r,e,s);break e;case 14:t=Wm(null,t,r,Dt(r.type,e),s);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Dt(r,a),Dc(e,t,r,a,s);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Dt(r,a),Hm(e,t,r,a,s);case 3:e:{if(sx(t),e===null)throw Error($(387));r=t.pendingProps,o=t.memoizedState,a=o.element,Tp(e,t),ml(t,r,null,s);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=Dr(Error($(423)),t),t=Km(e,t,r,s,a);break e}else if(r!==a){a=Dr(Error($(424)),t),t=Km(e,t,r,s,a);break e}else for(gt=Ks(t.stateNode.containerInfo.firstChild),vt=t,je=!0,Lt=null,s=Ep(t,null,r,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),r===a){t=gs(e,t,s);break e}et(e,t,r,s)}t=t.child}return t;case 5:return Rp(t),e===null&&Pc(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,l=a.children,Nc(r,a)?l=null:o!==null&&Nc(r,o)&&(t.flags|=32),tx(e,t),et(e,t,l,s),t.child;case 6:return e===null&&Pc(t),null;case 13:return nx(e,t,s);case 4:return eu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ir(t,null,r,s):et(e,t,r,s),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Dt(r,a),Bm(e,t,r,a,s);case 7:return et(e,t,t.pendingProps,s),t.child;case 8:return et(e,t,t.pendingProps.children,s),t.child;case 12:return et(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,l=a.value,ge(dl,r._currentValue),r._currentValue=l,o!==null)if(zt(o.value,l)){if(o.children===a.children&&!ct.current){t=gs(e,t,s);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){l=o.child;for(var c=i.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=ds(-1,s&-s),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}o.lanes|=s,c=o.alternate,c!==null&&(c.lanes|=s),Tc(o.return,s,t),i.lanes|=s;break}c=c.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error($(341));l.lanes|=s,i=l.alternate,i!==null&&(i.lanes|=s),Tc(l,s,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}et(e,t,a.children,s),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,lr(t,s),a=Tt(a),r=r(a),t.flags|=1,et(e,t,r,s),t.child;case 14:return r=t.type,a=Dt(r,t.pendingProps),a=Dt(r.type,a),Wm(e,t,r,a,s);case 15:return Zp(e,t,t.type,t.pendingProps,s);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Dt(r,a),$o(e,t),t.tag=1,dt(r)?(e=!0,ll(t)):e=!1,lr(t,s),Jp(t,r,a),Ic(t,r,a,s),Mc(null,t,r,!0,e,s);case 19:return rx(e,t,s);case 22:return ex(e,t,s)}throw Error($(156,t.tag))};function wx(e,t){return Gh(e,t)}function hb(e,t,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,s,r){return new hb(e,t,s,r)}function pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pb(e){if(typeof e=="function")return pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Md)return 11;if(e===Od)return 14}return 2}function Js(e,t){var s=e.alternate;return s===null?(s=Et(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Vo(e,t,s,r,a,o){var l=2;if(r=e,typeof e=="function")pu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Hn:return kn(s.children,a,o,t);case Dd:l=8,a|=8;break;case tc:return e=Et(12,s,t,a|2),e.elementType=tc,e.lanes=o,e;case sc:return e=Et(13,s,t,a),e.elementType=sc,e.lanes=o,e;case nc:return e=Et(19,s,t,a),e.elementType=nc,e.lanes=o,e;case Rh:return zl(s,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ph:l=10;break e;case Th:l=9;break e;case Md:l=11;break e;case Od:l=14;break e;case Ps:l=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=Et(l,s,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function kn(e,t,s,r){return e=Et(7,e,r,t),e.lanes=s,e}function zl(e,t,s,r){return e=Et(22,e,r,t),e.elementType=Rh,e.lanes=s,e.stateNode={isHidden:!1},e}function Mi(e,t,s){return e=Et(6,e,null,t),e.lanes=s,e}function Oi(e,t,s){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xb(e,t,s,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pi(0),this.expirationTimes=pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xu(e,t,s,r,a,o,l,i,c){return e=new xb(e,t,s,i,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Et(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(o),e}function gb(e,t,s){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:s}}function bx(e){if(!e)return Zs;e=e._reactInternals;e:{if(Fn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var s=e.type;if(dt(s))return bp(e,s,t)}return t}function jx(e,t,s,r,a,o,l,i,c){return e=xu(s,r,!0,e,a,o,l,i,c),e.context=bx(null),s=e.current,r=tt(),a=qs(s),o=ds(r,a),o.callback=t??null,Gs(s,o,a),e.current.lanes=a,Qa(e,a,r),ut(e,r),e}function Ul(e,t,s,r){var a=t.current,o=tt(),l=qs(a);return s=bx(s),t.context===null?t.context=s:t.pendingContext=s,t=ds(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gs(a,t,l),e!==null&&($t(e,a,l,o),Lo(e,a,l)),l}function wl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function gu(e,t){sf(e,t),(e=e.alternate)&&sf(e,t)}function vb(){return null}var Nx=typeof reportError=="function"?reportError:function(e){console.error(e)};function vu(e){this._internalRoot=e}Vl.prototype.render=vu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));Ul(e,t,null,null)};Vl.prototype.unmount=vu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){Ul(null,e,null,null)}),t[ps]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ep();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rs.length&&t!==0&&t<Rs[s].priority;s++);Rs.splice(s,0,e),s===0&&sp(e)}};function yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nf(){}function yb(e,t,s,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var d=wl(l);o.call(d)}}var l=jx(t,r,e,0,null,!1,!1,"",nf);return e._reactRootContainer=l,e[ps]=l.current,Ra(e.nodeType===8?e.parentNode:e),Rn(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var i=r;r=function(){var d=wl(c);i.call(d)}}var c=xu(e,0,!1,null,null,!1,!1,"",nf);return e._reactRootContainer=c,e[ps]=c.current,Ra(e.nodeType===8?e.parentNode:e),Rn(function(){Ul(t,c,s,r)}),c}function Wl(e,t,s,r,a){var o=s._reactRootContainer;if(o){var l=o;if(typeof a=="function"){var i=a;a=function(){var c=wl(l);i.call(c)}}Ul(t,l,e,a)}else l=yb(s,t,e,a,r);return wl(l)}Xh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ia(t.pendingLanes);s!==0&&(_d(t,s|1),ut(t,Re()),!(fe&6)&&(Mr=Re()+500,an()))}break;case 13:Rn(function(){var r=xs(e,1);if(r!==null){var a=tt();$t(r,e,1,a)}}),gu(e,1)}};$d=function(e){if(e.tag===13){var t=xs(e,134217728);if(t!==null){var s=tt();$t(t,e,134217728,s)}gu(e,134217728)}};Zh=function(e){if(e.tag===13){var t=qs(e),s=xs(e,t);if(s!==null){var r=tt();$t(s,e,t,r)}gu(e,t)}};ep=function(){return xe};tp=function(e,t){var s=xe;try{return xe=e,t()}finally{xe=s}};fc=function(e,t,s){switch(t){case"input":if(oc(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var r=s[t];if(r!==e&&r.form===e.form){var a=Ml(r);if(!a)throw Error($(90));Ah(r),oc(r,a)}}}break;case"textarea":Mh(e,s);break;case"select":t=s.value,t!=null&&nr(e,!!s.multiple,t,!1)}};Uh=mu;Vh=Rn;var wb={usingClientEntryPoint:!1,Events:[Ja,qn,Ml,$h,zh,mu]},na={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bb={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hh(e),e===null?null:e.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{Rl=jo.inject(bb),Yt=jo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wb;bt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yu(t))throw Error($(200));return gb(e,t,null,s)};bt.createRoot=function(e,t){if(!yu(e))throw Error($(299));var s=!1,r="",a=Nx;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xu(e,1,!1,null,null,s,!1,r,a),e[ps]=t.current,Ra(e.nodeType===8?e.parentNode:e),new vu(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Hh(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Rn(e)};bt.hydrate=function(e,t,s){if(!Bl(t))throw Error($(200));return Wl(null,e,t,!0,s)};bt.hydrateRoot=function(e,t,s){if(!yu(e))throw Error($(405));var r=s!=null&&s.hydratedSources||null,a=!1,o="",l=Nx;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(o=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),t=jx(t,null,e,1,s??null,a,!1,o,l),e[ps]=t.current,Ra(e),r)for(e=0;e<r.length;e++)s=r[e],a=s._getVersion,a=a(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,a]:t.mutableSourceEagerHydrationData.push(s,a);return new Vl(t)};bt.render=function(e,t,s){if(!Bl(t))throw Error($(200));return Wl(null,e,t,!1,s)};bt.unmountComponentAtNode=function(e){if(!Bl(e))throw Error($(40));return e._reactRootContainer?(Rn(function(){Wl(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0):!1};bt.unstable_batchedUpdates=mu;bt.unstable_renderSubtreeIntoContainer=function(e,t,s,r){if(!Bl(s))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return Wl(e,t,s,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function Sx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sx)}catch(e){console.error(e)}}Sx(),Sh.exports=bt;var _n=Sh.exports;const jb=uh(_n);var kx,rf=_n;kx=rf.createRoot,rf.hydrateRoot;function Nb(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var s,r,a,o,l=[],i="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)s=a[0],s==="*"?(l.push(s),i+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(r=a.indexOf("?",1),o=a.indexOf(".",1),l.push(a.substring(1,~r?r:~o?o:a.length)),i+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(i+=(~r?"?":"")+"\\"+a.substring(o))):i+="/"+a;return{keys:l,pattern:new RegExp("^"+i+(t?"(?=$|/)":"/?$"),"i")}}var Cx={exports:{}},Ex={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Or=x;function Sb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kb=typeof Object.is=="function"?Object.is:Sb,Cb=Or.useState,Eb=Or.useEffect,Pb=Or.useLayoutEffect,Tb=Or.useDebugValue;function Rb(e,t){var s=t(),r=Cb({inst:{value:s,getSnapshot:t}}),a=r[0].inst,o=r[1];return Pb(function(){a.value=s,a.getSnapshot=t,Li(a)&&o({inst:a})},[e,s,t]),Eb(function(){return Li(a)&&o({inst:a}),e(function(){Li(a)&&o({inst:a})})},[e]),Tb(s),s}function Li(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!kb(e,s)}catch{return!0}}function Ib(e,t){return t()}var Ab=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ib:Rb;Ex.useSyncExternalStore=Or.useSyncExternalStore!==void 0?Or.useSyncExternalStore:Ab;Cx.exports=Ex;var Db=Cx.exports;const Mb=jh.useInsertionEffect,Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lb=Ob?x.useLayoutEffect:x.useEffect,Fb=Mb||Lb,Px=e=>{const t=x.useRef([e,(...s)=>t[0](...s)]).current;return Fb(()=>{t[0]=e}),t[1]},_b="popstate",wu="pushState",bu="replaceState",$b="hashchange",af=[_b,wu,bu,$b],zb=e=>{for(const t of af)addEventListener(t,e);return()=>{for(const t of af)removeEventListener(t,e)}},Tx=(e,t)=>Db.useSyncExternalStore(zb,e,t),Ub=()=>location.search,Vb=({ssrSearch:e=""}={})=>Tx(Ub,()=>e),of=()=>location.pathname,Bb=({ssrPath:e}={})=>Tx(of,e?()=>e:of),Wb=(e,{replace:t=!1,state:s=null}={})=>history[t?bu:wu](s,"",e),Hb=(e={})=>[Bb(e),Wb],lf=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[lf]>"u"){for(const e of[wu,bu]){const t=history[e];history[e]=function(){const s=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),s}}Object.defineProperty(window,lf,{value:!0})}const Kb=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Rx=(e="")=>e==="/"?"":e,Gb=(e,t)=>e[0]==="~"?e.slice(1):Rx(t)+e,Qb=(e="",t)=>Kb(cf(Rx(e)),cf(t)),cf=e=>{try{return decodeURI(e)}catch{return e}},Ix={hook:Hb,searchHook:Vb,parser:Nb,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Ax=x.createContext(Ix),Xa=()=>x.useContext(Ax),Dx={},Mx=x.createContext(Dx),Ox=()=>x.useContext(Mx),Hl=e=>{const[t,s]=e.hook(e);return[Qb(e.base,t),Px((r,a)=>s(Gb(r,e.base),a))]},qb=()=>Hl(Xa()),Lx=(e,t,s,r)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),l=a.exec(s)||[],[i,...c]=l;return i!==void 0?[!0,(()=>{const d=o!==!1?Object.fromEntries(o.map((m,h)=>[m,c[h]])):l.groups;let p={...c};return d&&Object.assign(p,d),p})(),...r?[i]:[]]:[!1,null]},Jb=({children:e,...t})=>{var p,m;const s=Xa(),r=t.hook?Ix:s;let a=r;const[o,l]=((p=t.ssrPath)==null?void 0:p.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let i=x.useRef({}),c=i.current,d=c;for(let h in r){const j=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===d&&j!==d[h]&&(i.current=d={...d}),d[h]=j,j!==r[h]&&(a=d)}return x.createElement(Ax.Provider,{value:a,children:e})},df=({children:e,component:t},s)=>t?x.createElement(t,{params:s}):typeof e=="function"?e(s):e,Yb=e=>{let t=x.useRef(Dx),s=t.current;for(const r in e)e[r]!==s[r]&&(s=e);return Object.keys(e).length===0&&(s=e),t.current=s},be=({path:e,nest:t,match:s,...r})=>{const a=Xa(),[o]=Hl(a),[l,i,c]=s??Lx(a.parser,e,o,t),d=Yb({...Ox(),...i});if(!l)return null;const p=c?x.createElement(Jb,{base:c},df(r,d)):df(r,d);return x.createElement(Mx.Provider,{value:d,children:p})};x.forwardRef((e,t)=>{const s=Xa(),[r,a]=Hl(s),{to:o="",href:l=o,onClick:i,asChild:c,children:d,className:p,replace:m,state:h,...j}=e,v=Px(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(i==null||i(b),b.defaultPrevented||(b.preventDefault(),a(l,e)))}),u=s.hrefs(l[0]==="~"?l.slice(1):s.base+l,s);return c&&x.isValidElement(d)?x.cloneElement(d,{onClick:v,href:u}):x.createElement("a",{...j,onClick:v,href:u,className:p!=null&&p.call?p(r===l):p,children:d,ref:t})});const Fx=e=>Array.isArray(e)?e.flatMap(t=>Fx(t&&t.type===x.Fragment?t.props.children:t)):[e],Xb=({children:e,location:t})=>{const s=Xa(),[r]=Hl(s);for(const a of Fx(e)){let o=0;if(x.isValidElement(a)&&(o=Lx(s.parser,a.props.path,t||r,a.props.nest))[0])return x.cloneElement(a,{match:o})}return null};var Wr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},In=typeof window>"u"||"Deno"in globalThis;function St(){}function Zb(e,t){return typeof e=="function"?e(t):e}function Kc(e){return typeof e=="number"&&e>=0&&e!==1/0}function _x(e,t){return Math.max(e+(t||0)-Date.now(),0)}function cr(e,t){return typeof e=="function"?e(t):e}function Ft(e,t){return typeof e=="function"?e(t):e}function uf(e,t){const{type:s="all",exact:r,fetchStatus:a,predicate:o,queryKey:l,stale:i}=e;if(l){if(r){if(t.queryHash!==ju(l,t.options))return!1}else if(!$a(t.queryKey,l))return!1}if(s!=="all"){const c=t.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof i=="boolean"&&t.isStale()!==i||a&&a!==t.state.fetchStatus||o&&!o(t))}function mf(e,t){const{exact:s,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(s){if(An(t.options.mutationKey)!==An(o))return!1}else if(!$a(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function ju(e,t){return((t==null?void 0:t.queryKeyHashFn)||An)(e)}function An(e){return JSON.stringify(e,(t,s)=>Gc(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function $a(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!$a(e[s],t[s])):!1}function $x(e,t){if(e===t)return e;const s=ff(e)&&ff(t);if(s||Gc(e)&&Gc(t)){const r=s?e:Object.keys(e),a=r.length,o=s?t:Object.keys(t),l=o.length,i=s?[]:{};let c=0;for(let d=0;d<l;d++){const p=s?d:o[d];(!s&&r.includes(p)||s)&&e[p]===void 0&&t[p]===void 0?(i[p]=void 0,c++):(i[p]=$x(e[p],t[p]),i[p]===e[p]&&e[p]!==void 0&&c++)}return a===l&&c===a?e:i}return t}function bl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function ff(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gc(e){if(!hf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!hf(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hf(e){return Object.prototype.toString.call(e)==="[object Object]"}function ej(e){return new Promise(t=>{setTimeout(t,e)})}function Qc(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?$x(e,t):t}function tj(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function sj(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var Nu=Symbol();function zx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Nu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var gn,As,pr,th,nj=(th=class extends Wr{constructor(){super();Q(this,gn);Q(this,As);Q(this,pr);B(this,pr,t=>{if(!In&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){C(this,As)||this.setEventListener(C(this,pr))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,As))==null||t.call(this),B(this,As,void 0))}setEventListener(t){var s;B(this,pr,t),(s=C(this,As))==null||s.call(this),B(this,As,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){C(this,gn)!==t&&(B(this,gn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof C(this,gn)=="boolean"?C(this,gn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gn=new WeakMap,As=new WeakMap,pr=new WeakMap,th),Su=new nj,xr,Ds,gr,sh,rj=(sh=class extends Wr{constructor(){super();Q(this,xr,!0);Q(this,Ds);Q(this,gr);B(this,gr,t=>{if(!In&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){C(this,Ds)||this.setEventListener(C(this,gr))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ds))==null||t.call(this),B(this,Ds,void 0))}setEventListener(t){var s;B(this,gr,t),(s=C(this,Ds))==null||s.call(this),B(this,Ds,t(this.setOnline.bind(this)))}setOnline(t){C(this,xr)!==t&&(B(this,xr,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return C(this,xr)}},xr=new WeakMap,Ds=new WeakMap,gr=new WeakMap,sh),jl=new rj;function qc(){let e,t;const s=new Promise((a,o)=>{e=a,t=o});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},s.reject=a=>{r({status:"rejected",reason:a}),t(a)},s}function aj(e){return Math.min(1e3*2**e,3e4)}function Ux(e){return(e??"online")==="online"?jl.isOnline():!0}var Vx=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Fi(e){return e instanceof Vx}function Bx(e){let t=!1,s=0,r=!1,a;const o=qc(),l=u=>{var b;r||(h(new Vx(u)),(b=e.abort)==null||b.call(e))},i=()=>{t=!0},c=()=>{t=!1},d=()=>Su.isFocused()&&(e.networkMode==="always"||jl.isOnline())&&e.canRun(),p=()=>Ux(e.networkMode)&&e.canRun(),m=u=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,u),a==null||a(),o.resolve(u))},h=u=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,u),a==null||a(),o.reject(u))},j=()=>new Promise(u=>{var b;a=y=>{(r||d())&&u(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var u;a=void 0,r||(u=e.onContinue)==null||u.call(e)}),v=()=>{if(r)return;let u;const b=s===0?e.initialPromise:void 0;try{u=b??e.fn()}catch(y){u=Promise.reject(y)}Promise.resolve(u).then(m).catch(y=>{var E;if(r)return;const f=e.retry??(In?0:3),g=e.retryDelay??aj,w=typeof g=="function"?g(s,y):g,N=f===!0||typeof f=="number"&&s<f||typeof f=="function"&&f(s,y);if(t||!N){h(y);return}s++,(E=e.onFail)==null||E.call(e,s,y),ej(w).then(()=>d()?void 0:j()).then(()=>{t?h(y):v()})})};return{promise:o,cancel:l,continue:()=>(a==null||a(),o),cancelRetry:i,continueRetry:c,canStart:p,start:()=>(p()?v():j().then(v),o)}}function oj(){let e=[],t=0,s=i=>{i()},r=i=>{i()},a=i=>setTimeout(i,0);const o=i=>{t?e.push(i):a(()=>{s(i)})},l=()=>{const i=e;e=[],i.length&&a(()=>{r(()=>{i.forEach(c=>{s(c)})})})};return{batch:i=>{let c;t++;try{c=i()}finally{t--,t||l()}return c},batchCalls:i=>(...c)=>{o(()=>{i(...c)})},schedule:o,setNotifyFunction:i=>{s=i},setBatchNotifyFunction:i=>{r=i},setScheduler:i=>{a=i}}}var Le=oj(),vn,nh,Wx=(nh=class{constructor(){Q(this,vn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kc(this.gcTime)&&B(this,vn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(In?1/0:5*60*1e3))}clearGcTimeout(){C(this,vn)&&(clearTimeout(C(this,vn)),B(this,vn,void 0))}},vn=new WeakMap,nh),vr,yr,Nt,Ke,Ba,yn,Mt,rs,rh,lj=(rh=class extends Wx{constructor(t){super();Q(this,Mt);Q(this,vr);Q(this,yr);Q(this,Nt);Q(this,Ke);Q(this,Ba);Q(this,yn);B(this,yn,!1),B(this,Ba,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,Nt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,vr,ij(this.options)),this.state=t.state??C(this,vr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Ke))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Ba),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Nt).remove(this)}setData(t,s){const r=Qc(this.state.data,t,this.options);return te(this,Mt,rs).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){te(this,Mt,rs).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=C(this,Ke))==null?void 0:r.promise;return(a=C(this,Ke))==null||a.cancel(t),s?s.then(St).catch(St):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,vr))}isActive(){return this.observers.some(t=>Ft(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_x(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=C(this,Ke))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=C(this,Ke))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Nt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(C(this,Ke)&&(C(this,yn)?C(this,Ke).cancel({revert:!0}):C(this,Ke).cancelRetry()),this.scheduleGc()),C(this,Nt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,Mt,rs).call(this,{type:"invalidate"})}fetch(t,s){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(C(this,Ke))return C(this,Ke).continueRetry(),C(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(B(this,yn,!0),r.signal)})},o=()=>{const m=zx(this.options,s),h={queryKey:this.queryKey,meta:this.meta};return a(h),B(this,yn,!1),this.options.persister?this.options.persister(m,h,this):m(h)},l={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(c=this.options.behavior)==null||c.onFetch(l,this),B(this,yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&te(this,Mt,rs).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const i=m=>{var h,j,v,u;Fi(m)&&m.silent||te(this,Mt,rs).call(this,{type:"error",error:m}),Fi(m)||((j=(h=C(this,Nt).config).onError)==null||j.call(h,m,this),(u=(v=C(this,Nt).config).onSettled)==null||u.call(v,this.state.data,m,this)),this.scheduleGc()};return B(this,Ke,Bx({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var h,j,v,u;if(m===void 0){i(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){i(b);return}(j=(h=C(this,Nt).config).onSuccess)==null||j.call(h,m,this),(u=(v=C(this,Nt).config).onSettled)==null||u.call(v,m,this.state.error,this),this.scheduleGc()},onError:i,onFail:(m,h)=>{te(this,Mt,rs).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{te(this,Mt,rs).call(this,{type:"pause"})},onContinue:()=>{te(this,Mt,rs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),C(this,Ke).start()}},vr=new WeakMap,yr=new WeakMap,Nt=new WeakMap,Ke=new WeakMap,Ba=new WeakMap,yn=new WeakMap,Mt=new WeakSet,rs=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Hx(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Fi(a)&&a.revert&&C(this,yr)?{...C(this,yr),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),Le.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),C(this,Nt).notify({query:this,type:"updated",action:t})})},rh);function Hx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ux(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ij(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ht,ah,cj=(ah=class extends Wr{constructor(t={}){super();Q(this,Ht);this.config=t,B(this,Ht,new Map)}build(t,s,r){const a=s.queryKey,o=s.queryHash??ju(a,s);let l=this.get(o);return l||(l=new lj({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){C(this,Ht).has(t.queryHash)||(C(this,Ht).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=C(this,Ht).get(t.queryHash);s&&(t.destroy(),s===t&&C(this,Ht).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Ht).get(t)}getAll(){return[...C(this,Ht).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>uf(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>uf(t,r)):s}notify(t){Le.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ht=new WeakMap,ah),Kt,Xe,wn,Gt,Cs,oh,dj=(oh=class extends Wx{constructor(t){super();Q(this,Gt);Q(this,Kt);Q(this,Xe);Q(this,wn);this.mutationId=t.mutationId,B(this,Xe,t.mutationCache),B(this,Kt,[]),this.state=t.state||Kx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Kt).includes(t)||(C(this,Kt).push(t),this.clearGcTimeout(),C(this,Xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,Kt,C(this,Kt).filter(s=>s!==t)),this.scheduleGc(),C(this,Xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Kt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Xe).remove(this))}continue(){var t;return((t=C(this,wn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,i,c,d,p,m,h,j,v,u,b,y,f,g,w,N,E,S;B(this,wn,Bx({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,T)=>{te(this,Gt,Cs).call(this,{type:"failed",failureCount:k,error:T})},onPause:()=>{te(this,Gt,Cs).call(this,{type:"pause"})},onContinue:()=>{te(this,Gt,Cs).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Xe).canRun(this)}));const s=this.state.status==="pending",r=!C(this,wn).canStart();try{if(!s){te(this,Gt,Cs).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=C(this,Xe).config).onMutate)==null?void 0:o.call(a,t,this));const T=await((i=(l=this.options).onMutate)==null?void 0:i.call(l,t));T!==this.state.context&&te(this,Gt,Cs).call(this,{type:"pending",context:T,variables:t,isPaused:r})}const k=await C(this,wn).start();return await((d=(c=C(this,Xe).config).onSuccess)==null?void 0:d.call(c,k,t,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,k,t,this.state.context)),await((j=(h=C(this,Xe).config).onSettled)==null?void 0:j.call(h,k,null,this.state.variables,this.state.context,this)),await((u=(v=this.options).onSettled)==null?void 0:u.call(v,k,null,t,this.state.context)),te(this,Gt,Cs).call(this,{type:"success",data:k}),k}catch(k){try{throw await((y=(b=C(this,Xe).config).onError)==null?void 0:y.call(b,k,t,this.state.context,this)),await((g=(f=this.options).onError)==null?void 0:g.call(f,k,t,this.state.context)),await((N=(w=C(this,Xe).config).onSettled)==null?void 0:N.call(w,void 0,k,this.state.variables,this.state.context,this)),await((S=(E=this.options).onSettled)==null?void 0:S.call(E,void 0,k,t,this.state.context)),k}finally{te(this,Gt,Cs).call(this,{type:"error",error:k})}}finally{C(this,Xe).runNext(this)}}},Kt=new WeakMap,Xe=new WeakMap,wn=new WeakMap,Gt=new WeakSet,Cs=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Le.batch(()=>{C(this,Kt).forEach(r=>{r.onMutationUpdate(t)}),C(this,Xe).notify({mutation:this,type:"updated",action:t})})},oh);function Kx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ht,Wa,lh,uj=(lh=class extends Wr{constructor(t={}){super();Q(this,ht);Q(this,Wa);this.config=t,B(this,ht,new Map),B(this,Wa,Date.now())}build(t,s,r){const a=new dj({mutationCache:this,mutationId:++ro(this,Wa)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){const s=No(t),r=C(this,ht).get(s)??[];r.push(t),C(this,ht).set(s,r),this.notify({type:"added",mutation:t})}remove(t){var r;const s=No(t);if(C(this,ht).has(s)){const a=(r=C(this,ht).get(s))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?C(this,ht).delete(s):C(this,ht).set(s,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const s=(r=C(this,ht).get(No(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===t}runNext(t){var r;const s=(r=C(this,ht).get(No(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,ht).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(r=>mf(s,r))}findAll(t={}){return this.getAll().filter(s=>mf(t,s))}notify(t){Le.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Le.batch(()=>Promise.all(t.map(s=>s.continue().catch(St))))}},ht=new WeakMap,Wa=new WeakMap,lh);function No(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function pf(e){return{onFetch:(t,s)=>{var p,m,h,j,v;const r=t.options,a=(h=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,o=((j=t.state.data)==null?void 0:j.pages)||[],l=((v=t.state.data)==null?void 0:v.pageParams)||[];let i={pages:[],pageParams:[]},c=0;const d=async()=>{let u=!1;const b=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},y=zx(t.options,t.fetchOptions),f=async(g,w,N)=>{if(u)return Promise.reject();if(w==null&&g.pages.length)return Promise.resolve(g);const E={queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};b(E);const S=await y(E),{maxPages:k}=t.options,T=N?sj:tj;return{pages:T(g.pages,S,k),pageParams:T(g.pageParams,w,k)}};if(a&&o.length){const g=a==="backward",w=g?mj:xf,N={pages:o,pageParams:l},E=w(r,N);i=await f(N,E,g)}else{const g=e??o.length;do{const w=c===0?l[0]??r.initialPageParam:xf(r,i);if(c>0&&w==null)break;i=await f(i,w),c++}while(c<g)}return i};t.options.persister?t.fetchFn=()=>{var u,b;return(b=(u=t.options).persister)==null?void 0:b.call(u,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=d}}}function xf(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function mj(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var Pe,Ms,Os,wr,br,Ls,jr,Nr,ih,fj=(ih=class{constructor(e={}){Q(this,Pe);Q(this,Ms);Q(this,Os);Q(this,wr);Q(this,br);Q(this,Ls);Q(this,jr);Q(this,Nr);B(this,Pe,e.queryCache||new cj),B(this,Ms,e.mutationCache||new uj),B(this,Os,e.defaultOptions||{}),B(this,wr,new Map),B(this,br,new Map),B(this,Ls,0)}mount(){ro(this,Ls)._++,C(this,Ls)===1&&(B(this,jr,Su.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Pe).onFocus())})),B(this,Nr,jl.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Pe).onOnline())})))}unmount(){var e,t;ro(this,Ls)._--,C(this,Ls)===0&&((e=C(this,jr))==null||e.call(this),B(this,jr,void 0),(t=C(this,Nr))==null||t.call(this),B(this,Nr,void 0))}isFetching(e){return C(this,Pe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Ms).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=C(this,Pe).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),r=C(this,Pe).build(this,s);return e.revalidateIfStale&&r.isStaleByTime(cr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return C(this,Pe).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=C(this,Pe).get(r.queryHash),o=a==null?void 0:a.state.data,l=Zb(t,o);if(l!==void 0)return C(this,Pe).build(this,r).setData(l,{...s,manual:!0})}setQueriesData(e,t,s){return Le.batch(()=>C(this,Pe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=C(this,Pe).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=C(this,Pe);Le.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=C(this,Pe),r={type:"active",...e};return Le.batch(()=>(s.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},r=Le.batch(()=>C(this,Pe).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(St).catch(St)}invalidateQueries(e={},t={}){return Le.batch(()=>{if(C(this,Pe).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Le.batch(()=>C(this,Pe).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,s);return s.throwOnError||(o=o.catch(St)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(St)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=C(this,Pe).build(this,t);return s.isStaleByTime(cr(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(St).catch(St)}fetchInfiniteQuery(e){return e.behavior=pf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(St).catch(St)}ensureInfiniteQueryData(e){return e.behavior=pf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return jl.isOnline()?C(this,Ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Pe)}getMutationCache(){return C(this,Ms)}getDefaultOptions(){return C(this,Os)}setDefaultOptions(e){B(this,Os,e)}setQueryDefaults(e,t){C(this,wr).set(An(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,wr).values()];let s={};return t.forEach(r=>{$a(e,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(e,t){C(this,br).set(An(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,br).values()];let s={};return t.forEach(r=>{$a(e,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Os).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ju(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Nu&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Os).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Pe).clear(),C(this,Ms).clear()}},Pe=new WeakMap,Ms=new WeakMap,Os=new WeakMap,wr=new WeakMap,br=new WeakMap,Ls=new WeakMap,jr=new WeakMap,Nr=new WeakMap,ih),at,de,Ha,Ze,bn,Sr,Fs,Qt,Ka,kr,Cr,jn,Nn,_s,Er,pe,da,Jc,Yc,Xc,Zc,ed,td,sd,Gx,ch,hj=(ch=class extends Wr{constructor(t,s){super();Q(this,pe);Q(this,at);Q(this,de);Q(this,Ha);Q(this,Ze);Q(this,bn);Q(this,Sr);Q(this,Fs);Q(this,Qt);Q(this,Ka);Q(this,kr);Q(this,Cr);Q(this,jn);Q(this,Nn);Q(this,_s);Q(this,Er,new Set);this.options=s,B(this,at,t),B(this,Qt,null),B(this,Fs,qc()),this.options.experimental_prefetchInRender||C(this,Fs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,de).addObserver(this),gf(C(this,de),this.options)?te(this,pe,da).call(this):this.updateResult(),te(this,pe,Zc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return nd(C(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return nd(C(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,te(this,pe,ed).call(this),te(this,pe,td).call(this),C(this,de).removeObserver(this)}setOptions(t,s){const r=this.options,a=C(this,de);if(this.options=C(this,at).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ft(this.options.enabled,C(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");te(this,pe,sd).call(this),C(this,de).setOptions(this.options),r._defaulted&&!bl(this.options,r)&&C(this,at).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,de),observer:this});const o=this.hasListeners();o&&vf(C(this,de),a,this.options,r)&&te(this,pe,da).call(this),this.updateResult(s),o&&(C(this,de)!==a||Ft(this.options.enabled,C(this,de))!==Ft(r.enabled,C(this,de))||cr(this.options.staleTime,C(this,de))!==cr(r.staleTime,C(this,de)))&&te(this,pe,Jc).call(this);const l=te(this,pe,Yc).call(this);o&&(C(this,de)!==a||Ft(this.options.enabled,C(this,de))!==Ft(r.enabled,C(this,de))||l!==C(this,_s))&&te(this,pe,Xc).call(this,l)}getOptimisticResult(t){const s=C(this,at).getQueryCache().build(C(this,at),t),r=this.createResult(s,t);return xj(this,r)&&(B(this,Ze,r),B(this,Sr,this.options),B(this,bn,C(this,de).state)),r}getCurrentResult(){return C(this,Ze)}trackResult(t,s){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),s==null||s(a),t[a])})}),r}trackProp(t){C(this,Er).add(t)}getCurrentQuery(){return C(this,de)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const s=C(this,at).defaultQueryOptions(t),r=C(this,at).getQueryCache().build(C(this,at),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(t){return te(this,pe,da).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Ze)))}createResult(t,s){var k;const r=C(this,de),a=this.options,o=C(this,Ze),l=C(this,bn),i=C(this,Sr),d=t!==r?t.state:C(this,Ha),{state:p}=t;let m={...p},h=!1,j;if(s._optimisticResults){const T=this.hasListeners(),A=!T&&gf(t,s),R=T&&vf(t,r,s,a);(A||R)&&(m={...m,...Hx(p.data,t.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:v,errorUpdatedAt:u,status:b}=m;if(s.select&&m.data!==void 0)if(o&&m.data===(l==null?void 0:l.data)&&s.select===C(this,Ka))j=C(this,kr);else try{B(this,Ka,s.select),j=s.select(m.data),j=Qc(o==null?void 0:o.data,j,s),B(this,kr,j),B(this,Qt,null)}catch(T){B(this,Qt,T)}else j=m.data;if(s.placeholderData!==void 0&&j===void 0&&b==="pending"){let T;if(o!=null&&o.isPlaceholderData&&s.placeholderData===(i==null?void 0:i.placeholderData))T=o.data;else if(T=typeof s.placeholderData=="function"?s.placeholderData((k=C(this,Cr))==null?void 0:k.state.data,C(this,Cr)):s.placeholderData,s.select&&T!==void 0)try{T=s.select(T),B(this,Qt,null)}catch(A){B(this,Qt,A)}T!==void 0&&(b="success",j=Qc(o==null?void 0:o.data,T,s),h=!0)}C(this,Qt)&&(v=C(this,Qt),j=C(this,kr),u=Date.now(),b="error");const y=m.fetchStatus==="fetching",f=b==="pending",g=b==="error",w=f&&y,N=j!==void 0,S={status:b,fetchStatus:m.fetchStatus,isPending:f,isSuccess:b==="success",isError:g,isInitialLoading:w,isLoading:w,data:j,dataUpdatedAt:m.dataUpdatedAt,error:v,errorUpdatedAt:u,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!f,isLoadingError:g&&!N,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&N,isStale:ku(t,s),refetch:this.refetch,promise:C(this,Fs)};if(this.options.experimental_prefetchInRender){const T=D=>{S.status==="error"?D.reject(S.error):S.data!==void 0&&D.resolve(S.data)},A=()=>{const D=B(this,Fs,S.promise=qc());T(D)},R=C(this,Fs);switch(R.status){case"pending":t.queryHash===r.queryHash&&T(R);break;case"fulfilled":(S.status==="error"||S.data!==R.value)&&A();break;case"rejected":(S.status!=="error"||S.error!==R.reason)&&A();break}}return S}updateResult(t){const s=C(this,Ze),r=this.createResult(C(this,de),this.options);if(B(this,bn,C(this,de).state),B(this,Sr,this.options),C(this,bn).data!==void 0&&B(this,Cr,C(this,de)),bl(r,s))return;B(this,Ze,r);const a={},o=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,i=typeof l=="function"?l():l;if(i==="all"||!i&&!C(this,Er).size)return!0;const c=new Set(i??C(this,Er));return this.options.throwOnError&&c.add("error"),Object.keys(C(this,Ze)).some(d=>{const p=d;return C(this,Ze)[p]!==s[p]&&c.has(p)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),te(this,pe,Gx).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&te(this,pe,Zc).call(this)}},at=new WeakMap,de=new WeakMap,Ha=new WeakMap,Ze=new WeakMap,bn=new WeakMap,Sr=new WeakMap,Fs=new WeakMap,Qt=new WeakMap,Ka=new WeakMap,kr=new WeakMap,Cr=new WeakMap,jn=new WeakMap,Nn=new WeakMap,_s=new WeakMap,Er=new WeakMap,pe=new WeakSet,da=function(t){te(this,pe,sd).call(this);let s=C(this,de).fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(St)),s},Jc=function(){te(this,pe,ed).call(this);const t=cr(this.options.staleTime,C(this,de));if(In||C(this,Ze).isStale||!Kc(t))return;const r=_x(C(this,Ze).dataUpdatedAt,t)+1;B(this,jn,setTimeout(()=>{C(this,Ze).isStale||this.updateResult()},r))},Yc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,de)):this.options.refetchInterval)??!1},Xc=function(t){te(this,pe,td).call(this),B(this,_s,t),!(In||Ft(this.options.enabled,C(this,de))===!1||!Kc(C(this,_s))||C(this,_s)===0)&&B(this,Nn,setInterval(()=>{(this.options.refetchIntervalInBackground||Su.isFocused())&&te(this,pe,da).call(this)},C(this,_s)))},Zc=function(){te(this,pe,Jc).call(this),te(this,pe,Xc).call(this,te(this,pe,Yc).call(this))},ed=function(){C(this,jn)&&(clearTimeout(C(this,jn)),B(this,jn,void 0))},td=function(){C(this,Nn)&&(clearInterval(C(this,Nn)),B(this,Nn,void 0))},sd=function(){const t=C(this,at).getQueryCache().build(C(this,at),this.options);if(t===C(this,de))return;const s=C(this,de);B(this,de,t),B(this,Ha,t.state),this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))},Gx=function(t){Le.batch(()=>{t.listeners&&this.listeners.forEach(s=>{s(C(this,Ze))}),C(this,at).getQueryCache().notify({query:C(this,de),type:"observerResultsUpdated"})})},ch);function pj(e,t){return Ft(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gf(e,t){return pj(e,t)||e.state.data!==void 0&&nd(e,t,t.refetchOnMount)}function nd(e,t,s){if(Ft(t.enabled,e)!==!1){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&ku(e,t)}return!1}function vf(e,t,s,r){return(e!==t||Ft(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&ku(e,s)}function ku(e,t){return Ft(t.enabled,e)!==!1&&e.isStaleByTime(cr(t.staleTime,e))}function xj(e,t){return!bl(e.getCurrentResult(),t)}var $s,zs,ot,ls,fs,Bo,rd,dh,gj=(dh=class extends Wr{constructor(s,r){super();Q(this,fs);Q(this,$s);Q(this,zs);Q(this,ot);Q(this,ls);B(this,$s,s),this.setOptions(r),this.bindMethods(),te(this,fs,Bo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const r=this.options;this.options=C(this,$s).defaultMutationOptions(s),bl(this.options,r)||C(this,$s).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,ot),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&An(r.mutationKey)!==An(this.options.mutationKey)?this.reset():((a=C(this,ot))==null?void 0:a.state.status)==="pending"&&C(this,ot).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=C(this,ot))==null||s.removeObserver(this)}onMutationUpdate(s){te(this,fs,Bo).call(this),te(this,fs,rd).call(this,s)}getCurrentResult(){return C(this,zs)}reset(){var s;(s=C(this,ot))==null||s.removeObserver(this),B(this,ot,void 0),te(this,fs,Bo).call(this),te(this,fs,rd).call(this)}mutate(s,r){var a;return B(this,ls,r),(a=C(this,ot))==null||a.removeObserver(this),B(this,ot,C(this,$s).getMutationCache().build(C(this,$s),this.options)),C(this,ot).addObserver(this),C(this,ot).execute(s)}},$s=new WeakMap,zs=new WeakMap,ot=new WeakMap,ls=new WeakMap,fs=new WeakSet,Bo=function(){var r;const s=((r=C(this,ot))==null?void 0:r.state)??Kx();B(this,zs,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},rd=function(s){Le.batch(()=>{var r,a,o,l,i,c,d,p;if(C(this,ls)&&this.hasListeners()){const m=C(this,zs).variables,h=C(this,zs).context;(s==null?void 0:s.type)==="success"?((a=(r=C(this,ls)).onSuccess)==null||a.call(r,s.data,m,h),(l=(o=C(this,ls)).onSettled)==null||l.call(o,s.data,null,m,h)):(s==null?void 0:s.type)==="error"&&((c=(i=C(this,ls)).onError)==null||c.call(i,s.error,m,h),(p=(d=C(this,ls)).onSettled)==null||p.call(d,void 0,s.error,m,h))}this.listeners.forEach(m=>{m(C(this,zs))})})},dh),Qx=x.createContext(void 0),on=e=>{const t=x.useContext(Qx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vj=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Qx.Provider,{value:e,children:t})),qx=x.createContext(!1),yj=()=>x.useContext(qx);qx.Provider;function wj(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bj=x.createContext(wj()),jj=()=>x.useContext(bj);function Jx(e,t){return typeof e=="function"?e(...t):!!e}function ad(){}var Nj=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Sj=e=>{x.useEffect(()=>{e.clearReset()},[e])},kj=({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Jx(s,[e.error,r]),Cj=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Ej=(e,t)=>e.isLoading&&e.isFetching&&!t,Pj=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,yf=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Tj(e,t,s){var p,m,h,j,v;const r=on(),a=yj(),o=jj(),l=r.defaultQueryOptions(e);(m=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,l),l._optimisticResults=a?"isRestoring":"optimistic",Cj(l),Nj(l,o),Sj(o);const i=!r.getQueryCache().get(l.queryHash),[c]=x.useState(()=>new t(r,l)),d=c.getOptimisticResult(l);if(x.useSyncExternalStore(x.useCallback(u=>{const b=a?ad:c.subscribe(Le.batchCalls(u));return c.updateResult(),b},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),Pj(l,d))throw yf(l,c,o);if(kj({result:d,errorResetBoundary:o,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw d.error;if((j=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||j.call(h,l,d),l.experimental_prefetchInRender&&!In&&Ej(d,a)){const u=i?yf(l,c,o):(v=r.getQueryCache().get(l.queryHash))==null?void 0:v.promise;u==null||u.catch(ad).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ke(e,t){return Tj(e,hj)}function mt(e,t){const s=on(),[r]=x.useState(()=>new gj(s,e));x.useEffect(()=>{r.setOptions(e)},[r,e]);const a=x.useSyncExternalStore(x.useCallback(l=>r.subscribe(Le.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=x.useCallback((l,i)=>{r.mutate(l,i).catch(ad)},[r]);if(a.error&&Jx(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function Yx(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function dr(e,t,s){const r=await fetch(t,{method:e,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await Yx(r),r}const Rj=({on401:e})=>async({queryKey:t})=>{let s=t[0];if(t.length>1&&t[1]&&typeof t[1]=="object"){const a=new URLSearchParams,o=t[1];for(const[i,c]of Object.entries(o))c&&c!==""&&a.append(i,c);const l=a.toString();l&&(s+="?"+l)}const r=await fetch(s,{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await Yx(r),await r.json())},Lr=new fj({defaultOptions:{queries:{queryFn:Rj({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Ij=1,Aj=1e6;let _i=0;function Dj(){return _i=(_i+1)%Number.MAX_SAFE_INTEGER,_i.toString()}const $i=new Map,wf=e=>{if($i.has(e))return;const t=setTimeout(()=>{$i.delete(e),ba({type:"REMOVE_TOAST",toastId:e})},Aj);$i.set(e,t)},Mj=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ij)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?wf(s):e.toasts.forEach(r=>{wf(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===s||s===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Wo=[];let Ho={toasts:[]};function ba(e){Ho=Mj(Ho,e),Wo.forEach(t=>{t(Ho)})}function Oj({...e}){const t=Dj(),s=a=>ba({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>ba({type:"DISMISS_TOAST",toastId:t});return ba({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:s}}function Ie(){const[e,t]=x.useState(Ho);return x.useEffect(()=>(Wo.push(t),()=>{const s=Wo.indexOf(t);s>-1&&Wo.splice(s,1)}),[e]),{...e,toast:Oj,dismiss:s=>ba({type:"DISMISS_TOAST",toastId:s})}}function X(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function bf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Xx(...e){return t=>{let s=!1;const r=e.map(a=>{const o=bf(a,t);return!s&&typeof o=="function"&&(s=!0),o});if(s)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():bf(e[a],null)}}}}function Ne(...e){return x.useCallback(Xx(...e),e)}function ln(e,t=[]){let s=[];function r(o,l){const i=x.createContext(l),c=s.length;s=[...s,l];const d=m=>{var y;const{scope:h,children:j,...v}=m,u=((y=h==null?void 0:h[e])==null?void 0:y[c])||i,b=x.useMemo(()=>v,Object.values(v));return n.jsx(u.Provider,{value:b,children:j})};d.displayName=o+"Provider";function p(m,h){var u;const j=((u=h==null?void 0:h[e])==null?void 0:u[c])||i,v=x.useContext(j);if(v)return v;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[d,p]}const a=()=>{const o=s.map(l=>x.createContext(l));return function(i){const c=(i==null?void 0:i[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return a.scopeName=e,[r,Lj(a,...t)]}function Lj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const l=r.reduce((i,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...i,...m}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function za(e){const t=_j(e),s=x.forwardRef((r,a)=>{const{children:o,...l}=r,i=x.Children.toArray(o),c=i.find(zj);if(c){const d=c.props.children,p=i.map(m=>m===c?x.Children.count(d)>1?x.Children.only(null):x.isValidElement(d)?d.props.children:null:m);return n.jsx(t,{...l,ref:a,children:x.isValidElement(d)?x.cloneElement(d,void 0,p):null})}return n.jsx(t,{...l,ref:a,children:o})});return s.displayName=`${e}.Slot`,s}var Fj=za("Slot");function _j(e){const t=x.forwardRef((s,r)=>{const{children:a,...o}=s;if(x.isValidElement(a)){const l=Vj(a),i=Uj(o,a.props);return a.type!==x.Fragment&&(i.ref=r?Xx(r,l):l),x.cloneElement(a,i)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zx=Symbol("radix.slottable");function $j(e){const t=({children:s})=>n.jsx(n.Fragment,{children:s});return t.displayName=`${e}.Slottable`,t.__radixId=Zx,t}function zj(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zx}function Uj(e,t){const s={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?s[r]=(...i)=>{o(...i),a(...i)}:a&&(s[r]=a):r==="style"?s[r]={...a,...o}:r==="className"&&(s[r]=[a,o].filter(Boolean).join(" "))}return{...e,...s}}function Vj(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Cu(e){const t=e+"CollectionProvider",[s,r]=ln(t),[a,o]=s(t,{collectionRef:{current:null},itemMap:new Map}),l=u=>{const{scope:b,children:y}=u,f=ks.useRef(null),g=ks.useRef(new Map).current;return n.jsx(a,{scope:b,itemMap:g,collectionRef:f,children:y})};l.displayName=t;const i=e+"CollectionSlot",c=za(i),d=ks.forwardRef((u,b)=>{const{scope:y,children:f}=u,g=o(i,y),w=Ne(b,g.collectionRef);return n.jsx(c,{ref:w,children:f})});d.displayName=i;const p=e+"CollectionItemSlot",m="data-radix-collection-item",h=za(p),j=ks.forwardRef((u,b)=>{const{scope:y,children:f,...g}=u,w=ks.useRef(null),N=Ne(b,w),E=o(p,y);return ks.useEffect(()=>(E.itemMap.set(w,{ref:w,...g}),()=>void E.itemMap.delete(w))),n.jsx(h,{[m]:"",ref:N,children:f})});j.displayName=p;function v(u){const b=o(e+"CollectionConsumer",u);return ks.useCallback(()=>{const f=b.collectionRef.current;if(!f)return[];const g=Array.from(f.querySelectorAll(`[${m}]`));return Array.from(b.itemMap.values()).sort((E,S)=>g.indexOf(E.ref.current)-g.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:d,ItemSlot:j},v,r]}var Bj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ce=Bj.reduce((e,t)=>{const s=za(`Primitive.${t}`),r=x.forwardRef((a,o)=>{const{asChild:l,...i}=a,c=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(c,{...i,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function e0(e,t){e&&_n.flushSync(()=>e.dispatchEvent(t))}function ft(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function Wj(e,t=globalThis==null?void 0:globalThis.document){const s=ft(e);x.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var Hj="DismissableLayer",od="dismissableLayer.update",Kj="dismissableLayer.pointerDownOutside",Gj="dismissableLayer.focusOutside",jf,t0=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kl=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:i,...c}=e,d=x.useContext(t0),[p,m]=x.useState(null),h=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=x.useState({}),v=Ne(t,S=>m(S)),u=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=u.indexOf(b),f=p?u.indexOf(p):-1,g=d.layersWithOutsidePointerEventsDisabled.size>0,w=f>=y,N=qj(S=>{const k=S.target,T=[...d.branches].some(A=>A.contains(k));!w||T||(a==null||a(S),l==null||l(S),S.defaultPrevented||i==null||i())},h),E=Jj(S=>{const k=S.target;[...d.branches].some(A=>A.contains(k))||(o==null||o(S),l==null||l(S),S.defaultPrevented||i==null||i())},h);return Wj(S=>{f===d.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&i&&(S.preventDefault(),i()))},h),x.useEffect(()=>{if(p)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(jf=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),Nf(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jf)}},[p,h,s,d]),x.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),Nf())},[p,d]),x.useEffect(()=>{const S=()=>j({});return document.addEventListener(od,S),()=>document.removeEventListener(od,S)},[]),n.jsx(ce.div,{...c,ref:v,style:{pointerEvents:g?w?"auto":"none":void 0,...e.style},onFocusCapture:X(e.onFocusCapture,E.onFocusCapture),onBlurCapture:X(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:X(e.onPointerDownCapture,N.onPointerDownCapture)})});Kl.displayName=Hj;var Qj="DismissableLayerBranch",s0=x.forwardRef((e,t)=>{const s=x.useContext(t0),r=x.useRef(null),a=Ne(t,r);return x.useEffect(()=>{const o=r.current;if(o)return s.branches.add(o),()=>{s.branches.delete(o)}},[s.branches]),n.jsx(ce.div,{...e,ref:a})});s0.displayName=Qj;function qj(e,t=globalThis==null?void 0:globalThis.document){const s=ft(e),r=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=i=>{if(i.target&&!r.current){let c=function(){n0(Kj,s,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function Jj(e,t=globalThis==null?void 0:globalThis.document){const s=ft(e),r=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!r.current&&n0(Gj,s,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nf(){const e=new CustomEvent(od);document.dispatchEvent(e)}function n0(e,t,s,{discrete:r}){const a=s.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?e0(a,o):a.dispatchEvent(o)}var Yj=Kl,Xj=s0,Ye=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Zj="Portal",Eu=x.forwardRef((e,t)=>{var i;const{container:s,...r}=e,[a,o]=x.useState(!1);Ye(()=>o(!0),[]);const l=s||a&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?jb.createPortal(n.jsx(ce.div,{...r,ref:t}),l):null});Eu.displayName=Zj;function eN(e,t){return x.useReducer((s,r)=>t[s][r]??s,e)}var Gl=e=>{const{present:t,children:s}=e,r=tN(t),a=typeof s=="function"?s({present:r.isPresent}):x.Children.only(s),o=Ne(r.ref,sN(a));return typeof s=="function"||r.isPresent?x.cloneElement(a,{ref:o}):null};Gl.displayName="Presence";function tN(e){const[t,s]=x.useState(),r=x.useRef({}),a=x.useRef(e),o=x.useRef("none"),l=e?"mounted":"unmounted",[i,c]=eN(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const d=So(r.current);o.current=i==="mounted"?d:"none"},[i]),Ye(()=>{const d=r.current,p=a.current;if(p!==e){const h=o.current,j=So(d);e?c("MOUNT"):j==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(p&&h!==j?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ye(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,m=j=>{const u=So(r.current).includes(j.animationName);if(j.target===t&&u&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=j=>{j.target===t&&(o.current=So(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:x.useCallback(d=>{d&&(r.current=getComputedStyle(d)),s(d)},[])}}function So(e){return(e==null?void 0:e.animationName)||"none"}function sN(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Fr({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,a]=nN({defaultProp:t,onChange:s}),o=e!==void 0,l=o?e:r,i=ft(s),c=x.useCallback(d=>{if(o){const m=typeof d=="function"?d(e):d;m!==e&&i(m)}else a(d)},[o,e,a,i]);return[l,c]}function nN({defaultProp:e,onChange:t}){const s=x.useState(e),[r]=s,a=x.useRef(r),o=ft(t);return x.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),s}var rN="VisuallyHidden",Za=x.forwardRef((e,t)=>n.jsx(ce.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Za.displayName=rN;var aN=Za,Pu="ToastProvider",[Tu,oN,lN]=Cu("Toast"),[r0,T4]=ln("Toast",[lN]),[iN,Ql]=r0(Pu),a0=e=>{const{__scopeToast:t,label:s="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:l}=e,[i,c]=x.useState(null),[d,p]=x.useState(0),m=x.useRef(!1),h=x.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Pu}\`. Expected non-empty \`string\`.`),n.jsx(Tu.Provider,{scope:t,children:n.jsx(iN,{scope:t,label:s,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:d,viewport:i,onViewportChange:c,onToastAdd:x.useCallback(()=>p(j=>j+1),[]),onToastRemove:x.useCallback(()=>p(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:l})})};a0.displayName=Pu;var o0="ToastViewport",cN=["F8"],ld="toast.viewportPause",id="toast.viewportResume",l0=x.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:r=cN,label:a="Notifications ({hotkey})",...o}=e,l=Ql(o0,s),i=oN(s),c=x.useRef(null),d=x.useRef(null),p=x.useRef(null),m=x.useRef(null),h=Ne(t,m,l.onViewportChange),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=l.toastCount>0;x.useEffect(()=>{const b=y=>{var g;r.length!==0&&r.every(w=>y[w]||y.code===w)&&((g=m.current)==null||g.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),x.useEffect(()=>{const b=c.current,y=m.current;if(v&&b&&y){const f=()=>{if(!l.isClosePausedRef.current){const E=new CustomEvent(ld);y.dispatchEvent(E),l.isClosePausedRef.current=!0}},g=()=>{if(l.isClosePausedRef.current){const E=new CustomEvent(id);y.dispatchEvent(E),l.isClosePausedRef.current=!1}},w=E=>{!b.contains(E.relatedTarget)&&g()},N=()=>{b.contains(document.activeElement)||g()};return b.addEventListener("focusin",f),b.addEventListener("focusout",w),b.addEventListener("pointermove",f),b.addEventListener("pointerleave",N),window.addEventListener("blur",f),window.addEventListener("focus",g),()=>{b.removeEventListener("focusin",f),b.removeEventListener("focusout",w),b.removeEventListener("pointermove",f),b.removeEventListener("pointerleave",N),window.removeEventListener("blur",f),window.removeEventListener("focus",g)}}},[v,l.isClosePausedRef]);const u=x.useCallback(({tabbingDirection:b})=>{const f=i().map(g=>{const w=g.ref.current,N=[w,...jN(w)];return b==="forwards"?N:N.reverse()});return(b==="forwards"?f.reverse():f).flat()},[i]);return x.useEffect(()=>{const b=m.current;if(b){const y=f=>{var N,E,S;const g=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!g){const k=document.activeElement,T=f.shiftKey;if(f.target===b&&T){(N=d.current)==null||N.focus();return}const D=u({tabbingDirection:T?"backwards":"forwards"}),z=D.findIndex(P=>P===k);zi(D.slice(z+1))?f.preventDefault():T?(E=d.current)==null||E.focus():(S=p.current)==null||S.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[i,u]),n.jsxs(Xj,{ref:c,role:"region","aria-label":a.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&n.jsx(cd,{ref:d,onFocusFromOutsideViewport:()=>{const b=u({tabbingDirection:"forwards"});zi(b)}}),n.jsx(Tu.Slot,{scope:s,children:n.jsx(ce.ol,{tabIndex:-1,...o,ref:h})}),v&&n.jsx(cd,{ref:p,onFocusFromOutsideViewport:()=>{const b=u({tabbingDirection:"backwards"});zi(b)}})]})});l0.displayName=o0;var i0="ToastFocusProxy",cd=x.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:r,...a}=e,o=Ql(i0,s);return n.jsx(Za,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:l=>{var d;const i=l.relatedTarget;!((d=o.viewport)!=null&&d.contains(i))&&r()}})});cd.displayName=i0;var ql="Toast",dN="toast.swipeStart",uN="toast.swipeMove",mN="toast.swipeCancel",fN="toast.swipeEnd",c0=x.forwardRef((e,t)=>{const{forceMount:s,open:r,defaultOpen:a,onOpenChange:o,...l}=e,[i=!0,c]=Fr({prop:r,defaultProp:a,onChange:o});return n.jsx(Gl,{present:s||i,children:n.jsx(xN,{open:i,...l,ref:t,onClose:()=>c(!1),onPause:ft(e.onPause),onResume:ft(e.onResume),onSwipeStart:X(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:X(e.onSwipeMove,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:X(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:X(e.onSwipeEnd,d=>{const{x:p,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});c0.displayName=ql;var[hN,pN]=r0(ql,{onClose(){}}),xN=x.forwardRef((e,t)=>{const{__scopeToast:s,type:r="foreground",duration:a,open:o,onClose:l,onEscapeKeyDown:i,onPause:c,onResume:d,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:j,...v}=e,u=Ql(ql,s),[b,y]=x.useState(null),f=Ne(t,P=>y(P)),g=x.useRef(null),w=x.useRef(null),N=a||u.duration,E=x.useRef(0),S=x.useRef(N),k=x.useRef(0),{onToastAdd:T,onToastRemove:A}=u,R=ft(()=>{var _;(b==null?void 0:b.contains(document.activeElement))&&((_=u.viewport)==null||_.focus()),l()}),D=x.useCallback(P=>{!P||P===1/0||(window.clearTimeout(k.current),E.current=new Date().getTime(),k.current=window.setTimeout(R,P))},[R]);x.useEffect(()=>{const P=u.viewport;if(P){const _=()=>{D(S.current),d==null||d()},F=()=>{const M=new Date().getTime()-E.current;S.current=S.current-M,window.clearTimeout(k.current),c==null||c()};return P.addEventListener(ld,F),P.addEventListener(id,_),()=>{P.removeEventListener(ld,F),P.removeEventListener(id,_)}}},[u.viewport,N,c,d,D]),x.useEffect(()=>{o&&!u.isClosePausedRef.current&&D(N)},[o,N,u.isClosePausedRef,D]),x.useEffect(()=>(T(),()=>A()),[T,A]);const z=x.useMemo(()=>b?x0(b):null,[b]);return u.viewport?n.jsxs(n.Fragment,{children:[z&&n.jsx(gN,{__scopeToast:s,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),n.jsx(hN,{scope:s,onClose:R,children:_n.createPortal(n.jsx(Tu.ItemSlot,{scope:s,children:n.jsx(Yj,{asChild:!0,onEscapeKeyDown:X(i,()=>{u.isFocusedToastEscapeKeyDownRef.current||R(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":u.swipeDirection,...v,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:X(e.onKeyDown,P=>{P.key==="Escape"&&(i==null||i(P.nativeEvent),P.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:X(e.onPointerDown,P=>{P.button===0&&(g.current={x:P.clientX,y:P.clientY})}),onPointerMove:X(e.onPointerMove,P=>{if(!g.current)return;const _=P.clientX-g.current.x,F=P.clientY-g.current.y,M=!!w.current,I=["left","right"].includes(u.swipeDirection),O=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,U=I?O(0,_):0,H=I?0:O(0,F),J=P.pointerType==="touch"?10:2,re={x:U,y:H},L={originalEvent:P,delta:re};M?(w.current=re,ko(uN,m,L,{discrete:!1})):Sf(re,u.swipeDirection,J)?(w.current=re,ko(dN,p,L,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(_)>J||Math.abs(F)>J)&&(g.current=null)}),onPointerUp:X(e.onPointerUp,P=>{const _=w.current,F=P.target;if(F.hasPointerCapture(P.pointerId)&&F.releasePointerCapture(P.pointerId),w.current=null,g.current=null,_){const M=P.currentTarget,I={originalEvent:P,delta:_};Sf(_,u.swipeDirection,u.swipeThreshold)?ko(fN,j,I,{discrete:!0}):ko(mN,h,I,{discrete:!0}),M.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),gN=e=>{const{__scopeToast:t,children:s,...r}=e,a=Ql(ql,t),[o,l]=x.useState(!1),[i,c]=x.useState(!1);return wN(()=>l(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),i?null:n.jsx(Eu,{asChild:!0,children:n.jsx(Za,{...r,children:o&&n.jsxs(n.Fragment,{children:[a.label," ",s]})})})},vN="ToastTitle",d0=x.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(ce.div,{...r,ref:t})});d0.displayName=vN;var yN="ToastDescription",u0=x.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e;return n.jsx(ce.div,{...r,ref:t})});u0.displayName=yN;var m0="ToastAction",f0=x.forwardRef((e,t)=>{const{altText:s,...r}=e;return s.trim()?n.jsx(p0,{altText:s,asChild:!0,children:n.jsx(Ru,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${m0}\`. Expected non-empty \`string\`.`),null)});f0.displayName=m0;var h0="ToastClose",Ru=x.forwardRef((e,t)=>{const{__scopeToast:s,...r}=e,a=pN(h0,s);return n.jsx(p0,{asChild:!0,children:n.jsx(ce.button,{type:"button",...r,ref:t,onClick:X(e.onClick,a.onClose)})})});Ru.displayName=h0;var p0=x.forwardRef((e,t)=>{const{__scopeToast:s,altText:r,...a}=e;return n.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function x0(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),bN(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...x0(r))}}),t}function ko(e,t,s,{discrete:r}){const a=s.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?e0(a,o):a.dispatchEvent(o)}var Sf=(e,t,s=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>s:!o&&a>s};function wN(e=()=>{}){const t=ft(e);Ye(()=>{let s=0,r=0;return s=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(r)}},[t])}function bN(e){return e.nodeType===e.ELEMENT_NODE}function jN(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function zi(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var NN=a0,g0=l0,v0=c0,y0=d0,w0=u0,b0=f0,j0=Ru;function N0(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=N0(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function S0(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=N0(e))&&(r&&(r+=" "),r+=t);return r}const kf=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Cf=S0,Jl=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Cf(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:o}=t,l=Object.keys(a).map(d=>{const p=s==null?void 0:s[d],m=o==null?void 0:o[d];if(p===null)return null;const h=kf(p)||kf(m);return a[d][h]}),i=s&&Object.entries(s).reduce((d,p)=>{let[m,h]=p;return h===void 0||(d[m]=h),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,p)=>{let{class:m,className:h,...j}=p;return Object.entries(j).every(v=>{let[u,b]=v;return Array.isArray(b)?b.includes({...o,...i}[u]):{...o,...i}[u]===b})?[...d,m,h]:d},[]);return Cf(e,l,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k0=(...e)=>e.filter((t,s,r)=>!!t&&r.indexOf(t)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:l,...i},c)=>x.createElement("svg",{ref:c,...kN,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:k0("lucide",a),...i},[...l.map(([d,p])=>x.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(e,t)=>{const s=x.forwardRef(({className:r,...a},o)=>x.createElement(CN,{ref:o,iconNode:t,className:k0(`lucide-${SN(e)}`,r),...a}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=me("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=me("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=me("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=me("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=me("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=me("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Du="-",$N=e=>{const t=UN(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const i=l.split(Du);return i[0]===""&&i.length!==1&&i.shift(),A0(i,t)||zN(l)},getConflictingClassGroupIds:(l,i)=>{const c=s[l]||[];return i&&r[l]?[...c,...r[l]]:c}}},A0=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?A0(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(Du);return(l=t.validators.find(({validator:i})=>i(o)))==null?void 0:l.classGroupId},If=/^\[(.+)\]$/,zN=e=>{if(If.test(e)){const t=If.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},UN=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return BN(Object.entries(e.classGroups),s).forEach(([o,l])=>{fd(l,r,o,t)}),r},fd=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Af(t,a);o.classGroupId=s;return}if(typeof a=="function"){if(VN(a)){fd(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([o,l])=>{fd(l,Af(t,o),s,r)})})},Af=(e,t)=>{let s=e;return t.split(Du).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},VN=e=>e.isThemeGetter,BN=(e,t)=>t?e.map(([s,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,i])=>[t+l,i])):o);return[s,a]}):e,WN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(o,l)=>{s.set(o,l),t++,t>e&&(t=0,r=s,s=new Map)};return{get(o){let l=s.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return a(o,l),l},set(o,l){s.has(o)?s.set(o,l):a(o,l)}}},D0="!",HN=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],o=t.length,l=i=>{const c=[];let d=0,p=0,m;for(let b=0;b<i.length;b++){let y=i[b];if(d===0){if(y===a&&(r||i.slice(b,b+o)===t)){c.push(i.slice(p,b)),p=b+o;continue}if(y==="/"){m=b;continue}}y==="["?d++:y==="]"&&d--}const h=c.length===0?i:i.substring(p),j=h.startsWith(D0),v=j?h.substring(1):h,u=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:j,baseClassName:v,maybePostfixModifierPosition:u}};return s?i=>s({className:i,parseClassName:l}):l},KN=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},GN=e=>({cache:WN(e.cacheSize),parseClassName:HN(e),...$N(e)}),QN=/\s+/,qN=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],l=e.trim().split(QN);let i="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:p,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:j}=s(d);let v=!!j,u=r(v?h.substring(0,j):h);if(!u){if(!v){i=d+(i.length>0?" "+i:i);continue}if(u=r(h),!u){i=d+(i.length>0?" "+i:i);continue}v=!1}const b=KN(p).join(":"),y=m?b+D0:b,f=y+u;if(o.includes(f))continue;o.push(f);const g=a(u,v);for(let w=0;w<g.length;++w){const N=g[w];o.push(y+N)}i=d+(i.length>0?" "+i:i)}return i};function JN(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=M0(t))&&(r&&(r+=" "),r+=s);return r}const M0=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=M0(e[r]))&&(s&&(s+=" "),s+=t);return s};function YN(e,...t){let s,r,a,o=l;function l(c){const d=t.reduce((p,m)=>m(p),e());return s=GN(d),r=s.cache.get,a=s.cache.set,o=i,i(c)}function i(c){const d=r(c);if(d)return d;const p=qN(c,s);return a(c,p),p}return function(){return o(JN.apply(null,arguments))}}const ve=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},O0=/^\[(?:([a-z-]+):)?(.+)\]$/i,XN=/^\d+\/\d+$/,ZN=new Set(["px","full","screen"]),e1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,n1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ns=e=>ur(e)||ZN.has(e)||XN.test(e),Ns=e=>Hr(e,"length",m1),ur=e=>!!e&&!Number.isNaN(Number(e)),Vi=e=>Hr(e,"number",ur),ra=e=>!!e&&Number.isInteger(Number(e)),a1=e=>e.endsWith("%")&&ur(e.slice(0,-1)),Z=e=>O0.test(e),Ss=e=>e1.test(e),o1=new Set(["length","size","percentage"]),l1=e=>Hr(e,o1,L0),i1=e=>Hr(e,"position",L0),c1=new Set(["image","url"]),d1=e=>Hr(e,c1,h1),u1=e=>Hr(e,"",f1),aa=()=>!0,Hr=(e,t,s)=>{const r=O0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},m1=e=>t1.test(e)&&!s1.test(e),L0=()=>!1,f1=e=>n1.test(e),h1=e=>r1.test(e),p1=()=>{const e=ve("colors"),t=ve("spacing"),s=ve("blur"),r=ve("brightness"),a=ve("borderColor"),o=ve("borderRadius"),l=ve("borderSpacing"),i=ve("borderWidth"),c=ve("contrast"),d=ve("grayscale"),p=ve("hueRotate"),m=ve("invert"),h=ve("gap"),j=ve("gradientColorStops"),v=ve("gradientColorStopPositions"),u=ve("inset"),b=ve("margin"),y=ve("opacity"),f=ve("padding"),g=ve("saturate"),w=ve("scale"),N=ve("sepia"),E=ve("skew"),S=ve("space"),k=ve("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Z,t],D=()=>[Z,t],z=()=>["",ns,Ns],P=()=>["auto",ur,Z],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],F=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Z],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[ur,Z];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[ns,Ns],blur:["none","",Ss,Z],brightness:H(),borderColor:[e],borderRadius:["none","","full",Ss,Z],borderSpacing:D(),borderWidth:z(),contrast:H(),grayscale:O(),hueRotate:H(),invert:O(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[a1,Ns],inset:R(),margin:R(),opacity:H(),padding:D(),saturate:H(),scale:H(),sepia:O(),skew:H(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[Ss]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Z]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[u]}],"inset-x":[{"inset-x":[u]}],"inset-y":[{"inset-y":[u]}],start:[{start:[u]}],end:[{end:[u]}],top:[{top:[u]}],right:[{right:[u]}],bottom:[{bottom:[u]}],left:[{left:[u]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ra,Z]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",ra,Z]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",ra,Z]},Z]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[ra,Z]},Z]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,t]}],"min-w":[{"min-w":[Z,t,"min","max","fit"]}],"max-w":[{"max-w":[Z,t,"none","full","min","max","fit","prose",{screen:[Ss]},Ss]}],h:[{h:[Z,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ss,Ns]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vi]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",ur,Vi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ns,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...F(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ns,Ns]}],"underline-offset":[{"underline-offset":["auto",ns,Z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),i1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...F(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:F()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...F()]}],"outline-offset":[{"outline-offset":[ns,Z]}],"outline-w":[{outline:[ns,Ns]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[ns,Ns]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ss,u1]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ss,Z]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[g]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ra,Z]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ns,Ns,Vi]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x1=YN(p1);function he(...e){return x1(S0(e))}const g1=NN,F0=x.forwardRef(({className:e,...t},s)=>n.jsx(g0,{ref:s,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));F0.displayName=g0.displayName;const v1=Jl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_0=x.forwardRef(({className:e,variant:t,...s},r)=>n.jsx(v0,{ref:r,className:he(v1({variant:t}),e),...s}));_0.displayName=v0.displayName;const y1=x.forwardRef(({className:e,...t},s)=>n.jsx(b0,{ref:s,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));y1.displayName=b0.displayName;const $0=x.forwardRef(({className:e,...t},s)=>n.jsx(j0,{ref:s,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(_N,{className:"h-4 w-4"})}));$0.displayName=j0.displayName;const z0=x.forwardRef(({className:e,...t},s)=>n.jsx(y0,{ref:s,className:he("text-sm font-semibold",e),...t}));z0.displayName=y0.displayName;const U0=x.forwardRef(({className:e,...t},s)=>n.jsx(w0,{ref:s,className:he("text-sm opacity-90",e),...t}));U0.displayName=w0.displayName;function w1(){const{toasts:e}=Ie();return n.jsxs(g1,{children:[e.map(function({id:t,title:s,description:r,action:a,...o}){return n.jsxs(_0,{...o,children:[n.jsxs("div",{className:"grid gap-1",children:[s&&n.jsx(z0,{children:s}),r&&n.jsx(U0,{children:r})]}),a,n.jsx($0,{})]},t)}),n.jsx(F0,{})]})}var b1=jh[" useId ".trim().toString()]||(()=>{}),j1=0;function eo(e){const[t,s]=x.useState(b1());return Ye(()=>{e||s(r=>r??String(j1++))},[e]),e||(t?`radix-${t}`:"")}const N1=["top","right","bottom","left"],en=Math.min,xt=Math.max,Sl=Math.round,Co=Math.floor,Zt=e=>({x:e,y:e}),S1={left:"right",right:"left",bottom:"top",top:"bottom"},k1={start:"end",end:"start"};function hd(e,t,s){return xt(e,en(t,s))}function ys(e,t){return typeof e=="function"?e(t):e}function ws(e){return e.split("-")[0]}function Kr(e){return e.split("-")[1]}function Mu(e){return e==="x"?"y":"x"}function Ou(e){return e==="y"?"height":"width"}function tn(e){return["top","bottom"].includes(ws(e))?"y":"x"}function Lu(e){return Mu(tn(e))}function C1(e,t,s){s===void 0&&(s=!1);const r=Kr(e),a=Lu(e),o=Ou(a);let l=a==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=kl(l)),[l,kl(l)]}function E1(e){const t=kl(e);return[pd(e),t,pd(t)]}function pd(e){return e.replace(/start|end/g,t=>k1[t])}function P1(e,t,s){const r=["left","right"],a=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return s?t?a:r:t?r:a;case"left":case"right":return t?o:l;default:return[]}}function T1(e,t,s,r){const a=Kr(e);let o=P1(ws(e),s==="start",r);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(pd)))),o}function kl(e){return e.replace(/left|right|bottom|top/g,t=>S1[t])}function R1(e){return{top:0,right:0,bottom:0,left:0,...e}}function V0(e){return typeof e!="number"?R1(e):{top:e,right:e,bottom:e,left:e}}function Cl(e){const{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function Df(e,t,s){let{reference:r,floating:a}=e;const o=tn(t),l=Lu(t),i=Ou(l),c=ws(t),d=o==="y",p=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,h=r[i]/2-a[i]/2;let j;switch(c){case"top":j={x:p,y:r.y-a.height};break;case"bottom":j={x:p,y:r.y+r.height};break;case"right":j={x:r.x+r.width,y:m};break;case"left":j={x:r.x-a.width,y:m};break;default:j={x:r.x,y:r.y}}switch(Kr(t)){case"start":j[l]-=h*(s&&d?-1:1);break;case"end":j[l]+=h*(s&&d?-1:1);break}return j}const I1=async(e,t,s)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:l}=s,i=o.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:p,y:m}=Df(d,r,c),h=r,j={},v=0;for(let u=0;u<i.length;u++){const{name:b,fn:y}=i[u],{x:f,y:g,data:w,reset:N}=await y({x:p,y:m,initialPlacement:r,placement:h,strategy:a,middlewareData:j,rects:d,platform:l,elements:{reference:e,floating:t}});p=f??p,m=g??m,j={...j,[b]:{...j[b],...w}},N&&v<=50&&(v++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(d=N.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:p,y:m}=Df(d,h,c)),u=-1)}return{x:p,y:m,placement:h,strategy:a,middlewareData:j}};async function Ua(e,t){var s;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:l,elements:i,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:h=!1,padding:j=0}=ys(t,e),v=V0(j),b=i[h?m==="floating"?"reference":"floating":m],y=Cl(await o.getClippingRect({element:(s=await(o.isElement==null?void 0:o.isElement(b)))==null||s?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:d,rootBoundary:p,strategy:c})),f=m==="floating"?{x:r,y:a,width:l.floating.width,height:l.floating.height}:l.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),w=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},N=Cl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:f,offsetParent:g,strategy:c}):f);return{top:(y.top-N.top+v.top)/w.y,bottom:(N.bottom-y.bottom+v.bottom)/w.y,left:(y.left-N.left+v.left)/w.x,right:(N.right-y.right+v.right)/w.x}}const A1=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:r,placement:a,rects:o,platform:l,elements:i,middlewareData:c}=t,{element:d,padding:p=0}=ys(e,t)||{};if(d==null)return{};const m=V0(p),h={x:s,y:r},j=Lu(a),v=Ou(j),u=await l.getDimensions(d),b=j==="y",y=b?"top":"left",f=b?"bottom":"right",g=b?"clientHeight":"clientWidth",w=o.reference[v]+o.reference[j]-h[j]-o.floating[v],N=h[j]-o.reference[j],E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let S=E?E[g]:0;(!S||!await(l.isElement==null?void 0:l.isElement(E)))&&(S=i.floating[g]||o.floating[v]);const k=w/2-N/2,T=S/2-u[v]/2-1,A=en(m[y],T),R=en(m[f],T),D=A,z=S-u[v]-R,P=S/2-u[v]/2+k,_=hd(D,P,z),F=!c.arrow&&Kr(a)!=null&&P!==_&&o.reference[v]/2-(P<D?A:R)-u[v]/2<0,M=F?P<D?P-D:P-z:0;return{[j]:h[j]+M,data:{[j]:_,centerOffset:P-_-M,...F&&{alignmentOffset:M}},reset:F}}}),D1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,r;const{placement:a,middlewareData:o,rects:l,initialPlacement:i,platform:c,elements:d}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:u=!0,...b}=ys(e,t);if((s=o.arrow)!=null&&s.alignmentOffset)return{};const y=ws(a),f=tn(i),g=ws(i)===i,w=await(c.isRTL==null?void 0:c.isRTL(d.floating)),N=h||(g||!u?[kl(i)]:E1(i)),E=v!=="none";!h&&E&&N.push(...T1(i,u,v,w));const S=[i,...N],k=await Ua(t,b),T=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(p&&T.push(k[y]),m){const P=C1(a,l,w);T.push(k[P[0]],k[P[1]])}if(A=[...A,{placement:a,overflows:T}],!T.every(P=>P<=0)){var R,D;const P=(((R=o.flip)==null?void 0:R.index)||0)+1,_=S[P];if(_)return{data:{index:P,overflows:A},reset:{placement:_}};let F=(D=A.filter(M=>M.overflows[0]<=0).sort((M,I)=>M.overflows[1]-I.overflows[1])[0])==null?void 0:D.placement;if(!F)switch(j){case"bestFit":{var z;const M=(z=A.filter(I=>{if(E){const O=tn(I.placement);return O===f||O==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(O=>O>0).reduce((O,U)=>O+U,0)]).sort((I,O)=>I[1]-O[1])[0])==null?void 0:z[0];M&&(F=M);break}case"initialPlacement":F=i;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function Mf(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Of(e){return N1.some(t=>e[t]>=0)}const M1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:r="referenceHidden",...a}=ys(e,t);switch(r){case"referenceHidden":{const o=await Ua(t,{...a,elementContext:"reference"}),l=Mf(o,s.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Of(l)}}}case"escaped":{const o=await Ua(t,{...a,altBoundary:!0}),l=Mf(o,s.floating);return{data:{escapedOffsets:l,escaped:Of(l)}}}default:return{}}}}};async function O1(e,t){const{placement:s,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),l=ws(s),i=Kr(s),c=tn(s)==="y",d=["left","top"].includes(l)?-1:1,p=o&&c?-1:1,m=ys(t,e);let{mainAxis:h,crossAxis:j,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof v=="number"&&(j=i==="end"?v*-1:v),c?{x:j*p,y:h*d}:{x:h*d,y:j*p}}const L1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,r;const{x:a,y:o,placement:l,middlewareData:i}=t,c=await O1(t,e);return l===((s=i.offset)==null?void 0:s.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:l}}}}},F1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:i={fn:b=>{let{x:y,y:f}=b;return{x:y,y:f}}},...c}=ys(e,t),d={x:s,y:r},p=await Ua(t,c),m=tn(ws(a)),h=Mu(m);let j=d[h],v=d[m];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",f=j+p[b],g=j-p[y];j=hd(f,j,g)}if(l){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",f=v+p[b],g=v-p[y];v=hd(f,v,g)}const u=i.fn({...t,[h]:j,[m]:v});return{...u,data:{x:u.x-s,y:u.y-r,enabled:{[h]:o,[m]:l}}}}}},_1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:r,placement:a,rects:o,middlewareData:l}=t,{offset:i=0,mainAxis:c=!0,crossAxis:d=!0}=ys(e,t),p={x:s,y:r},m=tn(a),h=Mu(m);let j=p[h],v=p[m];const u=ys(i,t),b=typeof u=="number"?{mainAxis:u,crossAxis:0}:{mainAxis:0,crossAxis:0,...u};if(c){const g=h==="y"?"height":"width",w=o.reference[h]-o.floating[g]+b.mainAxis,N=o.reference[h]+o.reference[g]-b.mainAxis;j<w?j=w:j>N&&(j=N)}if(d){var y,f;const g=h==="y"?"width":"height",w=["top","left"].includes(ws(a)),N=o.reference[m]-o.floating[g]+(w&&((y=l.offset)==null?void 0:y[m])||0)+(w?0:b.crossAxis),E=o.reference[m]+o.reference[g]+(w?0:((f=l.offset)==null?void 0:f[m])||0)-(w?b.crossAxis:0);v<N?v=N:v>E&&(v=E)}return{[h]:j,[m]:v}}}},$1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,r;const{placement:a,rects:o,platform:l,elements:i}=t,{apply:c=()=>{},...d}=ys(e,t),p=await Ua(t,d),m=ws(a),h=Kr(a),j=tn(a)==="y",{width:v,height:u}=o.floating;let b,y;m==="top"||m==="bottom"?(b=m,y=h===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(y=m,b=h==="end"?"top":"bottom");const f=u-p.top-p.bottom,g=v-p.left-p.right,w=en(u-p[b],f),N=en(v-p[y],g),E=!t.middlewareData.shift;let S=w,k=N;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(k=g),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(S=f),E&&!h){const A=xt(p.left,0),R=xt(p.right,0),D=xt(p.top,0),z=xt(p.bottom,0);j?k=v-2*(A!==0||R!==0?A+R:xt(p.left,p.right)):S=u-2*(D!==0||z!==0?D+z:xt(p.top,p.bottom))}await c({...t,availableWidth:k,availableHeight:S});const T=await l.getDimensions(i.floating);return v!==T.width||u!==T.height?{reset:{rects:!0}}:{}}}};function Yl(){return typeof window<"u"}function Gr(e){return B0(e)?(e.nodeName||"").toLowerCase():"#document"}function yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ts(e){var t;return(t=(B0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function B0(e){return Yl()?e instanceof Node||e instanceof yt(e).Node:!1}function Ut(e){return Yl()?e instanceof Element||e instanceof yt(e).Element:!1}function es(e){return Yl()?e instanceof HTMLElement||e instanceof yt(e).HTMLElement:!1}function Lf(e){return!Yl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yt(e).ShadowRoot}function to(e){const{overflow:t,overflowX:s,overflowY:r,display:a}=Vt(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!["inline","contents"].includes(a)}function z1(e){return["table","td","th"].includes(Gr(e))}function Xl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fu(e){const t=_u(),s=Ut(e)?Vt(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(s.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(s.contain||"").includes(r))}function U1(e){let t=sn(e);for(;es(t)&&!_r(t);){if(Fu(t))return t;if(Xl(t))return null;t=sn(t)}return null}function _u(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _r(e){return["html","body","#document"].includes(Gr(e))}function Vt(e){return yt(e).getComputedStyle(e)}function Zl(e){return Ut(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sn(e){if(Gr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lf(e)&&e.host||ts(e);return Lf(t)?t.host:t}function W0(e){const t=sn(e);return _r(t)?e.ownerDocument?e.ownerDocument.body:e.body:es(t)&&to(t)?t:W0(t)}function Va(e,t,s){var r;t===void 0&&(t=[]),s===void 0&&(s=!0);const a=W0(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),l=yt(a);if(o){const i=xd(l);return t.concat(l,l.visualViewport||[],to(a)?a:[],i&&s?Va(i):[])}return t.concat(a,Va(a,[],s))}function xd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function H0(e){const t=Vt(e);let s=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=es(e),o=a?e.offsetWidth:s,l=a?e.offsetHeight:r,i=Sl(s)!==o||Sl(r)!==l;return i&&(s=o,r=l),{width:s,height:r,$:i}}function $u(e){return Ut(e)?e:e.contextElement}function mr(e){const t=$u(e);if(!es(t))return Zt(1);const s=t.getBoundingClientRect(),{width:r,height:a,$:o}=H0(t);let l=(o?Sl(s.width):s.width)/r,i=(o?Sl(s.height):s.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const V1=Zt(0);function K0(e){const t=yt(e);return!_u()||!t.visualViewport?V1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B1(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==yt(e)?!1:t}function Mn(e,t,s,r){t===void 0&&(t=!1),s===void 0&&(s=!1);const a=e.getBoundingClientRect(),o=$u(e);let l=Zt(1);t&&(r?Ut(r)&&(l=mr(r)):l=mr(e));const i=B1(o,s,r)?K0(o):Zt(0);let c=(a.left+i.x)/l.x,d=(a.top+i.y)/l.y,p=a.width/l.x,m=a.height/l.y;if(o){const h=yt(o),j=r&&Ut(r)?yt(r):r;let v=h,u=xd(v);for(;u&&r&&j!==v;){const b=mr(u),y=u.getBoundingClientRect(),f=Vt(u),g=y.left+(u.clientLeft+parseFloat(f.paddingLeft))*b.x,w=y.top+(u.clientTop+parseFloat(f.paddingTop))*b.y;c*=b.x,d*=b.y,p*=b.x,m*=b.y,c+=g,d+=w,v=yt(u),u=xd(v)}}return Cl({width:p,height:m,x:c,y:d})}function zu(e,t){const s=Zl(e).scrollLeft;return t?t.left+s:Mn(ts(e)).left+s}function G0(e,t,s){s===void 0&&(s=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(s?0:zu(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function W1(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e;const o=a==="fixed",l=ts(r),i=t?Xl(t.floating):!1;if(r===l||i&&o)return s;let c={scrollLeft:0,scrollTop:0},d=Zt(1);const p=Zt(0),m=es(r);if((m||!m&&!o)&&((Gr(r)!=="body"||to(l))&&(c=Zl(r)),es(r))){const j=Mn(r);d=mr(r),p.x=j.x+r.clientLeft,p.y=j.y+r.clientTop}const h=l&&!m&&!o?G0(l,c,!0):Zt(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+p.x+h.x,y:s.y*d.y-c.scrollTop*d.y+p.y+h.y}}function H1(e){return Array.from(e.getClientRects())}function K1(e){const t=ts(e),s=Zl(e),r=e.ownerDocument.body,a=xt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=xt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-s.scrollLeft+zu(e);const i=-s.scrollTop;return Vt(r).direction==="rtl"&&(l+=xt(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:l,y:i}}function G1(e,t){const s=yt(e),r=ts(e),a=s.visualViewport;let o=r.clientWidth,l=r.clientHeight,i=0,c=0;if(a){o=a.width,l=a.height;const d=_u();(!d||d&&t==="fixed")&&(i=a.offsetLeft,c=a.offsetTop)}return{width:o,height:l,x:i,y:c}}function Q1(e,t){const s=Mn(e,!0,t==="fixed"),r=s.top+e.clientTop,a=s.left+e.clientLeft,o=es(e)?mr(e):Zt(1),l=e.clientWidth*o.x,i=e.clientHeight*o.y,c=a*o.x,d=r*o.y;return{width:l,height:i,x:c,y:d}}function Ff(e,t,s){let r;if(t==="viewport")r=G1(e,s);else if(t==="document")r=K1(ts(e));else if(Ut(t))r=Q1(t,s);else{const a=K0(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Cl(r)}function Q0(e,t){const s=sn(e);return s===t||!Ut(s)||_r(s)?!1:Vt(s).position==="fixed"||Q0(s,t)}function q1(e,t){const s=t.get(e);if(s)return s;let r=Va(e,[],!1).filter(i=>Ut(i)&&Gr(i)!=="body"),a=null;const o=Vt(e).position==="fixed";let l=o?sn(e):e;for(;Ut(l)&&!_r(l);){const i=Vt(l),c=Fu(l);!c&&i.position==="fixed"&&(a=null),(o?!c&&!a:!c&&i.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||to(l)&&!c&&Q0(e,l))?r=r.filter(p=>p!==l):a=i,l=sn(l)}return t.set(e,r),r}function J1(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e;const l=[...s==="clippingAncestors"?Xl(t)?[]:q1(t,this._c):[].concat(s),r],i=l[0],c=l.reduce((d,p)=>{const m=Ff(t,p,a);return d.top=xt(m.top,d.top),d.right=en(m.right,d.right),d.bottom=en(m.bottom,d.bottom),d.left=xt(m.left,d.left),d},Ff(t,i,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Y1(e){const{width:t,height:s}=H0(e);return{width:t,height:s}}function X1(e,t,s){const r=es(t),a=ts(t),o=s==="fixed",l=Mn(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const c=Zt(0);if(r||!r&&!o)if((Gr(t)!=="body"||to(a))&&(i=Zl(t)),r){const h=Mn(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=zu(a));const d=a&&!r&&!o?G0(a,i):Zt(0),p=l.left+i.scrollLeft-c.x-d.x,m=l.top+i.scrollTop-c.y-d.y;return{x:p,y:m,width:l.width,height:l.height}}function Bi(e){return Vt(e).position==="static"}function _f(e,t){if(!es(e)||Vt(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return ts(e)===s&&(s=s.ownerDocument.body),s}function q0(e,t){const s=yt(e);if(Xl(e))return s;if(!es(e)){let a=sn(e);for(;a&&!_r(a);){if(Ut(a)&&!Bi(a))return a;a=sn(a)}return s}let r=_f(e,t);for(;r&&z1(r)&&Bi(r);)r=_f(r,t);return r&&_r(r)&&Bi(r)&&!Fu(r)?s:r||U1(e)||s}const Z1=async function(e){const t=this.getOffsetParent||q0,s=this.getDimensions,r=await s(e.floating);return{reference:X1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eS(e){return Vt(e).direction==="rtl"}const tS={convertOffsetParentRelativeRectToViewportRelativeRect:W1,getDocumentElement:ts,getClippingRect:J1,getOffsetParent:q0,getElementRects:Z1,getClientRects:H1,getDimensions:Y1,getScale:mr,isElement:Ut,isRTL:eS};function J0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function sS(e,t){let s=null,r;const a=ts(e);function o(){var i;clearTimeout(r),(i=s)==null||i.disconnect(),s=null}function l(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),o();const d=e.getBoundingClientRect(),{left:p,top:m,width:h,height:j}=d;if(i||t(),!h||!j)return;const v=Co(m),u=Co(a.clientWidth-(p+h)),b=Co(a.clientHeight-(m+j)),y=Co(p),g={rootMargin:-v+"px "+-u+"px "+-b+"px "+-y+"px",threshold:xt(0,en(1,c))||1};let w=!0;function N(E){const S=E[0].intersectionRatio;if(S!==c){if(!w)return l();S?l(!1,S):r=setTimeout(()=>{l(!1,1e-7)},1e3)}S===1&&!J0(d,e.getBoundingClientRect())&&l(),w=!1}try{s=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,g)}s.observe(e)}return l(!0),o}function nS(e,t,s,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=$u(e),p=a||o?[...d?Va(d):[],...Va(t)]:[];p.forEach(y=>{a&&y.addEventListener("scroll",s,{passive:!0}),o&&y.addEventListener("resize",s)});const m=d&&i?sS(d,s):null;let h=-1,j=null;l&&(j=new ResizeObserver(y=>{let[f]=y;f&&f.target===d&&j&&(j.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=j)==null||g.observe(t)})),s()}),d&&!c&&j.observe(d),j.observe(t));let v,u=c?Mn(e):null;c&&b();function b(){const y=Mn(e);u&&!J0(u,y)&&s(),u=y,v=requestAnimationFrame(b)}return s(),()=>{var y;p.forEach(f=>{a&&f.removeEventListener("scroll",s),o&&f.removeEventListener("resize",s)}),m==null||m(),(y=j)==null||y.disconnect(),j=null,c&&cancelAnimationFrame(v)}}const rS=L1,aS=F1,oS=D1,lS=$1,iS=M1,$f=A1,cS=_1,dS=(e,t,s)=>{const r=new Map,a={platform:tS,...s},o={...a.platform,_c:r};return I1(e,t,{...a,platform:o})};var Ko=typeof document<"u"?x.useLayoutEffect:x.useEffect;function El(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(r=s;r--!==0;)if(!El(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),s=a.length,s!==Object.keys(t).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=s;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!El(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Y0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zf(e,t){const s=Y0(e);return Math.round(t*s)/s}function Wi(e){const t=x.useRef(e);return Ko(()=>{t.current=e}),t}function uS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:l}={},transform:i=!0,whileElementsMounted:c,open:d}=e,[p,m]=x.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,j]=x.useState(r);El(h,r)||j(r);const[v,u]=x.useState(null),[b,y]=x.useState(null),f=x.useCallback(I=>{I!==E.current&&(E.current=I,u(I))},[]),g=x.useCallback(I=>{I!==S.current&&(S.current=I,y(I))},[]),w=o||v,N=l||b,E=x.useRef(null),S=x.useRef(null),k=x.useRef(p),T=c!=null,A=Wi(c),R=Wi(a),D=Wi(d),z=x.useCallback(()=>{if(!E.current||!S.current)return;const I={placement:t,strategy:s,middleware:h};R.current&&(I.platform=R.current),dS(E.current,S.current,I).then(O=>{const U={...O,isPositioned:D.current!==!1};P.current&&!El(k.current,U)&&(k.current=U,_n.flushSync(()=>{m(U)}))})},[h,t,s,R,D]);Ko(()=>{d===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,m(I=>({...I,isPositioned:!1})))},[d]);const P=x.useRef(!1);Ko(()=>(P.current=!0,()=>{P.current=!1}),[]),Ko(()=>{if(w&&(E.current=w),N&&(S.current=N),w&&N){if(A.current)return A.current(w,N,z);z()}},[w,N,z,A,T]);const _=x.useMemo(()=>({reference:E,floating:S,setReference:f,setFloating:g}),[f,g]),F=x.useMemo(()=>({reference:w,floating:N}),[w,N]),M=x.useMemo(()=>{const I={position:s,left:0,top:0};if(!F.floating)return I;const O=zf(F.floating,p.x),U=zf(F.floating,p.y);return i?{...I,transform:"translate("+O+"px, "+U+"px)",...Y0(F.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:O,top:U}},[s,i,F.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:z,refs:_,elements:F,floatingStyles:M}),[p,z,_,F,M])}const mS=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:r,padding:a}=typeof e=="function"?e(s):e;return r&&t(r)?r.current!=null?$f({element:r.current,padding:a}).fn(s):{}:r?$f({element:r,padding:a}).fn(s):{}}}},fS=(e,t)=>({...rS(e),options:[e,t]}),hS=(e,t)=>({...aS(e),options:[e,t]}),pS=(e,t)=>({...cS(e),options:[e,t]}),xS=(e,t)=>({...oS(e),options:[e,t]}),gS=(e,t)=>({...lS(e),options:[e,t]}),vS=(e,t)=>({...iS(e),options:[e,t]}),yS=(e,t)=>({...mS(e),options:[e,t]});var wS="Arrow",X0=x.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...o}=e;return n.jsx(ce.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});X0.displayName=wS;var bS=X0;function Z0(e){const[t,s]=x.useState(void 0);return Ye(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let l,i;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,i=d.blockSize}else l=e.offsetWidth,i=e.offsetHeight;s({width:l,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Uu="Popper",[eg,ei]=ln(Uu),[jS,tg]=eg(Uu),sg=e=>{const{__scopePopper:t,children:s}=e,[r,a]=x.useState(null);return n.jsx(jS,{scope:t,anchor:r,onAnchorChange:a,children:s})};sg.displayName=Uu;var ng="PopperAnchor",rg=x.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,o=tg(ng,s),l=x.useRef(null),i=Ne(t,l);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:n.jsx(ce.div,{...a,ref:i})});rg.displayName=ng;var Vu="PopperContent",[NS,SS]=eg(Vu),ag=x.forwardRef((e,t)=>{var V,Y,ue,ae,se,ne;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:j="optimized",onPlaced:v,...u}=e,b=tg(Vu,s),[y,f]=x.useState(null),g=Ne(t,Ae=>f(Ae)),[w,N]=x.useState(null),E=Z0(w),S=(E==null?void 0:E.width)??0,k=(E==null?void 0:E.height)??0,T=r+(o!=="center"?"-"+o:""),A=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(d)?d:[d],D=R.length>0,z={padding:A,boundary:R.filter(CS),altBoundary:D},{refs:P,floatingStyles:_,placement:F,isPositioned:M,middlewareData:I}=uS({strategy:"fixed",placement:T,whileElementsMounted:(...Ae)=>nS(...Ae,{animationFrame:j==="always"}),elements:{reference:b.anchor},middleware:[fS({mainAxis:a+k,alignmentAxis:l}),c&&hS({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?pS():void 0,...z}),c&&xS({...z}),gS({...z,apply:({elements:Ae,rects:rt,availableWidth:un,availableHeight:ss})=>{const{width:qr,height:qv}=rt.reference,no=Ae.floating.style;no.setProperty("--radix-popper-available-width",`${un}px`),no.setProperty("--radix-popper-available-height",`${ss}px`),no.setProperty("--radix-popper-anchor-width",`${qr}px`),no.setProperty("--radix-popper-anchor-height",`${qv}px`)}}),w&&yS({element:w,padding:i}),ES({arrowWidth:S,arrowHeight:k}),h&&vS({strategy:"referenceHidden",...z})]}),[O,U]=ig(F),H=ft(v);Ye(()=>{M&&(H==null||H())},[M,H]);const J=(V=I.arrow)==null?void 0:V.x,re=(Y=I.arrow)==null?void 0:Y.y,L=((ue=I.arrow)==null?void 0:ue.centerOffset)!==0,[G,q]=x.useState();return Ye(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),n.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:M?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(ae=I.transformOrigin)==null?void 0:ae.x,(se=I.transformOrigin)==null?void 0:se.y].join(" "),...((ne=I.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(NS,{scope:s,placedSide:O,onArrowChange:N,arrowX:J,arrowY:re,shouldHideArrow:L,children:n.jsx(ce.div,{"data-side":O,"data-align":U,...u,ref:g,style:{...u.style,animation:M?void 0:"none"}})})})});ag.displayName=Vu;var og="PopperArrow",kS={top:"bottom",right:"left",bottom:"top",left:"right"},lg=x.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,o=SS(og,r),l=kS[o.placedSide];return n.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:n.jsx(bS,{...a,ref:s,style:{...a.style,display:"block"}})})});lg.displayName=og;function CS(e){return e!==null}var ES=e=>({name:"transformOrigin",options:e,fn(t){var b,y,f;const{placement:s,rects:r,middlewareData:a}=t,l=((b=a.arrow)==null?void 0:b.centerOffset)!==0,i=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[d,p]=ig(s),m={start:"0%",center:"50%",end:"100%"}[p],h=(((y=a.arrow)==null?void 0:y.x)??0)+i/2,j=(((f=a.arrow)==null?void 0:f.y)??0)+c/2;let v="",u="";return d==="bottom"?(v=l?m:`${h}px`,u=`${-c}px`):d==="top"?(v=l?m:`${h}px`,u=`${r.floating.height+c}px`):d==="right"?(v=`${-c}px`,u=l?m:`${j}px`):d==="left"&&(v=`${r.floating.width+c}px`,u=l?m:`${j}px`),{data:{x:v,y:u}}}});function ig(e){const[t,s="center"]=e.split("-");return[t,s]}var PS=sg,cg=rg,dg=ag,ug=lg,[ti,R4]=ln("Tooltip",[ei]),Bu=ei(),mg="TooltipProvider",TS=700,Uf="tooltip.open",[RS,fg]=ti(mg),hg=e=>{const{__scopeTooltip:t,delayDuration:s=TS,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,l=x.useRef(!0),i=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),n.jsx(RS,{scope:t,isOpenDelayedRef:l,delayDuration:s,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:x.useCallback(d=>{i.current=d},[]),disableHoverableContent:a,children:o})};hg.displayName=mg;var pg="Tooltip",[I4,si]=ti(pg),gd="TooltipTrigger",IS=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=si(gd,s),o=fg(gd,s),l=Bu(s),i=x.useRef(null),c=Ne(t,i,a.onTriggerChange),d=x.useRef(!1),p=x.useRef(!1),m=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),n.jsx(cg,{asChild:!0,...l,children:n.jsx(ce.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:c,onPointerMove:X(e.onPointerMove,h=>{h.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),p.current=!0)}),onPointerLeave:X(e.onPointerLeave,()=>{a.onTriggerLeave(),p.current=!1}),onPointerDown:X(e.onPointerDown,()=>{a.open&&a.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:X(e.onFocus,()=>{d.current||a.onOpen()}),onBlur:X(e.onBlur,a.onClose),onClick:X(e.onClick,a.onClose)})})});IS.displayName=gd;var AS="TooltipPortal",[A4,DS]=ti(AS,{forceMount:void 0}),$r="TooltipContent",xg=x.forwardRef((e,t)=>{const s=DS($r,e.__scopeTooltip),{forceMount:r=s.forceMount,side:a="top",...o}=e,l=si($r,e.__scopeTooltip);return n.jsx(Gl,{present:r||l.open,children:l.disableHoverableContent?n.jsx(gg,{side:a,...o,ref:t}):n.jsx(MS,{side:a,...o,ref:t})})}),MS=x.forwardRef((e,t)=>{const s=si($r,e.__scopeTooltip),r=fg($r,e.__scopeTooltip),a=x.useRef(null),o=Ne(t,a),[l,i]=x.useState(null),{trigger:c,onClose:d}=s,p=a.current,{onPointerInTransitChange:m}=r,h=x.useCallback(()=>{i(null),m(!1)},[m]),j=x.useCallback((v,u)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},f=$S(y,b.getBoundingClientRect()),g=zS(y,f),w=US(u.getBoundingClientRect()),N=BS([...g,...w]);i(N),m(!0)},[m]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&p){const v=b=>j(b,p),u=b=>j(b,c);return c.addEventListener("pointerleave",v),p.addEventListener("pointerleave",u),()=>{c.removeEventListener("pointerleave",v),p.removeEventListener("pointerleave",u)}}},[c,p,j,h]),x.useEffect(()=>{if(l){const v=u=>{const b=u.target,y={x:u.clientX,y:u.clientY},f=(c==null?void 0:c.contains(b))||(p==null?void 0:p.contains(b)),g=!VS(y,l);f?h():g&&(h(),d())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,p,l,d,h]),n.jsx(gg,{...e,ref:o})}),[OS,LS]=ti(pg,{isInside:!1}),FS=$j("TooltipContent"),gg=x.forwardRef((e,t)=>{const{__scopeTooltip:s,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:l,...i}=e,c=si($r,s),d=Bu(s),{onClose:p}=c;return x.useEffect(()=>(document.addEventListener(Uf,p),()=>document.removeEventListener(Uf,p)),[p]),x.useEffect(()=>{if(c.trigger){const m=h=>{const j=h.target;j!=null&&j.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),n.jsx(Kl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:n.jsxs(dg,{"data-state":c.stateAttribute,...d,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(FS,{children:r}),n.jsx(OS,{scope:s,isInside:!0,children:n.jsx(aN,{id:c.contentId,role:"tooltip",children:a||r})})]})})});xg.displayName=$r;var vg="TooltipArrow",_S=x.forwardRef((e,t)=>{const{__scopeTooltip:s,...r}=e,a=Bu(s);return LS(vg,s).isInside?null:n.jsx(ug,{...a,...r,ref:t})});_S.displayName=vg;function $S(e,t){const s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(s,r,a,o)){case o:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zS(e,t,s=5){const r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return r}function US(e){const{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}function VS(e,t){const{x:s,y:r}=e;let a=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const i=t[o].x,c=t[o].y,d=t[l].x,p=t[l].y;c>r!=p>r&&s<(d-i)*(r-c)/(p-c)+i&&(a=!a)}return a}function BS(e){const t=e.slice();return t.sort((s,r)=>s.x<r.x?-1:s.x>r.x?1:s.y<r.y?-1:s.y>r.y?1:0),WS(t)}function WS(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))t.pop();else break}t.push(a)}t.pop();const s=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;s.length>=2;){const o=s[s.length-1],l=s[s.length-2];if((o.x-l.x)*(a.y-l.y)>=(o.y-l.y)*(a.x-l.x))s.pop();else break}s.push(a)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var HS=hg,yg=xg;const KS=HS,GS=x.forwardRef(({className:e,sideOffset:t=4,...s},r)=>n.jsx(yg,{ref:r,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...s}));GS.displayName=yg.displayName;const QS=Jl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),K=x.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},o)=>{const l=r?Fj:"button";return n.jsx(l,{className:he(QS({variant:t,size:s,className:e})),ref:o,...a})});K.displayName="Button";const qS=Jl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:t,...s}){return n.jsx("div",{className:he(qS({variant:t}),e),...s})}function sr({id:e,title:t,content:s,type:r="info",placement:a="top",trigger:o="hover",children:l,className:i=""}){const[c,d]=x.useState(!1),[p,m]=x.useState(()=>localStorage.getItem(`tooltip-dismissed-${e}`)==="true"),h=()=>{p||d(!0)},j=()=>{d(!1)},v=()=>{m(!0),d(!1),localStorage.setItem(`tooltip-dismissed-${e}`,"true")},u=()=>{switch(r){case"help":return n.jsx(AN,{className:"h-4 w-4"});case"success":return n.jsx(ze,{className:"h-4 w-4"});case"warning":return n.jsx(Tf,{className:"h-4 w-4 text-yellow-400"});default:return n.jsx(Tf,{className:"h-4 w-4"})}},b=()=>{switch(r){case"help":return"bg-blue-800 border-blue-600 text-blue-100";case"success":return"bg-green-800 border-green-600 text-green-100";case"warning":return"bg-yellow-800 border-yellow-600 text-yellow-100";default:return"bg-slate-800 border-slate-600 text-slate-100"}},y=()=>{switch(a){case"bottom":return"top-full left-1/2 transform -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 transform -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 transform -translate-y-1/2 ml-2";default:return"bottom-full left-1/2 transform -translate-x-1/2 mb-2"}},f=()=>{const w="absolute w-0 h-0 border-solid";switch(a){case"bottom":return`${w} border-l-4 border-r-4 border-b-4 border-transparent border-b-slate-600 top-0 left-1/2 transform -translate-x-1/2 -translate-y-full`;case"left":return`${w} border-t-4 border-b-4 border-l-4 border-transparent border-l-slate-600 right-0 top-1/2 transform translate-x-full -translate-y-1/2`;case"right":return`${w} border-t-4 border-b-4 border-r-4 border-transparent border-r-slate-600 left-0 top-1/2 transform -translate-x-full -translate-y-1/2`;default:return`${w} border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-600 bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full`}};if(p)return n.jsx(n.Fragment,{children:l});const g=o==="hover"?{onMouseEnter:h,onMouseLeave:j}:{onClick:()=>d(!c)};return n.jsxs("div",{className:`relative inline-block ${i}`,...g,children:[l,c&&n.jsx("div",{className:`absolute z-50 ${y()}`,children:n.jsxs("div",{className:`relative max-w-xs p-3 rounded-lg border shadow-lg ${b()}`,children:[n.jsx("div",{className:f()}),n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[u(),n.jsx("h4",{className:"font-medium text-sm",children:t})]}),n.jsx("button",{onClick:v,className:"text-slate-400 hover:text-white text-xs ml-2",children:"✕"})]}),n.jsx("p",{className:"text-xs leading-relaxed",children:s}),n.jsx("button",{onClick:v,className:"mt-2 text-xs bg-slate-700 hover:bg-slate-600 px-2 py-1 rounded",children:"Got it"})]})})]})}function wg(e){const[t,s]=x.useState(e.currentStep||0),[r,a]=x.useState(()=>{const h=localStorage.getItem(`workflow-${e.workflow}-completed`);return h?JSON.parse(h):[]});return x.useEffect(()=>{localStorage.setItem(`workflow-${e.workflow}-completed`,JSON.stringify(r))},[r,e.workflow]),{currentStep:t,setCurrentStep:s,completedSteps:r,markStepCompleted:h=>{r.includes(h)||a(j=>[...j,h])},resetWorkflow:()=>{a([]),s(0),localStorage.removeItem(`workflow-${e.workflow}-completed`)},nextStep:()=>{t<e.steps.length-1&&s(h=>h+1)},previousStep:()=>{t>0&&s(h=>h-1)},isStepCompleted:h=>r.includes(h),getCurrentStep:()=>e.steps[t],getProgress:()=>Math.round(r.length/e.steps.length*100),totalSteps:e.steps.length}}const bg={csvUpload:{workflow:"csv-upload",steps:[{id:"file-selection",title:"Select CSV File",content:"Choose a CSV file with required headers: Name, Address, Post code, Project Type, Build Phase. Files must be under 10MB.",type:"info"},{id:"file-validation",title:"File Validation",content:"System validates file format, size, and structure. Only authentic CSV data is accepted.",type:"help"},{id:"data-processing",title:"Data Processing",content:"Extract job information from CSV rows. GPS coordinates are automatically generated from postcodes.",type:"help"},{id:"job-creation",title:"Job Creation",content:"Jobs created with build phases and location data. Ready for contractor assignment.",type:"success"}]},gpsTracking:{workflow:"gps-tracking",steps:[{id:"location-check",title:"GPS Location Check",content:"Verify GPS signal strength and accuracy. Location services must be enabled.",type:"info"},{id:"proximity-validation",title:"Work Site Proximity",content:"Must be within 1km of assigned work site. Distance calculated using GPS coordinates.",type:"help"},{id:"time-validation",title:"Working Hours Check",content:"Valid working hours: 7:45 AM - 5:00 PM. Late arrivals after 8:15 AM incur £0.50/minute deductions.",type:"warning"},{id:"session-start",title:"Start Time Tracking",content:"GPS-verified time tracking begins. Session data saved to database with coordinates.",type:"success"},{id:"session-end",title:"End Session",content:"Stop tracking and calculate pay. CIS deductions applied automatically.",type:"warning"}]},contractorOnboarding:{workflow:"contractor-onboarding",steps:[{id:"personal-info",title:"Personal Information",content:"Enter your basic personal details including name, email, phone, and Telegram ID for notifications.",type:"info"},{id:"address-info",title:"Address Details",content:"Provide your full address including postcode. This helps us match you to nearby job sites.",type:"info"},{id:"right-to-work",title:"Right to Work",content:"Confirm your right to work in the UK and provide passport details. This is legally required.",type:"warning"},{id:"cis-tax",title:"CIS & Tax Information",content:"Provide your CIS status and UTR number. This determines how your taxes are handled.",type:"help"},{id:"banking-details",title:"Banking Information",content:"Enter your bank account details for payment processing. All information is securely stored.",type:"warning"},{id:"emergency-contact",title:"Emergency Contact",content:"Provide emergency contact details for safety compliance on construction sites.",type:"info"},{id:"trade-tools",title:"Trade & Tools",content:"Specify your primary trade, experience, and available tools to match you to suitable jobs.",type:"success"}]},csvDataUpload:{workflow:"csv-upload",steps:[{id:"file-selection",title:"File Selection",content:"Select a CSV file containing job data. The file must have specific headers: Name, Address, Post code, Project Type, and Build Phase.",type:"info"},{id:"file-validation",title:"File Validation",content:"The system validates your CSV format and checks for required data fields before processing.",type:"help"},{id:"data-processing",title:"Data Processing",content:"CSV data is extracted and jobs are created automatically. Only authentic CSV data is used - no assumptions made.",type:"warning"},{id:"job-creation",title:"Job Creation",content:"Successfully processed CSV data creates jobs that can be assigned to contractors.",type:"success"}]},jobAssignment:{workflow:"job-assignment",steps:[{id:"job-selection",title:"Job Selection",content:"Choose a pending job from the list. Jobs come from CSV uploads and contain authentic project data.",type:"info"},{id:"contractor-selection",title:"Contractor Selection",content:"Select an available contractor based on their skills and current workload.",type:"help"},{id:"due-date",title:"Due Date",content:"Set a realistic completion date based on project scope and contractor availability.",type:"warning"},{id:"special-notes",title:"Special Instructions",content:"Add any specific requirements, safety notes, or special instructions for the contractor.",type:"info"},{id:"assignment-confirmation",title:"Assignment Confirmation",content:"Review all details before confirming. The contractor will be notified via Telegram if configured.",type:"success"}]},gpsTimeTracking:{workflow:"gps-tracking",steps:[{id:"location-verification",title:"Location Verification",content:"GPS coordinates are checked to ensure you are within 1km of the assigned work site.",type:"warning"},{id:"working-hours",title:"Working Hours",content:"Clock-in is only allowed between 7:45 AM - 5:00 PM. Automatic logout occurs at 5:00 PM sharp.",type:"help"},{id:"time-tracking",title:"Time Tracking",content:"Your work session is automatically tracked with GPS coordinates stored for verification.",type:"info"},{id:"pay-calculation",title:"Pay Calculation",content:"Daily pay (£150) with deductions for late arrivals after 8:15 AM (£0.50/minute). 20% CIS deduction applied.",type:"success"}]}},le=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const Qe=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("flex flex-col space-y-1.5 p-6",e),...t}));Qe.displayName="CardHeader";const qe=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));qe.displayName="CardTitle";const zr=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("text-sm text-muted-foreground",e),...t}));zr.displayName="CardDescription";const ie=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("p-6 pt-0",e),...t}));ie.displayName="CardContent";const JS=x.forwardRef(({className:e,...t},s)=>n.jsx("div",{ref:s,className:he("flex items-center p-6 pt-0",e),...t}));JS.displayName="CardFooter";const ni=x.forwardRef(({className:e,...t},s)=>n.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));ni.displayName="Textarea";function YS({contractorName:e}){const[t,s]=x.useState(!1),[r,a]=x.useState({}),{toast:o}=Ie(),l=on(),{data:i=[],isLoading:c}=ke({queryKey:[`/api/task-inspection-results/${e}`],enabled:!!e}),d=mt({mutationFn:async({inspectionId:v,notes:u})=>(await dr("POST",`/api/task-inspection-results/${v}/mark-done`,{contractorName:e,fixNotes:u})).json(),onSuccess:()=>{l.invalidateQueries({queryKey:[`/api/task-inspection-results/${e}`]}),o({title:"Issue Marked as Resolved",description:"Issue has been marked as fixed. Waiting for admin approval."}),a({})},onError:v=>{o({title:"Error",description:v.message||"Failed to mark issue as resolved",variant:"destructive"})}});if(c)return n.jsxs(le,{className:"border-slate-600 bg-slate-700/50",children:[n.jsx(Qe,{children:n.jsxs(qe,{className:"text-amber-500 flex items-center gap-2",children:[n.jsx(ms,{className:"h-5 w-5"}),"Task Inspections"]})}),n.jsx(ie,{children:n.jsx("div",{className:"text-slate-400",children:"Loading inspection results..."})})]});if(i.length===0)return n.jsxs(le,{className:"border-slate-600 bg-slate-700/50",children:[n.jsx(Qe,{children:n.jsxs(qe,{className:"text-amber-500 flex items-center gap-2",children:[n.jsx(ze,{className:"h-5 w-5"}),"Task Inspections"]})}),n.jsx(ie,{children:n.jsx("div",{className:"text-slate-400",children:"No inspection results yet."})})]});const p=t?i:i.filter(v=>v.inspectionStatus==="issues"),m=i.filter(v=>v.inspectionStatus==="issues").length,h=i.filter(v=>v.inspectionStatus==="approved").length,j=i.filter(v=>v.inspectionStatus==="pending").length;return n.jsxs(le,{className:"border-slate-600 bg-slate-700/50",children:[n.jsx(Qe,{children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs(qe,{className:"text-amber-500 flex items-center gap-2",children:[m>0?n.jsx(R0,{className:"h-5 w-5 text-red-500"}):n.jsx(ze,{className:"h-5 w-5 text-green-500"}),"Task Inspections"]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[m>0&&n.jsxs(ee,{variant:"destructive",className:"text-xs",children:[m," Issues"]}),h>0&&n.jsxs(ee,{variant:"default",className:"bg-green-600 text-xs",children:[h," Approved"]}),j>0&&n.jsxs(ee,{variant:"secondary",className:"text-xs",children:[j," Pending"]})]})]})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsxs(K,{variant:t?"outline":"default",size:"sm",onClick:()=>s(!1),className:"text-xs",children:["Issues Only (",m,")"]}),n.jsxs(K,{variant:t?"default":"outline",size:"sm",onClick:()=>s(!0),className:"text-xs",children:["All Results (",i.length,")"]})]}),p.length===0?n.jsx("div",{className:"text-center py-6 text-slate-400",children:t?"No inspection results yet.":"No issues found. Great work!"}):n.jsx("div",{className:"space-y-3",children:p.map(v=>n.jsxs("div",{className:`p-4 rounded-lg border ${v.inspectionStatus==="issues"?"border-red-500/30 bg-red-900/20":v.inspectionStatus==="approved"?"border-green-500/30 bg-green-900/20":"border-amber-500/30 bg-amber-900/20"}`,children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2 mb-3",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-slate-200 text-sm",children:v.taskName}),n.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[n.jsx("span",{className:"inline-block mr-3",children:v.phase}),n.jsxs("span",{children:["Inspected by ",v.inspectedBy]})]})]}),n.jsx(ee,{variant:v.inspectionStatus==="issues"?"destructive":v.inspectionStatus==="approved"?"default":"secondary",className:"text-xs",children:v.inspectionStatus==="issues"?"Needs Attention":v.inspectionStatus==="approved"?"Approved":"Pending Review"})]}),v.notes&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Au,{className:"h-4 w-4 text-slate-400"}),n.jsx("span",{className:"text-xs text-slate-400",children:"Inspector Notes:"})]}),n.jsx("div",{className:"text-sm text-slate-300 bg-slate-800/50 p-3 rounded border border-slate-600",children:v.notes})]}),v.photos&&v.photos.length>0&&n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(dd,{className:"h-4 w-4 text-slate-400"}),n.jsxs("span",{className:"text-xs text-slate-400",children:["Photos (",v.photos.length,"):"]})]}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2",children:v.photos.map((u,b)=>n.jsx("div",{className:"aspect-square bg-slate-800 rounded border border-slate-600 overflow-hidden",children:n.jsx("img",{src:u,alt:`Inspection photo ${b+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer",onClick:()=>window.open(u,"_blank")})},b))})]}),v.inspectionStatus==="issues"&&n.jsxs("div",{className:"mt-4 p-3 bg-slate-800/70 rounded-lg border border-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(md,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:"text-sm font-medium text-slate-200",children:"Mark as Fixed"})]}),n.jsx(ni,{placeholder:"Describe what you did to fix this issue (optional)",value:r[v.id]||"",onChange:u=>a(b=>({...b,[v.id]:u.target.value})),className:"mb-3 bg-slate-700 border-slate-600 text-slate-200 text-sm",rows:2}),n.jsx(K,{onClick:()=>d.mutate({inspectionId:v.id,notes:r[v.id]||""}),disabled:d.isPending,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"sm",children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ms,{className:"h-4 w-4 mr-2 animate-spin"}),"Marking as Done..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ze,{className:"h-4 w-4 mr-2"}),"Mark as Done"]})}),n.jsx("div",{className:"text-xs text-slate-400 mt-2 text-center",children:"This will notify the admin for re-approval"})]}),n.jsxs("div",{className:"text-xs text-slate-500 mt-2",children:["Inspected: ",new Date(v.inspectedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]},v.id))})]})]})}function XS({nearestJobSite:e}){const s=(localStorage.getItem("contractorName")||"James Wilson").split(" ")[0],{data:r=[],isLoading:a}=ke({queryKey:[`/api/contractor-assignments/${s}`]});if(ke({queryKey:["/api/uploaded-jobs"]}),a)return n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-yellow-500 mx-auto mb-4"}),n.jsx("div",{className:"text-slate-400 text-sm",children:"Loading assignments..."})]});if(r.length===0)return n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx("i",{className:"fas fa-briefcase text-slate-500 text-3xl"})}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Active Assignment"}),n.jsx("div",{className:"text-slate-400 text-sm",children:"You don't have any active assignments at the moment. Check with your supervisor for new work."})]});const o=r;return n.jsx("div",{className:"space-y-3",children:o.map((l,i)=>n.jsxs("div",{className:"bg-slate-700 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("i",{className:"fas fa-map-marker-alt text-yellow-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-medium text-lg",children:l.workLocation}),n.jsx("div",{className:"text-slate-400 text-sm",children:l.hbxlJob})]})]}),n.jsx(ee,{className:"bg-yellow-500 text-black text-xs px-2 py-1",children:"active"})]}),l.buildPhases&&l.buildPhases.length>0&&n.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:l.buildPhases.map((c,d)=>n.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded",children:c},d))})]},l.id))})}function ZS(){const{toast:e}=Ie(),t=on(),s=localStorage.getItem("userRole"),r=localStorage.getItem("adminName"),a=localStorage.getItem("contractorName");if(console.log("🚨 GPS DASHBOARD ACCESS ATTEMPT:",{userRole:s,adminName:r,contractorName:a,isAdmin:s==="admin",shouldRedirect:s==="admin"}),s==="admin")return console.log("🚫 ADMIN USER BLOCKED FROM GPS DASHBOARD - Redirecting to /admin"),window.location.href="/admin",n.jsx("div",{children:"Redirecting admin to dashboard..."});if(!a)return console.log("❌ No contractor name found - redirecting to login"),window.location.href="/login",null;const o=a.split(" ")[0],l=L=>L.split(" ").map(G=>G[0]).join("").toUpperCase().slice(0,2);wg(bg.gpsTracking);const[i,c]=x.useState(()=>localStorage.getItem("gps_timer_current")||"00:00:00"),[d,p]=x.useState(()=>localStorage.getItem("gps_timer_active")==="true"),[m,h]=x.useState(()=>{const L=localStorage.getItem("gps_timer_start");return L?new Date(L):null});x.useState(null);const[j,v]=x.useState("Unavailable"),[u,b]=x.useState(!1),[y,f]=x.useState(!1),[g,w]=x.useState(null);ke({queryKey:[`/api/work-sessions/${o}/active`],queryFn:async()=>{const L=await fetch(`/api/work-sessions/${o}/active`);if(L.status===404)return null;if(!L.ok)throw new Error("Failed to fetch active session");return L.json()},retry:!1});const N=mt({mutationFn:async L=>{const G=await fetch("/api/work-sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!G.ok)throw new Error("Failed to start session");return G.json()},onSuccess:L=>{w(L.id),t.invalidateQueries({queryKey:[`/api/work-sessions/${o}/active`]}),console.log("✅ Work session started in database:",L.id)}}),E=mt({mutationFn:async({sessionId:L,sessionData:G})=>{const q=await fetch(`/api/work-sessions/${L}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!q.ok)throw new Error("Failed to end session");return q.json()},onSuccess:L=>{w(null),t.invalidateQueries({queryKey:[`/api/work-sessions/${o}/active`]}),console.log("✅ Work session ended in database:",L.totalHours)}}),{data:S=[]}=ke({queryKey:[`/api/contractor-assignments/${o}`]}),k=S,{data:T}=ke({queryKey:["/api/admin-settings/saturday_overtime"],queryFn:async()=>{const L=await fetch("/api/admin-settings/saturday_overtime");if(L.status===404)return null;if(!L.ok)throw new Error("Failed to fetch Saturday overtime setting");return L.json()},retry:!1}),{data:A}=ke({queryKey:["/api/admin-settings/sunday_overtime"],queryFn:async()=>{const L=await fetch("/api/admin-settings/sunday_overtime");if(L.status===404)return null;if(!L.ok)throw new Error("Failed to fetch Sunday overtime setting");return L.json()},retry:!1}),[R,D]=x.useState(null),[z,P]=x.useState(null),[_,F]=x.useState(null),[M,I]=x.useState({isWithinRange:!1,distance:0,isValidTime:!1,canSignIn:!1}),O=(L,G,q,V)=>{const ue=(q-L)*Math.PI/180,ae=(V-G)*Math.PI/180,se=Math.sin(ue/2)*Math.sin(ue/2)+Math.cos(L*Math.PI/180)*Math.cos(q*Math.PI/180)*Math.sin(ae/2)*Math.sin(ae/2);return 6371*(2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se)))},U=(L=!1)=>{const G=new Date,q=G.getHours(),V=G.getMinutes(),Y=q+V/60,ue=G.getDay(),ae=7+45/60,se=17,ne=ue===6,Ae=ue===0,rt=(T==null?void 0:T.settingValue)==="true",un=(A==null?void 0:A.settingValue)==="true";if(L&&d)return Y>=ae;const ss=Y>=ae&&Y<=se;return ne&&rt||Ae&&un?ss:ne||Ae?!1:ss};x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(L=>{D({latitude:L.coords.latitude,longitude:L.coords.longitude,accuracy:L.coords.accuracy})},L=>{console.log("Geolocation error:",L),v("Unavailable");let G="Unable to access your location.";L.code===1?G="GPS permission denied. Please allow location access in your browser settings.":L.code===2?G="GPS signal unavailable. Try moving to an open area with clear sky view.":L.code===3&&(G="GPS timeout. Please refresh the page and try again."),e({title:"GPS Error - DA17 5DB",description:`${G} For DA17 5DB area, ensure GPS is enabled and location services are allowed.`,variant:"destructive"})})},[]),x.useEffect(()=>{if(k&&k.length>0&&R){let L=null,G=1/0;for(const q of k)if(q.latitude&&q.longitude){const V=O(R.latitude,R.longitude,parseFloat(q.latitude),parseFloat(q.longitude));V<G&&(G=V,L=q)}L?(P({latitude:parseFloat(L.latitude),longitude:parseFloat(L.longitude),accuracy:5}),F(L),v("Good"),console.log(`🎯 Nearest job site: ${L.location} (${G.toFixed(2)}km away)`)):(P(null),F(null),v("⚠️ Work site GPS coordinates missing - Contact admin to add location data for DA17 5DB"))}else P(null),F(null),v((k==null?void 0:k.length)>0?"Waiting for GPS location":"No assignments")},[k,R]),x.useEffect(()=>{if(console.log("🔍 GPS Validation Check:"),console.log("- User location:",R),console.log("- Work site location:",z),console.log("- Assignments:",(k==null?void 0:k.length)||0),R&&z){const L=O(R.latitude,R.longitude,z.latitude,z.longitude),G=L<=1,q=U(d),V=G&&q;console.log(`- Distance: ${L.toFixed(2)}km`),console.log(`- Within range (≤1km): ${G}`),console.log(`- Valid time: ${q}`),console.log(`- Can sign in: ${V}`);let Y="";q?G||(Y=`Too far from work site (${L.toFixed(2)}km away)`):Y=d?"Cannot clock out before 7:45 AM":"Outside working hours (7:45 AM - 5:00 PM)",I({isWithinRange:G,distance:L,isValidTime:q,canSignIn:V,errorMessage:Y})}else console.log("❌ Missing location data"),console.log("- User location missing:",!R),console.log("- Work site location missing:",!z),I({isWithinRange:!1,distance:0,isValidTime:U(),canSignIn:!1,errorMessage:R?"Work site location data missing":"GPS location required - please enable location services"})},[R,z]),x.useEffect(()=>{let L;if(d&&m){const G=()=>{const q=new Date,V=q.getHours();if(q.getMinutes(),V>=17){console.log("🕐 Automatic logout at 5:00 PM"),g&&E.mutate({sessionId:g,sessionData:{endTime:q.toISOString(),gpsLatitude:(R==null?void 0:R.latitude)||0,gpsLongitude:(R==null?void 0:R.longitude)||0,status:"completed"}}),p(!1),h(null),c("00:00:00"),localStorage.removeItem("gps_timer_active"),localStorage.removeItem("gps_timer_start"),localStorage.removeItem("gps_timer_current"),e({title:"Work Day Ended",description:"Automatically logged out at 5:00 PM - work day complete",variant:"default"});return}const Y=q.getTime()-m.getTime(),ue=Math.floor(Y/(1e3*60*60)),ae=Math.floor(Y%(1e3*60*60)/(1e3*60)),se=Math.floor(Y%(1e3*60)/1e3),ne=`${ue.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`;c(ne),localStorage.setItem("gps_timer_current",ne),localStorage.setItem("gps_timer_active","true"),localStorage.setItem("gps_timer_start",m.toISOString())};G(),L=setInterval(G,1e3)}else d||c("00:00:00");return()=>{L&&clearInterval(L)}},[d,m,E,a,R,g,e]),x.useEffect(()=>{const L=localStorage.getItem("gps_timer_active"),G=localStorage.getItem("gps_timer_start"),q=localStorage.getItem("gps_timer_current");if(L==="true"&&G){const V=new Date(G),Y=new Date;if(Y.getTime()-V.getTime()<24*60*60*1e3){p(!0),h(V);const ue=Y.getTime()-V.getTime(),ae=Math.floor(ue/(1e3*60*60)),se=Math.floor(ue%(1e3*60*60)/(1e3*60)),ne=Math.floor(ue%(1e3*60)/1e3),Ae=`${ae.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}`;c(Ae)}else localStorage.removeItem("gps_timer_active"),localStorage.removeItem("gps_timer_start"),localStorage.removeItem("gps_timer_current")}else q&&c(q)},[]);const H=()=>{var L,G,q,V;if(console.log("🔴 handleStartWork called"),console.log("📍 Location validation:",M),console.log("📍 User location:",R),console.log("📍 Work site location:",z),console.log("📍 Nearest job:",_),!M.canSignIn){console.log("❌ Cannot sign in:",M.errorMessage),e({title:"Cannot Sign In",description:M.errorMessage,variant:"destructive"});return}if(d){const Y=new Date,ue=Y.getTime()-((m==null?void 0:m.getTime())||Date.now()),ae=Math.floor(ue/(1e3*60*60)),se=Math.floor(ue%(1e3*60*60)/(1e3*60)),ne=Math.floor(ue%(1e3*60)/1e3),Ae=`${ae.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}:${ne.toString().padStart(2,"0")}`;if(g){const rt={endTime:Y.toISOString(),totalHours:Ae,status:"completed",endLatitude:(q=R==null?void 0:R.latitude)==null?void 0:q.toString(),endLongitude:(V=R==null?void 0:R.longitude)==null?void 0:V.toString()};E.mutate({sessionId:g,sessionData:rt})}p(!1),h(null),c("00:00:00"),localStorage.removeItem("gps_timer_active"),localStorage.removeItem("gps_timer_start"),localStorage.removeItem("gps_timer_current"),e({title:"Work Ended",description:"Time tracking stopped"})}else{const Y=new Date;p(!0),h(Y);const ue={contractorName:a,jobSiteLocation:(_==null?void 0:_.location)||"Unknown Location",startTime:Y.toISOString(),status:"active",startLatitude:(L=R==null?void 0:R.latitude)==null?void 0:L.toString(),startLongitude:(G=R==null?void 0:R.longitude)==null?void 0:G.toString()};N.mutate(ue),localStorage.setItem("gps_timer_active","true"),localStorage.setItem("gps_timer_start",Y.toISOString()),e({title:"Work Started",description:"GPS verified - tracking time started"})}},J=L=>{f(!1),e({title:L,description:`Opening ${L} interface...`})},re=L=>{switch(L){case"Good":return"bg-yellow-500 text-black";case"Poor":return"bg-orange-500 text-white";default:return"bg-red-500 text-white"}};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>f(!y),className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4 hover:bg-yellow-700 transition-colors",children:n.jsx("span",{className:"text-white font-bold text-sm",children:l(a)})}),y&&n.jsxs("div",{className:"absolute right-0 top-10 w-64 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50",children:[n.jsxs("div",{className:"px-4 py-3 border-b border-slate-600",children:[n.jsx("div",{className:"text-yellow-400 font-semibold",children:a}),n.jsxs("div",{className:"text-xs text-slate-500",children:["Role: ",s||"Unknown"]}),s==="admin"&&n.jsx("div",{className:"text-red-400 text-xs",children:"⚠️ ADMIN ACCESS ERROR"})]}),n.jsxs("div",{className:"py-2",children:[n.jsxs("button",{onClick:()=>window.location.href="/task-progress",className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-tasks mr-3 text-slate-400"}),"My Tasks"]}),n.jsxs("button",{onClick:()=>J("Report Issue"),className:"w-full px-4 py-2 text-left text-yellow-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-yellow-400"}),"Report Issue"]}),n.jsx("div",{className:"border-t border-slate-600 mt-2 pt-2",children:n.jsxs("button",{onClick:()=>{localStorage.removeItem("userRole"),localStorage.removeItem("isLoggedIn"),window.location.href="/login"},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-sign-out-alt mr-3 text-red-400"}),"Logout"]})})]})]})]})]})]}),n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("i",{className:"fas fa-signal text-white mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"GPS Status"}),n.jsx(sr,{id:"gps-status-indicator",title:"GPS Status Monitor",content:"Shows GPS connection quality and work site proximity. GPS must be 'Good' and within 1km of assigned work site to start tracking. Location automatically updates every few seconds.",type:"info",placement:"right",children:n.jsx("div",{className:"text-blue-400 cursor-help",children:n.jsx("i",{className:"fas fa-info-circle text-sm"})})})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ee,{className:re(j),children:j}),n.jsx("i",{className:"fas fa-sync-alt text-slate-400"})]})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm",children:"Work Site Access"}),n.jsx(ee,{className:M.canSignIn?"bg-green-600 text-white":"bg-red-600 text-white",children:M.canSignIn?"Allowed":"Restricted"})]}),R&&z&&n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-400",children:"Distance from site:"}),n.jsxs("span",{className:M.isWithinRange?"text-green-400":"text-red-400",children:[M.distance.toFixed(2),"km"]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-400",children:"Working hours (7:45-17:00):"}),n.jsx("span",{className:M.isValidTime?"text-green-400":"text-red-400",children:M.isValidTime?"Active":"Outside hours"})]})]}),!M.canSignIn&&M.errorMessage&&n.jsxs("div",{className:"mt-2 p-2 bg-red-900 border border-red-600 rounded text-red-200 text-sm",children:[n.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),M.errorMessage]})]}),R&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("i",{className:"fas fa-map-marker-alt text-slate-400 mr-2"}),n.jsxs("span",{className:"text-white",children:["Your Location: ",R.latitude.toFixed(6),", ",R.longitude.toFixed(6)]})]}),z&&n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("i",{className:"fas fa-building text-slate-400 mr-2"}),n.jsxs("span",{className:"text-yellow-400",children:["Work Site: ",z.latitude.toFixed(6),", ",z.longitude.toFixed(6)]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400",children:"Your Position:"}),n.jsxs("div",{className:"text-white font-mono text-xs",children:[R.latitude.toFixed(4),", ",R.longitude.toFixed(4)]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400",children:"Accuracy:"}),n.jsxs("div",{className:"text-white",children:["±",R.accuracy,"m"]})]})]})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-clock text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"GPS Time Tracker"})]}),n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-map-marker-alt text-slate-400 mr-2"}),n.jsx("span",{className:"text-slate-400",children:z&&k&&k.length>0?(()=>{const L=k.find(G=>G.latitude&&G.longitude&&Math.abs(parseFloat(G.latitude)-z.latitude)<.001&&Math.abs(parseFloat(G.longitude)-z.longitude)<.001);return L?`Work Site: ${L.location}`:"Work Site: Unknown"})():"No assignment location"})]}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"text-4xl font-mono text-blue-400 mb-4",children:i}),n.jsxs("div",{className:"mb-4 text-center",children:[n.jsx("div",{className:"text-xl text-green-400 font-semibold",children:"GPS Timer Active"}),n.jsx("div",{className:"text-slate-400 text-xs",children:"Location verified - Time tracking in progress"})]}),n.jsx(sr,{id:"start-stop-work-button",title:"GPS Work Tracking",content:d?"Click to stop work and save time session. GPS location will be recorded for verification.":"Click to start GPS-verified time tracking. System validates you're within 1km of work site and during valid hours (7:45 AM - 5:00 PM).",type:d?"warning":"success",placement:"top",children:n.jsxs(K,{onClick:H,disabled:!M.canSignIn&&!d,className:`w-full py-3 text-white font-medium rounded-lg flex items-center justify-center ${!M.canSignIn&&!d?"bg-red-600 cursor-not-allowed opacity-75":d?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:[n.jsx("i",{className:`fas ${d?"fa-stop":M.canSignIn?"fa-play":"fa-lock"} mr-2`}),d?"Stop Work":M.canSignIn?"Start Work (GPS Verified)":"GPS Check Required"]})})]}),n.jsx("div",{className:"text-center text-slate-400 text-sm mb-2",children:R?M.canSignIn?d?"Ready to stop GPS-verified time tracking":"Ready to start GPS-verified time tracking":d?"Must be within 1km of work site to clock out":"Must be within 1km of work site during 7:45 AM - 5:00 PM":"GPS location required - please enable location services"}),M.canSignIn&&n.jsx("div",{className:"text-center text-green-400 text-xs",children:"✓ Location verified - Ready to work"})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-briefcase text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Active Assignment"})]}),n.jsx(XS,{nearestJobSite:_})]}),n.jsx(YS,{contractorName:a}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-calendar-times text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Overdue Projects"})]}),n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:n.jsx("i",{className:"fas fa-calendar-check text-green-600 text-3xl"})}),n.jsx("div",{className:"text-slate-400 text-sm",children:"No overdue projects"})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-3 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/jobs",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/more",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-ellipsis-h block mb-1"}),n.jsx("span",{className:"text-xs",children:"More"})]})]})}),n.jsx("div",{className:"h-20"}),u&&n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>b(!1)})]})}function ek(){const t=(localStorage.getItem("contractorName")||"Dalwayne Diedericks").split(" ")[0],{data:s=[],isLoading:r}=ke({queryKey:[`/api/contractor-assignments/${t}`],enabled:!0});return r?n.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-400 mx-auto mb-4"}),n.jsx("p",{className:"text-slate-400",children:"Loading assignments..."})]})}):n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx("div",{className:"bg-slate-800 px-4 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold text-white mb-1",children:"Direct Job Assignments"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"Jobs are assigned to you directly"})]})})}),n.jsx("div",{className:"p-3",children:s.length===0?n.jsxs("div",{className:"border-2 border-dashed border-slate-600 rounded-lg p-8 text-center",children:[n.jsx("div",{className:"w-24 h-24 mx-auto mb-6 text-slate-500",children:n.jsx("i",{className:"fas fa-briefcase text-6xl"})}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Assignments"}),n.jsx("p",{className:"text-slate-400 mb-6",children:"You don't have any job assignments yet."})]}):n.jsx("div",{className:"space-y-2",children:s.map(a=>n.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center ${a.status==="assigned"?"bg-yellow-500":"bg-blue-600"}`,children:n.jsx("i",{className:`fas fa-briefcase text-sm ${a.status==="assigned"?"text-black":"text-white"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-yellow-400",children:a.hbxlJob||"Untitled Job"}),n.jsx("p",{className:"text-slate-400 text-xs",children:a.workLocation||"Location not set"})]})]}),n.jsx(ee,{className:`text-xs px-2 py-0.5 ${a.status==="assigned"?"bg-yellow-500 text-black":a.status==="completed"?"bg-green-500 text-white":"bg-slate-500 text-white"}`,children:a.status})]}),n.jsxs("div",{className:"space-y-1 text-xs mb-2",children:[n.jsxs("div",{className:"flex items-center text-slate-300",children:[n.jsx("i",{className:"fas fa-clock text-slate-400 mr-1 w-3"}),n.jsxs("span",{children:[a.startDate," → ",a.endDate]})]}),a.buildPhases&&a.buildPhases.length>0&&n.jsxs("div",{className:"flex items-start text-slate-300",children:[n.jsx("i",{className:"fas fa-tasks text-slate-400 mr-1 w-3 mt-0.5"}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.buildPhases.slice(0,2).map((o,l)=>n.jsx("span",{className:"bg-blue-600 text-white text-xs px-1.5 py-0.5 rounded",children:o},l)),a.buildPhases.length>2&&n.jsxs("span",{className:"text-slate-400 text-xs",children:["+",a.buildPhases.length-2," more"]})]})]}),a.specialInstructions&&n.jsxs("div",{className:"flex items-start text-slate-300 mt-1",children:[n.jsx("i",{className:"fas fa-sticky-note text-yellow-400 mr-1 w-3 mt-0.5"}),n.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-700 rounded px-2 py-1 text-xs",children:[n.jsx("span",{className:"text-yellow-400 font-medium",children:"Note: "}),n.jsx("span",{children:a.specialInstructions})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(K,{size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white text-xs px-3 py-1 h-7 flex-1",onClick:()=>{window.location.href=`/assignment/${a.id}`},children:[n.jsx("i",{className:"fas fa-comment mr-1"}),"Quick Report"]}),n.jsxs(K,{size:"sm",className:"bg-yellow-500 hover:bg-yellow-600 text-black text-xs px-3 py-1 h-7",onClick:()=>window.location.href="/task-progress",children:[n.jsx("i",{className:"fas fa-tasks mr-1"}),"Tasks"]})]})]},a.id))})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-3 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/more",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-ellipsis-h block mb-1"}),n.jsx("span",{className:"text-xs",children:"More"})]})]})}),n.jsx("div",{className:"h-20"})]})}function tk(){const[e,t]=x.useState(!1),[s,r]=x.useState(null),[a,o]=x.useState(null),[l,i]=x.useState(!1),{toast:c}=Ie(),d=on(),p=wg(bg.csvUpload),m=mt({mutationFn:async w=>{const N=new FormData;N.append("csvFile",w);const E=await fetch("/api/upload-csv",{method:"POST",body:N,credentials:"include"});if(!E.ok){const S=await E.text();throw new Error(S||`Upload failed with status ${E.status}`)}return E.json()},onSuccess:w=>{p.markStepCompleted("file-selection"),p.markStepCompleted("file-validation"),p.markStepCompleted("data-processing"),p.markStepCompleted("job-creation"),c({title:"CSV Upload Successful",description:`Created ${w.jobsCreated} job(s) from ${w.upload.filename}`}),d.invalidateQueries({queryKey:["/api/jobs"]}),d.invalidateQueries({queryKey:["/api/csv-uploads"]}),y()},onError:w=>{c({title:"Upload Failed",description:w.message,variant:"destructive"})}}),h=w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?t(!0):w.type==="dragleave"&&t(!1)},j=w=>w.name.toLowerCase().endsWith(".csv")?w.size>10*1024*1024?(c({title:"File Too Large",description:"File size must be less than 10MB",variant:"destructive"}),!1):!0:(c({title:"Invalid File Type",description:"Please select a CSV file",variant:"destructive"}),!1),v=async w=>{var N,E,S,k,T,A;try{const D=(await w.text()).split(`
`).map(H=>H.trim()).filter(H=>H);if(D.length<4)throw new Error("CSV must contain Name, Address, Post code, and Project Type headers");let z="Data Missing from CSV",P="Data Missing from CSV",_="Data Missing from CSV",F="Data Missing from CSV",M=[];const I=D.some(H=>(H.startsWith("Name,")||H.startsWith("name,"))&&!H.includes("Address,Postcode"));if(I){for(let J=0;J<Math.min(D.length,5);J++){const re=D[J];re.startsWith("Name,")||re.startsWith("name,")?z=re.substring(re.indexOf(",")+1).replace(/,+$/,"").trim()||"Data Missing from CSV":re.startsWith("Address,")||re.startsWith("Address ,")?P=re.substring(re.indexOf(",")+1).replace(/,+$/,"").trim()||"Data Missing from CSV":re.startsWith("Post code,")?_=re.substring(10).replace(/,+$/,"").trim().toUpperCase()||"Data Missing from CSV":re.startsWith("Project Type,")&&(F=re.substring(13).replace(/,+$/,"").trim()||"Data Missing from CSV")}const H=D.findIndex(J=>J.includes("Order Date")&&J.includes("Build Phase"));if(H>=0){const re=D[H].split(",").map(L=>L.trim()).indexOf("Build Phase");if(re>=0)for(let L=H+1;L<D.length;L++){const q=D[L].split(",").map(V=>V.trim())[re];q&&q!==""&&!M.includes(q)&&M.push(q)}}}else if(D.length>=2){const J=D[1].split(",");z=((N=J[0])==null?void 0:N.trim())||"Data Missing",P=((E=J[1])==null?void 0:E.trim())||"Data Missing",_=((k=(S=J[2])==null?void 0:S.trim())==null?void 0:k.toUpperCase())||"Data Missing",F=((T=J[3])==null?void 0:T.trim())||"Data Missing";const re=((A=J[4])==null?void 0:A.trim().replace(/"/g,""))||"";M=re?re.split(",").map(L=>L.trim()).filter(L=>L):[]}console.log("✅ CSV PARSING DEBUG:",{isOriginalFormat:I,rawLines:D.slice(0,5),extracted:{jobName:z,jobAddress:P,jobPostcode:_,jobType:F,phases:M}});const O={headers:["Name","Address","Postcode","Project Type","Build Phases"],rows:[[z,P,_,F,M.join(", ")]]},U=[{name:z,address:P,postcode:_,projectType:F,buildPhases:M.length>0?M:["No phases specified"]}];return{headers:O.headers,rows:O.rows,rawData:O,jobPreview:U}}catch(R){return c({title:"CSV Parse Error",description:R instanceof Error?R.message:"Failed to parse CSV file",variant:"destructive"}),null}},u=async w=>{if(w.target.files&&w.target.files[0]){const N=w.target.files[0];if(j(N)){r(N);const E=await v(N);o(E),E&&(i(!0),p.markStepCompleted("file-selection"),p.markStepCompleted("file-validation"))}}},b=async w=>{if(w.preventDefault(),t(!1),w.dataTransfer.files&&w.dataTransfer.files[0]){const N=w.dataTransfer.files[0];if(j(N)){r(N);const E=await v(N);o(E),E&&(i(!0),p.markStepCompleted("file-selection"),p.markStepCompleted("file-validation"))}}},y=()=>{r(null),o(null),i(!1);const w=document.getElementById("csv-upload");w&&(w.value=""),c({title:"Data Cleared",description:"Selected file and preview data have been cleared"})},f=()=>{i(!1)},g=()=>{s&&m.mutate(s)};return n.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Upload Job CSV File"}),n.jsx(sr,{id:"csv-upload-header",title:"CSV Upload Process",content:"Upload CSV files containing job data. The system validates format and creates jobs automatically. Only authentic CSV data is used - no assumptions made.",type:"info",placement:"right",children:n.jsx("div",{className:"text-blue-500 cursor-help",children:n.jsx(Nl,{className:"h-4 w-4"})})})]}),n.jsx("p",{className:"text-sm text-slate-600",children:"Upload CSV files to create new jobs. File format: Name, Address, Project Type, Build Phase data."})]}),n.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${e?"border-blue-400 bg-blue-50":"border-slate-300 hover:border-slate-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:b,children:[n.jsx("input",{type:"file",accept:".csv",onChange:u,className:"hidden",id:"csv-upload",disabled:m.isPending}),s?n.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[n.jsx(vs,{className:"h-8 w-8 text-green-600"}),n.jsx("span",{className:"text-slate-900 font-medium",children:s.name}),n.jsx(sr,{id:"clear-file-button",title:"Clear Selected File",content:"Remove the selected file and clear all data. You can then select a different file.",type:"warning",placement:"top",children:n.jsxs("button",{onClick:y,className:"flex items-center space-x-1 px-2 py-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded transition-colors",disabled:m.isPending,children:[n.jsx("i",{className:"fas fa-times text-sm"}),n.jsx("span",{className:"text-xs",children:"Clear"})]})})]}):n.jsxs(n.Fragment,{children:[n.jsx(I0,{className:"mx-auto h-12 w-12 text-slate-400 mb-4"}),n.jsx(sr,{id:"file-selection-area",title:"File Selection",content:"Select a CSV file with required headers: Name, Address, Post code, Project Type, and Build Phase. Files must be under 10MB and contain authentic job data.",type:"help",placement:"top",children:n.jsx("label",{htmlFor:"csv-upload",className:"cursor-pointer text-blue-600 hover:text-blue-500 font-medium",children:"Click to upload"})}),n.jsx("span",{className:"text-slate-500",children:" or drag and drop"}),n.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"CSV files only, up to 10MB"})]})]}),s&&!l&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsxs("span",{children:[(s.size/1024).toFixed(1)," KB"]})]}),n.jsx(sr,{id:"preview-button",title:"Preview CSV Data",content:"Click to preview the jobs that will be created from your CSV file. You can review all data before approving the upload.",type:"info",placement:"left",children:n.jsxs(K,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700",children:[n.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Preview Jobs"]})})]}),m.error&&n.jsxs("div",{className:"mt-4 flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-lg",children:[n.jsx(Nl,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:m.error.message})]}),l&&a&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[n.jsx("div",{className:"bg-yellow-600 text-white p-4 text-center",children:n.jsx("h3",{className:"text-lg font-semibold",children:"Upload & Detect Job Info"})}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:a.jobPreview.length>0&&n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"bg-slate-100 rounded-t-lg p-3",children:n.jsxs("h4",{className:"text-slate-700 font-semibold",children:["Detected Job Information (",a.jobPreview.length," job",a.jobPreview.length>1?"s":"",")"]})}),n.jsxs("div",{className:"bg-white border border-slate-200 rounded-b-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"📄"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600 font-medium",children:"Name: "}),n.jsx("span",{className:"text-slate-700",children:a.jobPreview[0].name})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"📍"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600 font-medium",children:"Postcode: "}),n.jsx("span",{className:"text-slate-700",children:a.jobPreview[0].postcode})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"📋"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600 font-medium",children:"Project Type: "}),n.jsx("span",{className:"text-slate-700",children:a.jobPreview[0].projectType})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-sm flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs",children:"📍"})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-yellow-600 font-medium",children:"Address: "}),n.jsx("span",{className:"text-slate-700",children:a.jobPreview[0].address})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxs("h5",{className:"text-blue-800 font-semibold mb-2",children:["Extracted HBXL Work Phases (",a.jobPreview[0].buildPhases.length,")"]}),n.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:a.jobPreview[0].buildPhases.map((w,N)=>n.jsx("span",{className:"bg-blue-200 text-blue-800 px-3 py-1 rounded-full text-sm",children:w},N))}),n.jsx("p",{className:"text-blue-700 text-sm",children:"These real work phases will be available for time tracking once the job is approved and goes live."})]}),a.jobPreview.length>1&&n.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500",children:[n.jsxs("p",{className:"text-blue-800 text-sm font-medium",children:["+ ",a.jobPreview.length-1," more job",a.jobPreview.length>2?"s":""," will be created from this CSV"]}),n.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"All jobs will be saved to the database and persist after system reboot"})]})]})]})}),n.jsxs("div",{className:"p-4 border-t border-slate-200 flex space-x-4",children:[n.jsx(K,{onClick:f,variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(K,{onClick:()=>{i(!1),g()},disabled:m.isPending,className:"bg-green-600 hover:bg-green-700 text-white flex-1",children:m.isPending?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Jobs..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ef,{className:"h-4 w-4 mr-2"}),"Approve & Create Jobs"]})})]})]})})]})}function sk(e){switch(e){case"processed":return n.jsx(ze,{className:"h-5 w-5 text-green-600"});case"failed":return n.jsx(us,{className:"h-5 w-5 text-red-600"});case"processing":return n.jsx(ms,{className:"h-5 w-5 text-yellow-600"});default:return n.jsx(Nl,{className:"h-5 w-5 text-gray-600"})}}function nk(e){switch(e){case"processed":return"Completed";case"failed":return"Failed";case"processing":return"Processing";default:return"Unknown"}}function rk(e){switch(e){case"processed":return"text-green-700 bg-green-100";case"failed":return"text-red-700 bg-red-100";case"processing":return"text-yellow-700 bg-yellow-100";default:return"text-gray-700 bg-gray-100"}}function ak(){const{toast:e}=Ie(),t=on(),{data:s=[]}=ke({queryKey:["/api/csv-uploads"]}),r=mt({mutationFn:async o=>{const l=await dr("DELETE",`/api/csv-uploads/${o}`);if(!l.ok)throw new Error("Failed to delete upload record");return l.json()},onSuccess:()=>{e({title:"Upload Deleted",description:"CSV upload record and all associated jobs have been successfully deleted"}),t.invalidateQueries({queryKey:["/api/csv-uploads"]}),t.invalidateQueries({queryKey:["/api/jobs"]})},onError:o=>{e({title:"Delete Failed",description:o instanceof Error?o.message:"Failed to delete upload",variant:"destructive"})}}),a=(o,l)=>{confirm(`Are you sure you want to delete the upload record for "${l}"? This will also delete all jobs created from this upload. This action cannot be undone.`)&&r.mutate(o)};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("div",{className:"bg-white border-b border-slate-200 sticky top-0 z-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between h-16",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Upload Job Files"})}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("button",{onClick:()=>window.location.href="/",className:"text-slate-600 hover:text-slate-900",children:"← Back to Dashboard"})})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsx("div",{children:n.jsx(tk,{})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-slate-200 p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Recent Uploads"}),s.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(vs,{className:"mx-auto h-12 w-12 text-slate-300 mb-4"}),n.jsx("p",{className:"text-slate-500",children:"No uploads yet"}),n.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Upload your first CSV file to get started"})]}):n.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:s.slice().reverse().map(o=>n.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-lg hover:bg-slate-50",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vs,{className:"h-8 w-8 text-slate-400"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-slate-900",children:o.filename}),n.jsxs("div",{className:"text-sm text-slate-500",children:[o.jobsCount," job(s) created"]}),n.jsx("div",{className:"text-xs text-slate-400",children:new Date(o.createdAt).toLocaleString()})]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[sk(o.status),n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${rk(o.status)}`,children:nk(o.status)})]}),n.jsx(K,{onClick:()=>a(o.id,o.filename),disabled:r.isPending,variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800 hover:bg-red-50 p-1 h-8 w-8",title:"Delete upload record",children:r.isPending?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):n.jsx(FN,{className:"h-4 w-4"})})]})]},o.id))})]})]}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h4",{className:"text-lg font-medium text-blue-900 mb-3",children:"CSV File Format Requirements"}),n.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[n.jsx("p",{children:n.jsx("strong",{children:"Header Information (First 4 lines):"})}),n.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[n.jsx("li",{children:"Name,<Job Name>"}),n.jsx("li",{children:"Address,<Job Address>"}),n.jsx("li",{children:"Post code,<Postcode>"}),n.jsx("li",{children:"Project Type,<Project Type>"})]}),n.jsx("p",{className:"mt-3",children:n.jsx("strong",{children:"Data Section:"})}),n.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[n.jsx("li",{children:"Must include columns: Order Date, Build Phase, etc."}),n.jsx("li",{children:"Build Phase column contains the job phases"}),n.jsx("li",{children:"System will extract unique phases automatically"})]})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-task-monitor",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]}),n.jsxs("button",{className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload"})]})]})}),n.jsx("div",{className:"h-20"})]})}function ok(){const e=()=>{localStorage.clear(),window.location.href="/login",window.location.reload()};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function jg(){const[e,t]=x.useState("00:00:00"),[s,r]=x.useState(!1),[a,o]=x.useState(null),[l,i]=x.useState(null),[c,d]=x.useState("Good"),[p,m]=x.useState(!1),{toast:h}=Ie(),{data:j=[]}=ke({queryKey:["/api/pending-inspections"],refetchInterval:3e4}),{data:v=[]}=ke({queryKey:["/api/contractor-reports"],refetchInterval:3e4}),{data:u=[]}=ke({queryKey:["/api/contractor-fixed-inspections"],refetchInterval:3e4}),b=mt({mutationFn:async w=>(await dr("POST",`/api/complete-inspection/${w}`)).json(),onSuccess:()=>{Lr.invalidateQueries({queryKey:["/api/pending-inspections"]}),h({title:"Inspection Completed",description:"The inspection has been marked as completed."})},onError:()=>{h({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}}),y=mt({mutationFn:async w=>(await dr("POST",`/api/contractor-fixed-inspections/${w}/approve`,{adminName:"Earl Johnson"})).json(),onSuccess:()=>{Lr.invalidateQueries({queryKey:["/api/contractor-fixed-inspections"]}),h({title:"Fix Approved",description:"Contractor fix has been approved and removed from review"})},onError:()=>{h({title:"Error",description:"Failed to approve contractor fix",variant:"destructive"})}});mt({mutationFn:async w=>(await dr("POST","/api/send-onboarding-form",w)).json(),onSuccess:w=>{w.success?h({title:"✅ Onboarding Form Sent",description:`Sent to ${w.contractorId||"contractor"} via Telegram`,duration:5e3}):h({title:"⚠️ Form Send Failed",description:w.error||"Failed to send onboarding form",variant:"destructive"})},onError:w=>{h({title:"❌ Error",description:"Failed to send onboarding form",variant:"destructive"})}}),x.useEffect(()=>{i({latitude:51.491179,longitude:.147781,accuracy:14}),d("Good")},[]),x.useEffect(()=>{let w=null;return s&&a&&(w=setInterval(()=>{const E=new Date().getTime()-a.getTime(),S=Math.floor(E/(1e3*60*60)),k=Math.floor(E%(1e3*60*60)/(1e3*60)),T=Math.floor(E%(1e3*60)/1e3);t(`${S.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}:${T.toString().padStart(2,"0")}`)},1e3)),()=>{w&&clearInterval(w)}},[s,a]);const f=()=>{s?(r(!1),o(null),t("00:00:00"),h({title:"Work Stopped",description:"Time tracking session ended"})):(r(!0),o(new Date),h({title:"Work Started",description:"GPS-verified time tracking activated"}))},g=w=>{switch(w){case"Good":return"bg-yellow-500 text-black";case"Poor":return"bg-orange-500 text-white";default:return"bg-red-500 text-white"}};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(ok,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-600 ml-2"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>m(!p),className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4 hover:bg-yellow-700 transition-colors",children:n.jsx("span",{className:"text-white font-bold text-sm",children:(localStorage.getItem("adminName")||"Admin").split(" ").map(w=>w[0]).join("").slice(0,2)})}),n.jsx("i",{className:"fas fa-chevron-down text-slate-400 text-xs ml-1"}),p&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-slate-800 rounded-lg shadow-xl border border-slate-600 z-50 max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-600",children:[n.jsx("div",{className:"font-medium text-white",children:localStorage.getItem("adminName")||"Admin"}),n.jsx("div",{className:"text-sm text-slate-400",children:localStorage.getItem("adminEmail")||"admin@erbuildanddesign.co.uk"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx("i",{className:"fas fa-shield-alt text-red-500 mr-2"}),n.jsx("span",{className:"text-red-400 text-sm",children:"Admin Access"})]})]}),n.jsxs("div",{className:"py-2",children:[n.jsxs("button",{onClick:()=>{m(!1),h({title:"Account Switching",description:"Switch account functionality"})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-user-friends mr-3 w-4"}),"Switch Account"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/contractor-onboarding"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-user-plus mr-3 w-4"}),"Contractor Onboarding"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/job-assignments"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-tasks mr-3 w-4"}),"Assignment Management"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"HBXL Labour Assignments",description:"Opening labour assignments..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-hammer mr-3 w-4"}),"HBXL Labour Assignments"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/admin-applications"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-green-400 bg-green-900/20",children:[n.jsx("i",{className:"fas fa-clipboard-list mr-3 w-4"}),"✨ Review Applications ✨"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/admin-time-tracking"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-blue-400 bg-blue-900/20",children:[n.jsx("i",{className:"fas fa-clock mr-3 w-4"}),"💰 Time Tracking & Earnings 💰"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/contractor-onboarding-clean"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-blue-400",children:[n.jsx("i",{className:"fas fa-user-plus mr-3 w-4"}),"Contractor Onboarding"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Cost Analysis",description:"Opening HBXL vs Daily cost analysis..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-chart-bar mr-3 w-4"}),"HBXL vs Daily Cost Analysis"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Planning System",description:"Opening hybrid planning system..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-project-diagram mr-3 w-4"}),"Hybrid Planning System"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Export & Archive",description:"Opening export and archive..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-download mr-3 w-4"}),"Export & Archive"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/contractor-id-capture"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-green-400 bg-green-900/20",children:[n.jsx("i",{className:"fas fa-user-plus mr-3 w-4"}),"📱 Capture Contractor ID"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Preview Interface",description:"Opening James's contractor interface..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-eye mr-3 w-4"}),"Preview James's Interface"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"AI Agent Management",description:"Opening AI agent management..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-robot mr-3 w-4"}),"AI Agent Management"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Project Estimation",description:"Opening project estimation & materials..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-calculator mr-3 w-4"}),"Project Estimation & Materials"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Supplier Comparison",description:"Opening supplier price comparison..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-dollar-sign mr-3 w-4"}),"Supplier Price Comparison"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/admin-site-inspections"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-red-400 bg-red-900/20",children:[n.jsx("i",{className:"fas fa-clipboard-check mr-3 w-4"}),"🔍 Admin Site Inspections 🔍"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"CIS Payroll",description:"Opening CIS payroll system..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-receipt mr-3 w-4"}),"CIS Payroll"]}),n.jsxs("button",{onClick:()=>{m(!1),h({title:"Accounting Exports",description:"Opening accounting exports..."})},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-file-export mr-3 w-4"}),"Accounting Exports"]})]}),n.jsxs("div",{className:"border-t border-slate-600 py-2",children:[n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/system-cleanup"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-red-400",children:[n.jsx("i",{className:"fas fa-broom mr-3 w-4"}),"System Cleanup"]}),n.jsxs("button",{onClick:()=>{m(!1),window.location.href="/admin-settings"},className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-yellow-400",children:[n.jsx("i",{className:"fas fa-cogs mr-3 w-4"}),"Admin Settings"]}),n.jsx("div",{className:"px-4 py-1 text-slate-400 text-sm font-medium",children:"Documents"}),n.jsx("div",{className:"px-4 py-1 text-slate-400 text-sm font-medium",children:"Help & Support"})]})]})]})]})]}),n.jsx("div",{className:"bg-yellow-600 px-4 py-2",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-black mr-2"}),n.jsx("span",{className:"text-black font-medium text-sm",children:"Daily Tracking Test"})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("i",{className:"fas fa-signal text-yellow-600"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-600",children:"GPS Status"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ee,{className:g(c),children:c}),n.jsx("i",{className:"fas fa-sync-alt text-slate-400"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-center",children:n.jsx("div",{className:"text-lg font-mono text-white",children:l?`${l.latitude}, ${l.longitude}`:"No GPS data"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Latitude:"}),n.jsx("div",{className:"text-white font-mono",children:(l==null?void 0:l.latitude)||"Unknown"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Longitude:"}),n.jsx("div",{className:"text-white font-mono",children:(l==null?void 0:l.longitude)||"Unknown"})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Accuracy:"}),n.jsxs("div",{className:"text-white",children:["±",(l==null?void 0:l.accuracy)||0," meters"]})]})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-clock text-yellow-600 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-600",children:"GPS Time Tracker"})]}),n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 text-slate-400",children:[n.jsx("i",{className:"fas fa-map-marker-alt"}),n.jsx("span",{children:"Location unknown"})]}),n.jsx("div",{className:"text-6xl font-mono font-bold text-blue-400",children:e}),n.jsxs(K,{onClick:f,className:`w-full py-4 text-lg font-medium ${s?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,children:[n.jsx("i",{className:`fas ${s?"fa-stop":"fa-play"} mr-2`}),s?"Stop Work":"Start Work (GPS Verified)"]}),n.jsx("div",{className:"text-slate-400 text-sm",children:"Ready to start GPS-verified time tracking"}),n.jsx("div",{className:"text-red-400 text-xs",children:"TESTING MODE: Work hour restrictions disabled"})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-yellow-600 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-600",children:"Priority Issues"}),v.length>0&&n.jsx(ee,{className:"ml-2 bg-red-600 text-white",children:v.length})]}),v.length>0?n.jsxs("div",{className:"space-y-3",children:[v.slice(0,3).map(w=>n.jsx("div",{className:"bg-slate-700 rounded-lg p-3 border border-red-600/30",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ee,{className:"text-xs bg-red-600",children:"URGENT"}),n.jsx("span",{className:"text-slate-400 text-xs",children:new Date(w.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"text-white font-medium text-sm mb-1",children:[w.contractorName," - ",w.assignmentId]}),n.jsx("div",{className:"text-slate-200 text-sm mb-2",children:w.reportText}),n.jsx("div",{className:"text-yellow-400 text-xs font-medium",children:"⚠️ Requires Admin Action"})]})})},w.id)),v.length>3&&n.jsx("div",{className:"text-center",children:n.jsxs(K,{variant:"outline",size:"sm",className:"text-xs border-red-500 text-red-400 hover:bg-red-600/10",children:["View All ",v.length," Reports"]})})]}):n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:n.jsx("i",{className:"fas fa-check-circle text-green-400 text-4xl"})})}),n.jsx("div",{className:"text-slate-400 text-sm",children:"No urgent issues reported. All systems running smoothly."})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-tools text-amber-500 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-amber-500",children:"Contractor Fixes - Awaiting Review"}),u.length>0&&n.jsx(ee,{className:"ml-2 bg-amber-600 text-white",children:u.length})]}),u.length>0?n.jsxs("div",{className:"space-y-3",children:[u.slice(0,3).map(w=>n.jsx("div",{className:"bg-slate-700 rounded-lg p-3 border border-amber-500/30",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ee,{className:"text-xs bg-amber-600",children:"FIXED"}),n.jsx("span",{className:"text-slate-400 text-xs",children:new Date(w.createdAt).toLocaleDateString()})]}),n.jsxs("div",{className:"text-white font-medium text-sm mb-1",children:[w.inspectorName," inspection - Assignment: ",w.assignmentId.slice(0,8),"..."]}),n.jsxs("div",{className:"text-slate-200 text-sm mb-2",children:[n.jsx("strong",{children:"Original Issue:"})," ",w.safetyNotes||w.materialsIssues||w.progressComments]}),w.nextActions&&w.nextActions.includes("Contractor fixed:")&&n.jsxs("div",{className:"text-green-300 text-sm mb-2",children:[n.jsx("strong",{children:"Contractor Notes:"})," ",w.nextActions.replace("Contractor fixed: ","")]}),n.jsx("div",{className:"text-amber-400 text-xs font-medium",children:"⚡ Needs Admin Re-Inspection"})]}),n.jsx(K,{onClick:()=>y.mutate(w.id),disabled:y.isPending,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white ml-2",children:y.isPending?"Approving...":"Mark Resolved"})]})},w.id)),u.length>3&&n.jsx("div",{className:"text-center",children:n.jsxs(K,{variant:"outline",size:"sm",className:"text-xs border-amber-500 text-amber-400 hover:bg-amber-600/10",children:["View All ",u.length," Fixed Items"]})})]}):n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:n.jsx("i",{className:"fas fa-check-circle text-green-400 text-4xl"})})}),n.jsx("div",{className:"text-slate-400 text-sm",children:"No contractor fixes pending review."})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-clipboard-check text-yellow-600 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-600",children:"Site Inspections Required"})]}),j.length>0&&n.jsx(ee,{className:"bg-red-600 text-white",children:j.length})]}),j.length===0?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:n.jsx("i",{className:"fas fa-check-circle text-green-400 text-4xl"})})}),n.jsx("div",{className:"text-slate-400 text-sm",children:"No pending site inspections. All milestones up to date."})]}):n.jsxs("div",{className:"space-y-3",children:[j.slice(0,3).map(w=>n.jsx("div",{className:"bg-slate-700 rounded-lg p-3 border border-slate-600",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(ee,{className:`text-xs ${w.notificationType==="50_percent_ready"?"bg-yellow-600":"bg-green-600"}`,children:w.notificationType==="50_percent_ready"?"50%":"100%"}),n.jsx("span",{className:"text-slate-200 font-medium text-sm",children:w.jobTitle})]}),n.jsxs("div",{className:"text-slate-400 text-xs",children:[w.contractorName," • ",w.jobLocation]})]}),n.jsxs("div",{className:"flex gap-2 ml-3",children:[n.jsx(K,{size:"sm",variant:"outline",className:"text-xs px-2 py-1 border-slate-500 text-slate-200 hover:bg-slate-600",onClick:()=>{h({title:"Site Inspection",description:"Inspection details recorded"})},children:"View"}),n.jsx(K,{size:"sm",className:"text-xs px-2 py-1 bg-green-600 hover:bg-green-700",onClick:()=>b.mutate(w.id),disabled:b.isPending,children:"✓"})]})]})},w.id)),j.length>3&&n.jsxs(K,{variant:"outline",className:"w-full text-sm border-slate-500 text-slate-200 hover:bg-slate-600",onClick:()=>window.location.href="/admin-inspections",children:["View All ",j.length," Inspections"]})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-5 text-center",children:[n.jsxs("button",{className:"py-3 px-4 text-yellow-600",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-task-monitor",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-time-tracking",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-clock block mb-1"}),n.jsx("span",{className:"text-xs",children:"Time Tracking"})]}),n.jsxs("button",{onClick:()=>window.location.href="/upload",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload"})]})]})}),n.jsx("div",{className:"h-20"})]})}function lk(){const e=()=>{localStorage.removeItem("userRole"),localStorage.removeItem("isLoggedIn"),window.location.href="/login"};return n.jsx("div",{className:"fixed top-4 right-4 z-50",children:n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-3 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})})}function ik(){const[e,t]=x.useState("Send Form"),[s,r]=x.useState(""),[a,o]=x.useState(""),[l,i]=x.useState([{id:"1",name:"James Carpenter",phone:"07534251548",email:"james@gmail.com",specialization:["Carpentry","Flooring"],status:"pending",submittedDate:"06/08/2025",telegramId:"@james_contractor"},{id:"2",name:"Sarah Mason",phone:"07845123456",email:"sarah.mason@email.com",specialization:["Bricklaying","Masonry"],status:"pending",submittedDate:"05/08/2025",telegramId:"@sarah_mason"}]),[c,d]=x.useState([{id:"3",name:"Mike Electrician",phone:"07567890123",email:"mike.elec@email.com",specialization:["Electrical"],status:"approved",reviewedDate:"04/08/2025",telegramId:"@mike_electrical"}]),{toast:p}=Ie(),m=async()=>{if(!s||!a){p({title:"Missing Information",description:"Please provide contractor's name and Telegram ID",variant:"destructive"});return}try{const v=Math.random().toString(36).substr(2,9),u=`${window.location.origin}/contractor-form?id=${v}&name=${encodeURIComponent(s)}`,b=`📋 Contractor Onboarding - ER Build & Design

Hello ${s}!

You've been invited to join our construction team. Please complete your contractor registration form:

🔗 Form Link: ${u}

📝 What you'll need:
• Personal details & contact information
• Passport photo and right to work documents
• CIS number and tax details
• CSCS card information (if available)
• Bank details for payments
• Emergency contact details
• Your primary trade and tool availability

⏱️ Please complete within 24 hours

❓ Need help? Reply to this message

📱 Complete Form`;a&&((await fetch("https://api.telegram.org/bot8382710567:AAFshEGUHA-3P-Jf_PuLIQjskb-1_fY6iEA/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:a.startsWith("@")?a.slice(1):a,text:b,parse_mode:"HTML"})})).ok?p({title:"Form Sent Successfully",description:`Professional registration form sent to ${s}`}):p({title:"Form Link Prepared",description:`Form ready for ${s}. Send manually if needed.`}));const y={id:Date.now().toString(),name:s,phone:"To Be Provided",email:"To Be Provided",specialization:["To Be Determined"],status:"invited",submittedDate:new Date().toLocaleDateString("en-GB"),telegramId:a};i(f=>[y,...f]),r(""),o("")}catch(v){console.error("Error sending form:",v),p({title:"Error",description:"Failed to send form. Please try again.",variant:"destructive"})}},h=v=>{const u=l.find(b=>b.id===v);u&&(d(b=>[...b,{...u,status:"approved",reviewedDate:new Date().toLocaleDateString("en-GB")}]),i(b=>b.filter(y=>y.id!==v)),p({title:"Application Approved",description:`${u.name} has been approved and added to the contractor network.`}))},j=v=>{const u=l.find(b=>b.id===v);u&&(i(b=>b.filter(y=>y.id!==v)),p({title:"Application Rejected",description:`${u.name}'s application has been rejected.`,variant:"destructive"}))};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(lk,{}),n.jsx("div",{className:"bg-slate-800 text-white p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-lg font-medium",children:"Simple Time Tracking"})}),n.jsxs("div",{className:"ml-auto flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),n.jsx("span",{className:"text-xs",children:"Online"})]})]})}),n.jsx("div",{className:"bg-slate-900 px-4 py-3",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("p",{className:"text-slate-400 text-sm",children:"Send forms and manage contractor applications"})})}),n.jsx("div",{className:"bg-slate-900 px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsx("div",{className:"flex space-x-6 border-b border-slate-700",children:[{key:"Send Form",label:"Send Form"},{key:"Pending Review",label:"Pending Review"},{key:"Approved",label:"Reviewed"}].map(v=>n.jsx("button",{onClick:()=>t(v.key),className:`py-3 px-1 text-sm font-medium border-b-2 ${e===v.key?"border-yellow-500 text-yellow-400":"border-transparent text-slate-400 hover:text-slate-300"}`,children:v.label},v.key))})})}),n.jsxs("div",{className:"max-w-4xl mx-auto p-4 pb-20",children:[e==="Send Form"&&n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx(T0,{className:"w-5 h-5 text-yellow-400"}),n.jsx("h3",{className:"text-yellow-400 text-lg font-medium",children:"Send Contractor Form"})]}),n.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Send onboarding form to new contractors via Telegram"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Contractor Name *"}),n.jsx("input",{type:"text",value:s,onChange:v=>r(v.target.value),placeholder:"e.g. James Carpenter",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white placeholder-slate-500 focus:border-yellow-500 focus:outline-none text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Telegram ID *"}),n.jsx("input",{type:"text",value:a,onChange:v=>o(v.target.value),placeholder:"@username or 1234567890",className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white placeholder-slate-500 focus:border-yellow-500 focus:outline-none text-sm"}),n.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Use @username or numeric ID"})]}),n.jsx("div",{className:"bg-slate-700 border border-slate-600 rounded p-3 mt-4",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"w-5 h-5 mt-0.5",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-blue-400",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-blue-400 text-sm font-medium",children:"The contractor will receive a comprehensive form covering"}),n.jsx("p",{className:"text-slate-300 text-xs mt-1",children:"personal details, right to work, CIS information, banking details, emergency contacts, and trade specialization."})]})]})}),n.jsx(K,{onClick:m,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-black font-medium py-2.5 mt-4 text-sm",children:"Send Form"})]})]})}),e==="Pending Review"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-yellow-400 text-lg font-medium",children:"Applications Pending Review"}),n.jsxs(ee,{variant:"secondary",className:"bg-orange-600 text-white",children:[l.length," Pending"]})]}),l.length===0?n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-8 text-center",children:[n.jsx(ms,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),n.jsx("h4",{className:"text-slate-300 text-lg mb-2",children:"No Pending Applications"}),n.jsx("p",{className:"text-slate-500",children:"Applications will appear here when contractors submit their forms."})]}):n.jsx("div",{className:"grid gap-4",children:l.map(v=>n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white text-lg font-medium",children:v.name}),n.jsxs("div",{className:"text-slate-400 text-sm space-y-1",children:[n.jsxs("p",{children:["📧 ",v.email]}),n.jsxs("p",{children:["📞 ",v.phone]}),n.jsxs("p",{children:["📅 Submitted: ",v.submittedDate]}),v.telegramId&&n.jsxs("p",{children:["💬 ",v.telegramId]})]})]}),n.jsx(ee,{variant:"secondary",className:"bg-orange-600 text-white",children:v.status})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(K,{onClick:()=>h(v.id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white flex items-center justify-center space-x-2",children:[n.jsx(ze,{className:"w-4 h-4"}),n.jsx("span",{children:"Approve"})]}),n.jsxs(K,{onClick:()=>j(v.id),variant:"destructive",className:"flex-1 flex items-center justify-center space-x-2",children:[n.jsx(us,{className:"w-4 h-4"}),n.jsx("span",{children:"Reject"})]})]})]},v.id))})]}),e==="Approved"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-yellow-400 text-lg font-medium",children:"Approved Contractors"}),n.jsxs(ee,{variant:"secondary",className:"bg-green-600 text-white",children:[c.length," Approved"]})]}),c.length===0?n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-8 text-center",children:[n.jsx(ze,{className:"w-12 h-12 text-slate-500 mx-auto mb-4"}),n.jsx("h4",{className:"text-slate-300 text-lg mb-2",children:"No Approved Contractors"}),n.jsx("p",{className:"text-slate-500",children:"Approved contractors will appear here after review."})]}):n.jsx("div",{className:"grid gap-4",children:c.map(v=>n.jsxs("div",{className:"bg-slate-800 border border-green-600 rounded-lg p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white text-lg font-medium",children:v.name}),n.jsxs("div",{className:"text-slate-400 text-sm space-y-1",children:[n.jsxs("p",{children:["📧 ",v.email]}),n.jsxs("p",{children:["📞 ",v.phone]}),n.jsxs("p",{children:["✅ Approved: ",v.reviewedDate]}),v.telegramId&&n.jsxs("p",{children:["💬 ",v.telegramId]})]})]}),n.jsx(ee,{variant:"secondary",className:"bg-green-600 text-white",children:"Approved"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:v.specialization.map((u,b)=>n.jsx(ee,{variant:"outline",className:"border-yellow-500 text-yellow-400",children:u},b))})]},v.id))})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"flex justify-around py-2",children:[n.jsxs("a",{href:"/",className:"flex flex-col items-center py-2 px-4",children:[n.jsx("div",{className:"w-6 h-6 mb-1",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-slate-400",children:n.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})})}),n.jsx("span",{className:"text-xs text-slate-400",children:"Dashboard"})]}),n.jsxs("a",{href:"/jobs",className:"flex flex-col items-center py-2 px-4",children:[n.jsx("div",{className:"w-6 h-6 mb-1",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-slate-400",children:n.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"})})}),n.jsx("span",{className:"text-xs text-slate-400",children:"Jobs"})]}),n.jsxs("a",{href:"/admin",className:"flex flex-col items-center py-2 px-4",children:[n.jsx("div",{className:"w-6 h-6 mb-1",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-yellow-400",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsx("span",{className:"text-xs text-yellow-400",children:"Admin"})]}),n.jsxs("a",{href:"/upload-job",className:"flex flex-col items-center py-2 px-4",children:[n.jsx("div",{className:"w-6 h-6 mb-1",children:n.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"text-slate-400",children:n.jsx("path",{d:"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"})})}),n.jsx("span",{className:"text-xs text-slate-400",children:"Upload Job"})]})]})})]})}function ck(){const[e,t]=x.useState(1),[s,r]=x.useState({firstName:"",lastName:"",email:"",phone:"",telegramId:"",fullAddress:"",city:"",postcode:"",hasRightToWork:!1,passportNumber:"",passportPhotoUploaded:!1,passportPhotoFile:null,passportPhotoName:"",utrNumber:"",isCisRegistered:null,hasPublicLiability:!1,cisStatus:"",cisNumber:"",utrNumberDetails:"",hasValidCscs:!1,bankName:"",accountHolderName:"",sortCode:"",accountNumber:"",emergencyName:"",emergencyPhone:"",relationship:"",primaryTrade:"",yearsExperience:"",hasOwnTools:!1,toolsList:""}),{toast:a}=Ie(),o=[{number:1,title:"Personal Information",icon:Dn,fields:["firstName","lastName","email","phone","fullAddress","city","postcode"]},{number:2,title:"Right to Work & Documentation",icon:Ui,fields:["hasRightToWork","passportNumber"]},{number:3,title:"CIS & Tax Information",icon:vs,fields:["isCisRegistered","utrNumberDetails"]},{number:4,title:"Banking Details",icon:Pf,fields:["bankName","accountHolderName","sortCode","accountNumber"]},{number:5,title:"Emergency Contact",icon:Rf,fields:["emergencyName","emergencyPhone","relationship"]},{number:6,title:"Trade & Tools",icon:md,fields:["primaryTrade","yearsExperience"]}],l=["General Builder","Carpenter","Electrician","Plumber","Plasterer","Tiler","Painter & Decorator","Bricklayer","Roofer","Groundworker","Glazier","Flooring Specialist","HVAC Technician","Steelwork","Scaffolder"],i=["0-1 years","2-5 years","6-10 years","11-15 years","16+ years"],c=(u,b)=>{try{r(y=>({...y,[u]:b}))}catch(y){console.error("Error updating form data:",y)}},d=u=>{const b=o[u-1];return b?b.fields.every(y=>{const f=s[y];return typeof f=="boolean"||f===null?y==="isCisRegistered"?f===!0||f===!1:y.startsWith("has")||y.includes("is")?f===!0:!0:f!==""&&f!==void 0&&f!==null}):!1},p=()=>{d(e)?t(u=>Math.min(u+1,6)):a({title:"Please complete the following required fields:",description:m(e),variant:"destructive"})},m=u=>{const y=o[u-1].fields.filter(g=>{const w=s[g];return typeof w=="boolean"||w===null?g==="isCisRegistered"?w==null:g.startsWith("has")||g.includes("is")?w!==!0:!1:w===""||w===void 0||w===null}),f={firstName:"First Name",lastName:"Last Name",email:"Email Address",phone:"Phone Number",fullAddress:"Full Address",city:"City",postcode:"Postcode",hasRightToWork:"Right to work confirmation",passportNumber:"Passport Number",utrNumber:"UTR Number",isCisRegistered:"CIS registration status",hasPublicLiability:"Public liability insurance",cisStatus:"CIS Status",utrNumberDetails:"UTR Number",bankName:"Bank Name",accountHolderName:"Account Holder Name",sortCode:"Sort Code",accountNumber:"Account Number",emergencyName:"Emergency Contact Name",emergencyPhone:"Emergency Phone",relationship:"Relationship",primaryTrade:"Primary Trade",yearsExperience:"Years of Experience"};return y.map(g=>`• ${f[g]||g}`).join(`
`)},h=()=>{t(u=>Math.max(u-1,1))},j=async()=>{if(!d(6)){a({title:"Please complete all required fields",variant:"destructive"});return}try{const u=await fetch("/api/contractor-applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!u.ok){const y=await u.json();throw new Error(y.error||"Failed to submit application")}const b=await u.json();console.log("Application submitted successfully:",b),a({title:"Application Submitted Successfully!",description:"Your contractor application has been submitted for review. You'll hear back from us within 24 hours."}),setTimeout(()=>{window.location.href="/contractor-success"},2e3)}catch(u){console.error("Submission error:",u),a({title:"Submission Error",description:u instanceof Error?u.message:"There was an error submitting your application. Please try again.",variant:"destructive"})}},v=()=>{try{switch(e){case 1:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Dn,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Personal Information"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"First Name *"}),n.jsx("input",{type:"text",value:s.firstName,onChange:u=>c("firstName",u.target.value),placeholder:"e.g. James",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",value:s.lastName,onChange:u=>c("lastName",u.target.value),placeholder:"e.g. Carpenter",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Email Address *"}),n.jsx("input",{type:"email",value:s.email,onChange:u=>c("email",u.target.value),placeholder:"james@example.com",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:s.phone,onChange:u=>c("phone",u.target.value),placeholder:"07123456789",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Telegram ID (Optional)"}),n.jsx("input",{type:"text",value:s.telegramId,onChange:u=>c("telegramId",u.target.value),placeholder:"@username or user ID",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"}),n.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"For work notifications"})]}),n.jsxs("div",{className:"border-t border-slate-600 pt-4",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-4",children:"Address Details"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Full Address *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:s.fullAddress,onChange:u=>c("fullAddress",u.target.value),placeholder:"123 High Street, London",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"City *"}),n.jsx("input",{type:"text",value:s.city,onChange:u=>c("city",u.target.value),placeholder:"London",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Postcode *"}),n.jsx("input",{type:"text",value:s.postcode,onChange:u=>c("postcode",u.target.value),placeholder:"SW1A 1AA",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]})]})]})]})]});case 2:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Ui,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Right to Work & Documentation"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"rightToWork",checked:s.hasRightToWork,onChange:u=>c("hasRightToWork",u.target.checked),className:"w-5 h-5 text-yellow-400 bg-slate-800 border-yellow-500 rounded focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"rightToWork",className:"text-white font-medium",children:"I have the right to work in the UK *"})]}),n.jsx(le,{className:"bg-slate-800 border-slate-600",children:n.jsxs(ie,{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Passport Number"}),n.jsx("input",{type:"text",value:s.passportNumber,onChange:u=>c("passportNumber",u.target.value),placeholder:"e.g. 123456789",className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Passport Photo"}),n.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:u=>{if(u.target.files&&u.target.files[0]){const b=u.target.files[0];if(b.size>10*1024*1024){a({title:"File too large",description:"Please select a file smaller than 10MB",variant:"destructive"});return}c("passportPhotoUploaded",!0),c("passportPhotoFile",b),c("passportPhotoName",b.name),a({title:"Photo uploaded",description:`Successfully uploaded ${b.name}`})}},className:"hidden",id:"passportUpload"}),n.jsxs("label",{htmlFor:"passportUpload",className:"bg-yellow-500 hover:bg-yellow-600 text-black font-medium px-6 py-2 rounded-lg flex items-center space-x-2 cursor-pointer inline-flex",children:[n.jsx(I0,{className:"w-4 h-4"}),n.jsx("span",{children:s.passportPhotoUploaded?"Change Photo":"Upload Passport Photo"})]}),s.passportPhotoUploaded&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-green-400",children:[n.jsx(ze,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Photo uploaded successfully"})]}),s.passportPhotoName&&n.jsxs("div",{className:"text-xs text-slate-400",children:["File: ",s.passportPhotoName]})]}),n.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"Accepted formats: JPG, PNG, PDF (max 10MB)"})]})]})}),n.jsxs("div",{className:"border-t border-slate-600 pt-4",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-4",children:"Insurance (Optional)"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"hasInsurance",checked:s.hasPublicLiability,onChange:u=>c("hasPublicLiability",u.target.checked),className:"w-5 h-5 text-yellow-400 bg-slate-800 border-yellow-500 rounded focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"hasInsurance",className:"text-white",children:"I have public liability insurance (optional)"})]})})]})]})]});case 3:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(vs,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"CIS & Tax Information"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"CIS Registration Status *"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"radio",id:"cisYes",name:"cisRegistered",checked:s.isCisRegistered===!0,onChange:u=>{c("isCisRegistered",!0),c("cisStatus","CIS Registered (20% deduction)")},className:"w-4 h-4 text-yellow-500 bg-slate-800 border-yellow-500 focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"cisYes",className:"text-white",children:"Yes - I am CIS Registered (20% deduction)"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"radio",id:"cisNo",name:"cisRegistered",checked:s.isCisRegistered===!1,onChange:u=>{c("isCisRegistered",!1),c("cisStatus","Not CIS Registered (30% deduction)")},className:"w-4 h-4 text-yellow-500 bg-slate-800 border-yellow-500 focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"cisNo",className:"text-white",children:"No - I am not CIS Registered (30% deduction)"})]})]})]}),s.isCisRegistered&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"CIS Number (if applicable)"}),n.jsx("input",{type:"text",value:s.cisNumber,onChange:u=>c("cisNumber",u.target.value),placeholder:"e.g. 123/AB12345",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"UTR Number"}),n.jsx("input",{type:"text",value:s.utrNumberDetails,onChange:u=>c("utrNumberDetails",u.target.value),placeholder:"10 digit UTR number",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{className:"border-t border-slate-600 pt-4",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-4",children:"CSCS Card Details"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"hasValidCscs",checked:s.hasValidCscs,onChange:u=>c("hasValidCscs",u.target.checked),className:"w-5 h-5 text-yellow-400 bg-slate-800 border-yellow-500 rounded focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"hasValidCscs",className:"text-white",children:"I have a valid CSCS card"})]})]}),(s.cisNumber||s.utrNumberDetails)&&n.jsx(le,{className:"bg-red-50 border-red-200",children:n.jsxs(ie,{className:"p-4",children:[n.jsx("h4",{className:"text-red-800 font-medium mb-2",children:"Please complete the following required fields:"}),n.jsxs("ul",{className:"text-red-700 text-sm space-y-1",children:[!s.cisNumber&&s.isCisRegistered&&n.jsx("li",{children:"• CIS number is required when registered"}),!s.utrNumberDetails&&n.jsx("li",{children:"• UTR number is required when you have one"})]})]})})]})]});case 4:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Pf,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Banking Details"})]}),n.jsx(le,{className:"bg-slate-800 border-yellow-500",children:n.jsx(ie,{className:"p-6",children:n.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[n.jsx(Ui,{className:"w-5 h-5 text-yellow-400 mt-1"}),n.jsx("p",{className:"text-slate-300 text-sm",children:"Your banking information is encrypted and secure. Required for payment processing."})]})})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Bank Name *"}),n.jsx("input",{type:"text",value:s.bankName,onChange:u=>c("bankName",u.target.value),placeholder:"e.g. Barclays, HSBC, NatWest",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Account Holder Name *"}),n.jsx("input",{type:"text",value:s.accountHolderName,onChange:u=>c("accountHolderName",u.target.value),placeholder:"Full name as on account",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Sort Code *"}),n.jsx("input",{type:"text",value:s.sortCode,onChange:u=>c("sortCode",u.target.value),placeholder:"12-34-56",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Account Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:s.accountNumber,onChange:u=>c("accountNumber",u.target.value),placeholder:"12345678",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 pr-12 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"}),n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"})})]})]})]})]});case 5:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(Rf,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Emergency Contact"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Emergency Contact Name *"}),n.jsx("input",{type:"text",value:s.emergencyName,onChange:u=>c("emergencyName",u.target.value),placeholder:"Full name",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Emergency Contact Phone *"}),n.jsx("input",{type:"tel",value:s.emergencyPhone,onChange:u=>c("emergencyPhone",u.target.value),placeholder:"07123456789",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Relationship *"}),n.jsx("input",{type:"text",value:s.relationship,onChange:u=>c("relationship",u.target.value),placeholder:"e.g. Spouse, Parent, Sibling",className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400"})]})]})]});case 6:return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx(md,{className:"w-6 h-6 text-yellow-400"}),n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Trade & Tools"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Primary Trade *"}),n.jsxs("select",{value:s.primaryTrade,onChange:u=>c("primaryTrade",u.target.value),className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",children:[n.jsx("option",{value:"",children:"Select your primary trade"}),l.map(u=>n.jsx("option",{value:u,className:"bg-slate-800",children:u},u))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Years of Experience *"}),n.jsxs("select",{value:s.yearsExperience,onChange:u=>c("yearsExperience",u.target.value),className:"w-full bg-slate-800 border border-yellow-500 rounded-lg px-4 py-3 text-white focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400",children:[n.jsx("option",{value:"",children:"Select your experience level"}),i.map(u=>n.jsx("option",{value:u,className:"bg-slate-800",children:u},u))]})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:"hasOwnTools",checked:s.hasOwnTools,onChange:u=>c("hasOwnTools",u.target.checked),className:"w-5 h-5 text-yellow-400 bg-slate-800 border-yellow-500 rounded focus:ring-yellow-400"}),n.jsx("label",{htmlFor:"hasOwnTools",className:"text-white",children:"I have my own tools"})]}),s.hasOwnTools&&n.jsx(le,{className:"bg-slate-800 border-slate-600",children:n.jsxs(ie,{className:"p-6",children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"List your main tools (optional)"}),n.jsx("textarea",{value:s.toolsList,onChange:u=>c("toolsList",u.target.value),placeholder:"Drill",rows:4,className:"w-full bg-slate-900 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-400 focus:ring-1 focus:ring-yellow-400 resize-none"})]})})]})]});default:return n.jsx("div",{children:"Invalid step"})}}catch(u){return console.error("Error rendering step content:",u),n.jsxs("div",{className:"text-center text-red-400 p-8",children:[n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Something went wrong"}),n.jsx("p",{children:"Please refresh the page and try again."})]})}};try{return n.jsxs("div",{className:"min-h-screen bg-black text-white",children:[n.jsx("div",{className:"bg-slate-900 border-b border-slate-700 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-blue-400",children:"Contractor Registration"}),n.jsx("p",{className:"text-slate-400",children:"ER Build & Design - Complete your onboarding"})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("span",{className:"text-sm text-slate-400",children:["Step ",e," of 6"]}),n.jsxs("span",{className:"text-sm text-slate-400",children:[Math.round(e/6*100),"%"]})]}),n.jsx("div",{className:"w-full bg-slate-600 rounded-full h-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${e/6*100}%`}})})]})]})}),n.jsx("div",{className:"max-w-2xl mx-auto p-6",children:n.jsx(le,{className:"bg-slate-900 border-slate-700",children:n.jsxs(ie,{className:"p-8",children:[v(),n.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-slate-600",children:[n.jsx(K,{onClick:h,disabled:e===1,variant:"outline",className:"px-6 py-2 border-slate-600 text-slate-300 hover:bg-slate-800",children:"Previous"}),e<6?n.jsx(K,{onClick:p,className:"px-8 py-2 bg-yellow-500 hover:bg-yellow-600 text-black font-medium",children:"Next"}):n.jsx(K,{onClick:j,className:"px-8 py-2 bg-yellow-500 hover:bg-yellow-600 text-black font-medium",children:"Submit Application"})]})]})})})]})}catch(u){return console.error("Contractor form error:",u),n.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-red-400 mb-4",children:"Application Error"}),n.jsx("p",{className:"text-slate-400",children:"Sorry, there was an error loading the form. Please try refreshing the page."})]})})}}function dk(){return n.jsxs("div",{className:"min-h-screen bg-black text-white",children:[n.jsx("div",{className:"bg-slate-900 border-b border-slate-700 p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsx("h1",{className:"text-2xl font-bold text-green-400",children:"Application Submitted Successfully!"}),n.jsx("p",{className:"text-slate-400 mt-1",children:"ER Build & Design - Contractor Registration"})]})}),n.jsx("div",{className:"max-w-2xl mx-auto p-6",children:n.jsx(le,{className:"bg-slate-900 border-green-500",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(ze,{className:"w-16 h-16 text-green-400 mx-auto mb-6"}),n.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-4",children:"Thank You for Your Application!"}),n.jsx("p",{className:"text-slate-300 text-lg mb-8",children:"Your contractor registration has been submitted successfully. Our team will review your application and get back to you within 24 hours."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 bg-slate-800 p-4 rounded-lg",children:[n.jsx(ms,{className:"w-6 h-6 text-yellow-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-medium text-white",children:"Review Time"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"Within 24 hours"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 bg-slate-800 p-4 rounded-lg",children:[n.jsx(ud,{className:"w-6 h-6 text-blue-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-medium text-white",children:"We'll Contact You"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"Via email & Telegram"})]})]})]}),n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-6",children:[n.jsx("h3",{className:"text-yellow-400 font-medium mb-3",children:"What's Next?"}),n.jsxs("ul",{className:"text-slate-300 text-left space-y-2",children:[n.jsx("li",{children:"• We'll verify your documentation and credentials"}),n.jsx("li",{children:"• Complete a brief phone interview if needed"}),n.jsx("li",{children:"• Get approved and start receiving job assignments"}),n.jsx("li",{children:"• Begin earning with ER Build & Design"})]})]}),n.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-600",children:[n.jsx("p",{className:"text-slate-400 mb-2",children:"Questions or concerns?"}),n.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(P0,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{className:"text-yellow-400",children:"07534251548"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ud,{className:"w-4 h-4 text-yellow-400"}),n.jsx("span",{className:"text-yellow-400",children:"admin@erbuild.co.uk"})]})]})]})]})})})]})}var uk=x.createContext(void 0);function Wu(e){const t=x.useContext(uk);return e||t||"ltr"}var Hi="rovingFocusGroup.onEntryFocus",mk={bubbles:!1,cancelable:!0},ri="RovingFocusGroup",[vd,Ng,fk]=Cu(ri),[hk,Sg]=ln(ri,[fk]),[pk,xk]=hk(ri),kg=x.forwardRef((e,t)=>n.jsx(vd.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(vd.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(gk,{...e,ref:t})})}));kg.displayName=ri;var gk=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...m}=e,h=x.useRef(null),j=Ne(t,h),v=Wu(o),[u=null,b]=Fr({prop:l,defaultProp:i,onChange:c}),[y,f]=x.useState(!1),g=ft(d),w=Ng(s),N=x.useRef(!1),[E,S]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Hi,g),()=>k.removeEventListener(Hi,g)},[g]),n.jsx(pk,{scope:s,orientation:r,dir:v,loop:a,currentTabStopId:u,onItemFocus:x.useCallback(k=>b(k),[b]),onItemShiftTab:x.useCallback(()=>f(!0),[]),onFocusableItemAdd:x.useCallback(()=>S(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>S(k=>k-1),[]),children:n.jsx(ce.div,{tabIndex:y||E===0?-1:0,"data-orientation":r,...m,ref:j,style:{outline:"none",...e.style},onMouseDown:X(e.onMouseDown,()=>{N.current=!0}),onFocus:X(e.onFocus,k=>{const T=!N.current;if(k.target===k.currentTarget&&T&&!y){const A=new CustomEvent(Hi,mk);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const R=w().filter(F=>F.focusable),D=R.find(F=>F.active),z=R.find(F=>F.id===u),_=[D,z,...R].filter(Boolean).map(F=>F.ref.current);Pg(_,p)}}N.current=!1}),onBlur:X(e.onBlur,()=>f(!1))})})}),Cg="RovingFocusGroupItem",Eg=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:o,...l}=e,i=eo(),c=o||i,d=xk(Cg,s),p=d.currentTabStopId===c,m=Ng(s),{onFocusableItemAdd:h,onFocusableItemRemove:j}=d;return x.useEffect(()=>{if(r)return h(),()=>j()},[r,h,j]),n.jsx(vd.ItemSlot,{scope:s,id:c,focusable:r,active:a,children:n.jsx(ce.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:X(e.onMouseDown,v=>{r?d.onItemFocus(c):v.preventDefault()}),onFocus:X(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:X(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const u=wk(v,d.orientation,d.dir);if(u!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=m().filter(f=>f.focusable).map(f=>f.ref.current);if(u==="last")y.reverse();else if(u==="prev"||u==="next"){u==="prev"&&y.reverse();const f=y.indexOf(v.currentTarget);y=d.loop?bk(y,f+1):y.slice(f+1)}setTimeout(()=>Pg(y))}})})})});Eg.displayName=Cg;var vk={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function yk(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wk(e,t,s){const r=yk(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return vk[r]}function Pg(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function bk(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var jk=kg,Nk=Eg,Hu="Tabs",[Sk,D4]=ln(Hu,[Sg]),Tg=Sg(),[kk,Ku]=Sk(Hu),Rg=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:o,orientation:l="horizontal",dir:i,activationMode:c="automatic",...d}=e,p=Wu(i),[m,h]=Fr({prop:r,onChange:a,defaultProp:o});return n.jsx(kk,{scope:s,baseId:eo(),value:m,onValueChange:h,orientation:l,dir:p,activationMode:c,children:n.jsx(ce.div,{dir:p,"data-orientation":l,...d,ref:t})})});Rg.displayName=Hu;var Ig="TabsList",Ag=x.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,o=Ku(Ig,s),l=Tg(s);return n.jsx(jk,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:r,children:n.jsx(ce.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Ag.displayName=Ig;var Dg="TabsTrigger",Mg=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...o}=e,l=Ku(Dg,s),i=Tg(s),c=Fg(l.baseId,r),d=_g(l.baseId,r),p=r===l.value;return n.jsx(Nk,{asChild:!0,...i,focusable:!a,active:p,children:n.jsx(ce.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:X(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:X(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:X(e.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!a&&m&&l.onValueChange(r)})})})});Mg.displayName=Dg;var Og="TabsContent",Lg=x.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:o,...l}=e,i=Ku(Og,s),c=Fg(i.baseId,r),d=_g(i.baseId,r),p=r===i.value,m=x.useRef(p);return x.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),n.jsx(Gl,{present:a||p,children:({present:h})=>n.jsx(ce.div,{"data-state":p?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:h&&o})})});Lg.displayName=Og;function Fg(e,t){return`${e}-trigger-${t}`}function _g(e,t){return`${e}-content-${t}`}var Ck=Rg,$g=Ag,zg=Mg,Ug=Lg;const Ek=Ck,Vg=x.forwardRef(({className:e,...t},s)=>n.jsx($g,{ref:s,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vg.displayName=$g.displayName;const Go=x.forwardRef(({className:e,...t},s)=>n.jsx(zg,{ref:s,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Go.displayName=zg.displayName;const Qo=x.forwardRef(({className:e,...t},s)=>n.jsx(Ug,{ref:s,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qo.displayName=Ug.displayName;const Ys=x.forwardRef(({className:e,type:t,...s},r)=>n.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));Ys.displayName="Input";var Pk="Label",Bg=x.forwardRef((e,t)=>n.jsx(ce.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Bg.displayName=Pk;var Wg=Bg;const Tk=Jl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fr=x.forwardRef(({className:e,...t},s)=>n.jsx(Wg,{ref:s,className:he(Tk(),e),...t}));fr.displayName=Wg.displayName;function Ki({application:e,onStatusUpdate:t,onAdminUpdate:s}){const[r,a]=x.useState({adminCisVerification:e.adminCisVerification||"",adminPayRate:e.adminPayRate||"",adminNotes:e.adminNotes||""}),[o,l]=x.useState(!1),i=()=>{s(e.id,r),l(!1)},c=d=>{switch(d){case"pending":return n.jsxs(ee,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300",children:[n.jsx(ms,{className:"w-3 h-3 mr-1"}),"Pending Review"]});case"approved":return n.jsxs(ee,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[n.jsx(ze,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return n.jsxs(ee,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[n.jsx(us,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return n.jsx(ee,{variant:"outline",children:"Unknown"})}};return n.jsxs(le,{className:"mb-4 bg-white border border-slate-200 shadow-lg",children:[n.jsx(Qe,{className:"pb-6 bg-slate-50 border-b",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-full flex items-center justify-center",children:n.jsx(Dn,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsxs(qe,{className:"text-xl font-semibold text-slate-800",children:[e.firstName," ",e.lastName]}),n.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ud,{className:"w-4 h-4"}),e.email]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(P0,{className:"w-4 h-4"}),e.phone]})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 text-sm text-slate-600",children:[n.jsx(Iu,{className:"w-4 h-4"}),n.jsxs("span",{children:[e.city,", ",e.postcode]})]}),n.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:[e.yearsExperience," years experience"]})]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[c(e.status),n.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[n.jsx(C0,{className:"w-3 h-3"}),e.submittedAt?new Date(e.submittedAt).toLocaleDateString():"N/A"]}),n.jsx("div",{className:"flex items-center gap-2 text-sm",children:n.jsx("span",{className:"bg-slate-200 px-2 py-1 rounded text-slate-700 font-medium",children:e.primaryTrade})})]})]})}),n.jsxs(ie,{className:"pt-6",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 text-sm",children:[n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold mb-3 text-slate-800 text-base",children:"Tax & CIS Information"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• CIS Status:"}),n.jsxs("span",{className:"font-medium text-slate-800",children:[e.cisStatus||"Not CIS Registered"," ",!e.isCisRegistered||e.isCisRegistered==="false"?"(30% deduction)":""]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• UTR:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.utrNumberDetails||"Not provided"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• CIS Registered:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.isCisRegistered==="true"?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• Valid CSCS:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.hasValidCscs==="true"?"Yes":"No"})]})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[n.jsx("h4",{className:"font-semibold mb-3 text-slate-800 text-base",children:"Work Details"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• Right to Work:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.hasRightToWork==="true"?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• Public Liability:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.hasPublicLiability==="true"?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• Own Tools:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.hasOwnTools==="true"?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-slate-600",children:"• Passport Photo:"}),n.jsx("span",{className:"font-medium text-slate-800",children:e.passportPhotoUploaded==="true"?"Uploaded":"Not uploaded"})]})]})]}),n.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold text-slate-800 text-base flex items-center gap-2",children:[n.jsx(LN,{className:"w-4 h-4"}),"Admin Details"]}),n.jsx(K,{size:"sm",variant:"outline",onClick:()=>l(!o),className:"h-6 px-2 text-xs border-slate-300 hover:bg-slate-100",children:o?"Cancel":"Edit"})]}),o?n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx(fr,{htmlFor:"cisVerification",className:"text-xs font-medium text-slate-700",children:"CIS Verification"}),n.jsx(Ys,{id:"cisVerification",value:r.adminCisVerification,onChange:d=>a(p=>({...p,adminCisVerification:d.target.value})),placeholder:"Admin CIS verification details",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsx(fr,{htmlFor:"payRate",className:"text-xs font-medium text-slate-700",children:"Pay Rate (£/hour)"}),n.jsx(Ys,{id:"payRate",value:r.adminPayRate,onChange:d=>a(p=>({...p,adminPayRate:d.target.value})),placeholder:"e.g. 22.50",className:"h-8 text-xs mt-1"})]}),n.jsxs("div",{children:[n.jsx(fr,{htmlFor:"adminNotes",className:"text-xs font-medium text-slate-700",children:"Admin Notes"}),n.jsx(ni,{id:"adminNotes",value:r.adminNotes,onChange:d=>a(p=>({...p,adminNotes:d.target.value})),placeholder:"Internal admin notes",className:"h-16 text-xs mt-1"})]}),n.jsx(K,{size:"sm",onClick:i,className:"w-full h-7 text-xs bg-slate-700 hover:bg-slate-800",children:"Save Admin Details"})]}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),"CIS:"]}),n.jsx("span",{className:"font-medium text-slate-800",children:e.adminCisVerification||"Not verified"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[n.jsx(MN,{className:"w-3 h-3"}),"Rate:"]}),n.jsx("span",{className:"font-medium text-slate-800",children:e.adminPayRate?`£${e.adminPayRate}/hr`:"Not set"})]}),n.jsxs("div",{className:"text-xs",children:[n.jsx("span",{className:"text-slate-600",children:"Notes:"}),n.jsx("span",{className:"font-medium text-slate-800 ml-1",children:e.adminNotes||"None"})]})]})]})]}),e.status==="pending"&&n.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[n.jsxs(K,{size:"lg",className:"bg-green-600 hover:bg-green-700 flex-1 py-3 text-base font-medium",onClick:()=>t(e.id,"approved"),children:[n.jsx(ze,{className:"w-5 h-5 mr-2"}),"Approve Application"]}),n.jsxs(K,{size:"lg",variant:"destructive",className:"flex-1 py-3 text-base font-medium",onClick:()=>t(e.id,"rejected"),children:[n.jsx(us,{className:"w-5 h-5 mr-2"}),"Reject Application"]})]}),e.status==="approved"&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs(ee,{className:"bg-green-100 text-green-800 border-green-300 px-4 py-2 text-sm",children:[n.jsx(ze,{className:"w-4 h-4 mr-2"}),"Application Approved"]})}),e.status==="rejected"&&n.jsx("div",{className:"mt-4 pt-4 border-t",children:n.jsxs(ee,{className:"bg-red-100 text-red-800 border-red-300 px-4 py-2 text-sm",children:[n.jsx(us,{className:"w-4 h-4 mr-2"}),"Application Rejected"]})})]})]})}function Rk(){const{toast:e}=Ie(),[t,s]=x.useState("pending"),{data:r=[],isLoading:a}=ke({queryKey:["/api/contractor-applications"]}),o=mt({mutationFn:async({id:h,status:j})=>{const v=await fetch(`/api/contractor-applications/${h}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:j})});if(!v.ok)throw new Error("Failed to update status");return v.json()},onSuccess:()=>{Lr.invalidateQueries({queryKey:["/api/contractor-applications"]}),e({title:"Status Updated",description:"Application status has been updated successfully."})},onError:()=>{e({title:"Error",description:"Failed to update application status.",variant:"destructive"})}}),l=mt({mutationFn:async({id:h,updates:j})=>{const v=await fetch(`/api/contractor-applications/${h}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!v.ok)throw new Error("Failed to update admin details");return v.json()},onSuccess:()=>{Lr.invalidateQueries({queryKey:["/api/contractor-applications"]}),e({title:"Admin Details Updated",description:"CIS verification and pay rate have been saved."})},onError:()=>{e({title:"Error",description:"Failed to update admin details.",variant:"destructive"})}}),i=(h,j)=>{o.mutate({id:h,status:j})},c=(h,j)=>{l.mutate({id:h,updates:j})},d=r.filter(h=>h.status==="pending"),p=r.filter(h=>h.status==="approved"),m=r.filter(h=>h.status==="rejected");return a?n.jsx("div",{className:"min-h-screen bg-slate-800 text-white p-6",children:n.jsx("div",{className:"max-w-6xl mx-auto",children:n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),n.jsx("p",{children:"Loading applications..."})]})})})}):n.jsxs("div",{className:"min-h-screen bg-slate-800 text-white",children:[n.jsx("div",{className:"bg-slate-700 text-white p-4 border-b border-slate-600",children:n.jsxs("div",{className:"max-w-6xl mx-auto",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Contractor Applications"}),n.jsx("p",{className:"text-sm opacity-75",children:"Review and manage contractor applications"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("span",{className:"text-xs text-slate-400",children:"Contractor Form Link: "}),n.jsx("a",{href:"/contractor-form",className:"text-xs text-blue-400 hover:text-blue-300 underline",children:"http://localhost:5000/contractor-form"})]})]})}),n.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.length}),n.jsx("p",{className:"text-sm text-gray-300",children:"Pending Review"})]}),n.jsx(ms,{className:"w-8 h-8 text-yellow-600"})]})})}),n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-500",children:p.length}),n.jsx("p",{className:"text-sm text-gray-300",children:"Approved"})]}),n.jsx(ze,{className:"w-8 h-8 text-green-500"})]})})}),n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-red-500",children:m.length}),n.jsx("p",{className:"text-sm text-gray-300",children:"Rejected"})]}),n.jsx(us,{className:"w-8 h-8 text-red-500"})]})})})]}),n.jsxs(Ek,{value:t,onValueChange:s,className:"w-full",children:[n.jsxs(Vg,{className:"grid w-full grid-cols-3 bg-slate-700",children:[n.jsxs(Go,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-black",children:["Pending (",d.length,")"]}),n.jsxs(Go,{value:"approved",className:"data-[state=active]:bg-green-600 data-[state=active]:text-white",children:["Approved (",p.length,")"]}),n.jsxs(Go,{value:"rejected",className:"data-[state=active]:bg-red-600 data-[state=active]:text-white",children:["Rejected (",m.length,")"]})]}),n.jsx(Qo,{value:"pending",className:"mt-6",children:d.length===0?n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(ms,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Applications"}),n.jsx("p",{className:"text-gray-400",children:"All applications have been reviewed."})]})}):n.jsx("div",{className:"space-y-4",children:d.map(h=>n.jsx(Ki,{application:h,onStatusUpdate:i,onAdminUpdate:c},h.id))})}),n.jsx(Qo,{value:"approved",className:"mt-6",children:p.length===0?n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Approved Applications"}),n.jsx("p",{className:"text-gray-400",children:"No applications have been approved yet."})]})}):n.jsx("div",{className:"space-y-4",children:p.map(h=>n.jsx(Ki,{application:h,onStatusUpdate:i,onAdminUpdate:c},h.id))})}),n.jsx(Qo,{value:"rejected",className:"mt-6",children:m.length===0?n.jsx(le,{className:"bg-slate-700 border-slate-600 text-white",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Rejected Applications"}),n.jsx("p",{className:"text-gray-400",children:"No applications have been rejected."})]})}):n.jsx("div",{className:"space-y-4",children:m.map(h=>n.jsx(Ki,{application:h,onStatusUpdate:i,onAdminUpdate:c},h.id))})})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>s("pending"),className:`py-3 px-4 ${t==="pending"?"text-yellow-600":"text-slate-400 hover:text-white"}`,children:[n.jsx(ms,{className:"w-5 h-5 mx-auto mb-1"}),n.jsxs("span",{className:"text-xs",children:["Pending (",d.length,")"]})]}),n.jsxs("button",{onClick:()=>s("approved"),className:`py-3 px-4 ${t==="approved"?"text-yellow-600":"text-slate-400 hover:text-white"}`,children:[n.jsx(ze,{className:"w-5 h-5 mx-auto mb-1"}),n.jsxs("span",{className:"text-xs",children:["Approved (",p.length,")"]})]}),n.jsxs("button",{onClick:()=>s("rejected"),className:`py-3 px-4 ${t==="rejected"?"text-yellow-600":"text-slate-400 hover:text-white"}`,children:[n.jsx(us,{className:"w-5 h-5 mx-auto mb-1"}),n.jsxs("span",{className:"text-xs",children:["Rejected (",m.length,")"]})]}),n.jsxs("button",{onClick:()=>window.location.href="/contractor-onboarding-clean",className:"py-3 px-4 text-slate-400 hover:text-yellow-600",children:[n.jsx("i",{className:"fas fa-user-plus block mb-1"}),n.jsx("span",{className:"text-xs",children:"Send Form"})]})]})}),n.jsx("div",{className:"h-20"})]})}function Ik(){const e=()=>{localStorage.clear(),window.location.href="/login",window.location.reload()};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function Vf(){const[e,t]=x.useState(""),[s,r]=x.useState(null),[a,o]=x.useState([]),[l,i]=x.useState({}),[c,d]=x.useState({}),{toast:p}=Ie(),{data:m=[],isLoading:h,refetch:j}=ke({queryKey:["/api/job-assignments"],queryFn:async()=>{const f=await fetch("/api/job-assignments");if(!f.ok)throw new Error("Failed to fetch job assignments");return f.json()}}),v=async f=>{try{if(!(await fetch(`/api/job-assignments/${f}`,{method:"DELETE"})).ok)throw new Error("Failed to delete assignment");j(),p({title:"Assignment Deleted",description:"Job assignment has been removed successfully."})}catch{p({title:"Error",description:"Failed to delete assignment. Please try again.",variant:"destructive"})}},u=async f=>{if(s===f){r(null),o([]);return}r(f);try{const g=m.find(S=>S.id===f);if(!g)return;const N=await(await fetch(`/api/task-progress/${encodeURIComponent(g.contractorName)}/${f}`)).json(),E=[];N.forEach(S=>{S.completed===!0&&E.push({taskId:S.taskId,phase:S.phase,taskName:S.taskDescription,description:S.taskDescription,progress:100,completed:!0,inspectionStatus:"pending",notes:"",photos:[]})}),o(E)}catch(g){console.error("Error loading completed tasks:",g),o([])}},b=async()=>{if(s)try{const f=m.find(N=>N.id===s);if(!f)return;const g=a.map(N=>({assignmentId:s,contractorName:f.contractorName,taskId:N.taskId,phase:N.phase,taskName:N.taskName,inspectionStatus:l[N.taskId]||"pending",notes:c[N.taskId]||"",inspectedBy:localStorage.getItem("adminName")||"Admin",inspectedAt:new Date().toISOString()}));if(!(await fetch("/api/admin-inspections/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({inspections:g})})).ok)throw new Error("Failed to submit inspection");p({title:"Inspection Submitted",description:"Task inspection completed successfully"}),r(null),o([]),i({}),d({})}catch{p({title:"Error",description:"Failed to submit inspection",variant:"destructive"})}},y=m.filter(f=>{var g,w,N;return((g=f==null?void 0:f.contractorName)==null?void 0:g.toLowerCase().includes(e.toLowerCase()))||((w=f==null?void 0:f.hbxlJob)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((N=f==null?void 0:f.workLocation)==null?void 0:N.toLowerCase().includes(e.toLowerCase()))});return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(Ik,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]})]}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-400",children:"Job Assignments"}),n.jsxs(K,{onClick:()=>window.location.href="/create-assignment",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center",children:[n.jsx("i",{className:"fas fa-plus mr-2"}),"Create Assignment"]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700",children:[n.jsx("div",{className:"p-4 border-b border-slate-700",children:n.jsx("h2",{className:"text-xl font-semibold text-yellow-400",children:"Current Assignments"})}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"mb-6",children:n.jsx("input",{type:"text",placeholder:"Search assignments...",value:e,onChange:f=>t(f.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500"})}),h?n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-slate-400",children:"Loading assignments..."})}):y&&y.length>0?n.jsx("div",{className:"space-y-4",children:y.map((f,g)=>{var w;return n.jsxs("div",{className:"bg-slate-700 rounded-lg p-4 border border-slate-600",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx("i",{className:"fas fa-briefcase text-white text-lg"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:f.title||"Job Assignment"}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Assigned to: ",f.contractorName||"Unknown"]}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Location: ",f.workLocation||"No location specified"]}),n.jsxs("p",{className:"text-sm text-slate-400",children:["Job: ",f.hbxlJob||"No job specified"]})]})]}),n.jsxs("div",{className:"text-right flex items-center space-x-3",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Status"}),n.jsx("div",{className:"text-green-400 font-medium text-sm",children:f.status||"Assigned"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Phases"}),n.jsx("div",{className:"text-blue-400 font-medium text-sm",children:((w=f.buildPhases)==null?void 0:w.length)||0})]}),n.jsx("button",{onClick:()=>v(f.id),className:"p-3 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-colors border border-red-800 hover:border-red-600",title:"Delete Assignment",children:n.jsx("i",{className:"fas fa-trash text-lg"})})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Start Date"}),n.jsx("div",{className:"text-white",children:f.startDate||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Due Date"}),n.jsx("div",{className:"text-white",children:f.dueDate||"N/A"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Telegram"}),n.jsx("div",{className:"text-white",children:f.telegramNotified==="true"?"✓ Sent":"Not sent"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-400",children:"Actions"}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:()=>u(f.id),className:"text-yellow-400 hover:text-yellow-300 text-sm underline",children:[s===f.id?"Hide":"Show"," Task Inspection"]})})]})]}),s===f.id&&n.jsxs("div",{className:"mt-6 border-t border-slate-600 pt-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-amber-500/10 to-yellow-500/10 rounded-lg p-3 sm:p-4 mb-4 sm:mb-6 border border-amber-500/20",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-amber-400 flex items-center gap-2",children:[n.jsx("i",{className:"fas fa-clipboard-check text-sm sm:text-base"}),n.jsx("span",{className:"hidden sm:inline",children:"Site Inspection Dashboard"}),n.jsx("span",{className:"sm:hidden",children:"Inspection"})]}),n.jsx("p",{className:"text-slate-300 mt-1 text-sm",children:"Quality assessment and task verification"})]}),n.jsxs("div",{className:"text-left sm:text-right",children:[n.jsx("div",{className:"text-sm text-slate-400",children:"Inspector"}),n.jsx("div",{className:"text-amber-400 font-medium",children:localStorage.getItem("adminName")||"Admin"}),n.jsx("div",{className:"text-xs text-slate-500",children:new Date().toLocaleDateString("en-GB")})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[n.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[n.jsx("div",{className:"text-slate-400 text-xs sm:text-sm",children:"Contractor"}),n.jsx("div",{className:"text-white font-medium text-sm sm:text-base",children:f.contractorName})]}),n.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[n.jsx("div",{className:"text-slate-400 text-xs sm:text-sm",children:"Location"}),n.jsx("div",{className:"text-white font-medium text-sm sm:text-base",children:f.workLocation})]}),n.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-3 border border-slate-600",children:[n.jsx("div",{className:"text-slate-400 text-xs sm:text-sm",children:"Job Reference"}),n.jsx("div",{className:"text-white font-medium text-sm sm:text-base",children:f.hbxlJob})]})]}),a.length>0?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-green-900/20 border border-green-700/30 rounded-lg p-3 sm:p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 bg-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("i",{className:"fas fa-check text-white text-sm sm:text-lg"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("h4",{className:"text-green-400 font-semibold text-base sm:text-lg",children:[a.length," Task",a.length!==1?"s":""," Ready"]}),n.jsx("p",{className:"text-slate-300 text-xs sm:text-sm",children:"Complete - awaiting quality review"})]})]})}),n.jsx("div",{className:"space-y-3 sm:space-y-4",children:a.map(N=>n.jsxs("div",{className:"bg-slate-800/80 rounded-lg sm:rounded-xl border border-slate-600 overflow-hidden",children:[n.jsx("div",{className:"bg-slate-700/50 px-3 sm:px-6 py-3 sm:py-4 border-b border-slate-600",children:n.jsxs("div",{className:"flex items-start sm:items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-start sm:items-center gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx("i",{className:"fas fa-tasks text-white text-sm sm:text-base"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h5",{className:"text-white font-semibold text-sm sm:text-lg leading-tight",children:N.taskName}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-4 mt-1",children:[n.jsxs("span",{className:"text-slate-400 text-xs sm:text-sm",children:["Phase: ",N.phase]}),n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-900/30 border border-green-700/50 rounded-full text-green-400 text-xs font-medium w-fit",children:[n.jsx("i",{className:"fas fa-check-circle"}),"Complete"]})]})]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsx("div",{className:"text-lg sm:text-2xl font-bold text-green-400",children:"100%"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Progress"})]})]})}),n.jsxs("div",{className:"p-3 sm:p-6",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"block text-slate-300 font-medium mb-2 sm:mb-3 text-sm sm:text-base",children:"Quality Assessment"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsxs("button",{onClick:()=>i(E=>({...E,[N.taskId]:"approved"})),className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${l[N.taskId]==="approved"?"bg-green-600 text-white shadow-lg shadow-green-600/25 border-2 border-green-500":"bg-slate-700 text-slate-300 hover:bg-green-700 hover:text-white border-2 border-slate-600"}`,children:[n.jsx("i",{className:"fas fa-check-circle mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Approve Work"}),n.jsx("span",{className:"sm:hidden",children:"Approve"})]}),n.jsxs("button",{onClick:()=>i(E=>({...E,[N.taskId]:"issues"})),className:`px-3 sm:px-4 py-2 sm:py-3 rounded-lg font-medium transition-all duration-200 text-sm sm:text-base ${l[N.taskId]==="issues"?"bg-red-600 text-white shadow-lg shadow-red-600/25 border-2 border-red-500":"bg-slate-700 text-slate-300 hover:bg-red-700 hover:text-white border-2 border-slate-600"}`,children:[n.jsx("i",{className:"fas fa-exclamation-triangle mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Requires Attention"}),n.jsx("span",{className:"sm:hidden",children:"Issues"})]}),n.jsxs("button",{className:"px-3 sm:px-4 py-2 sm:py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all duration-200 border-2 border-blue-500 text-sm sm:text-base",children:[n.jsx("i",{className:"fas fa-camera mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Add Photo"}),n.jsx("span",{className:"sm:hidden",children:"Photo"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-slate-300 font-medium mb-2 text-sm sm:text-base",children:"Inspection Notes"}),n.jsx("textarea",{placeholder:"Record quality observations, measurements, compliance notes...",value:c[N.taskId]||"",onChange:E=>d(S=>({...S,[N.taskId]:E.target.value})),className:"w-full bg-slate-700/80 border border-slate-500 rounded-lg px-3 sm:px-4 py-2 sm:py-3 text-white placeholder-slate-400 focus:border-amber-500 focus:ring-1 focus:ring-amber-500 transition-colors text-sm sm:text-base",rows:2})]})]})]},N.taskId))}),n.jsx("div",{className:"bg-slate-800/60 rounded-lg sm:rounded-xl border border-slate-600 p-3 sm:p-6",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-semibold text-base sm:text-lg",children:"Complete Inspection"}),n.jsx("p",{className:"text-slate-400 text-xs sm:text-sm mt-1",children:"Review all assessments before submitting final report"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>{r(null),o([]),i({}),d({})},className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-600 hover:bg-slate-500 text-white rounded-lg font-medium transition-colors text-sm sm:text-base order-2 sm:order-1",children:"Cancel"}),n.jsxs("button",{onClick:b,className:"px-6 sm:px-8 py-2 sm:py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-lg font-medium shadow-lg shadow-green-600/25 transition-all duration-200 text-sm sm:text-base order-1 sm:order-2",children:[n.jsx("i",{className:"fas fa-clipboard-check mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Submit Inspection Report"}),n.jsx("span",{className:"sm:hidden",children:"Submit Inspection"})]})]})]})})]}):n.jsxs("div",{className:"text-center py-8 sm:py-12 bg-slate-800/50 rounded-lg sm:rounded-xl border border-slate-600",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:n.jsx("i",{className:"fas fa-clipboard-list text-slate-400 text-lg sm:text-xl"})}),n.jsx("h4",{className:"text-white text-base sm:text-lg font-medium mb-2",children:"No Tasks Ready for Inspection"}),n.jsx("p",{className:"text-slate-400 text-xs sm:text-sm max-w-md mx-auto px-4",children:"Completed tasks will appear here automatically once contractors mark them as 100% finished. Check back later or contact the contractor for status updates."})]})]})]},g)})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"No job assignments found."}),n.jsx("div",{className:"text-slate-500 text-sm",children:'Use "Create Assignment" to assign jobs to contractors.'})]})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-task-monitor",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]}),n.jsxs("button",{onClick:()=>window.location.href="/upload",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload"})]})]})}),n.jsx("div",{className:"h-20"})]})}function Ak(){const[e,t]=x.useState(""),[s,r]=x.useState(""),{toast:a}=Ie(),o=async l=>{if(l.preventDefault(),localStorage.clear(),sessionStorage.clear(),e==="admin"&&s==="admin123"){localStorage.setItem("userRole","admin"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("adminName","Admin"),console.log("✅ Admin login successful - role set to admin"),window.location.href="/admin",a({title:"Login Successful",description:"Welcome back, Admin!"});return}if(e==="earl.johnson"&&s==="EarlAdmin2025!"){localStorage.setItem("userRole","admin"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("adminName","Earl Johnson"),localStorage.setItem("adminEmail","earl.johnson@erbuildanddesign.co.uk"),console.log("✅ Earl Johnson admin login successful - role set to admin"),window.location.href="/admin",a({title:"Login Successful",description:"Welcome back, Earl! (Admin Mode)"});return}try{const i=await fetch("/api/contractor-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})});if(i.ok){const c=await i.json();localStorage.setItem("userRole","contractor"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("contractorName",`${c.firstName} ${c.lastName}`),localStorage.setItem("contractorId",c.id),console.log(`✅ Contractor login successful - ${c.firstName} ${c.lastName}`),window.location.href="/",a({title:"Login Successful",description:`Welcome back, ${c.firstName}!`})}else{if(e==="earl.johnson"){a({title:"Login Failed",description:"For admin access, use password: EarlAdmin2025!",variant:"destructive"});return}e==="contractor"&&s==="contractor123"?(localStorage.setItem("userRole","contractor"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("contractorName","Dalwayne Diedericks"),console.log("✅ Legacy contractor login successful - Dalwayne Diedericks"),window.location.href="/",a({title:"Login Successful",description:"Welcome back, Dalwayne!"})):a({title:"Login Failed",description:"Invalid username or password",variant:"destructive"})}}catch(i){console.error("Login error:",i),a({title:"Login Failed",description:"Unable to connect to server",variant:"destructive"})}};return n.jsxs("div",{className:"min-h-screen bg-slate-800 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 opacity-90"}),n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, rgba(203, 213, 224, 0.15) 1px, transparent 0)",backgroundSize:"40px 40px"}}),n.jsx("div",{className:"relative w-full max-w-6xl mx-auto",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[n.jsx("div",{className:"text-left space-y-8",children:n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-600 to-yellow-600 rounded-xl flex items-center justify-center shadow-2xl",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-white",children:"ERdesignandbuild"}),n.jsx("p",{className:"text-amber-400 font-medium",children:"GPS Time Tracking & Job Management"})]})]})})}),n.jsx("div",{className:"flex justify-center lg:justify-end",children:n.jsxs(le,{className:"w-full max-w-md bg-slate-700 border-slate-600 shadow-2xl",children:[n.jsxs(Qe,{className:"text-center space-y-2 pb-6",children:[n.jsx(qe,{className:"text-2xl font-bold text-white",children:"Welcome Back"}),n.jsx(zr,{className:"text-slate-400 text-base",children:"Sign in to access your dashboard"})]}),n.jsx(ie,{className:"space-y-6",children:n.jsxs("form",{onSubmit:o,className:"space-y-5",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(fr,{htmlFor:"username",className:"text-slate-200 font-medium",children:"Username"}),n.jsx(Ys,{id:"username",type:"text",value:e,onChange:l=>t(l.target.value),className:"bg-slate-800 border-slate-600 text-white placeholder:text-slate-400 focus:border-amber-500 focus:ring-amber-500 h-12",placeholder:"Enter username",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(fr,{htmlFor:"password",className:"text-slate-200 font-medium",children:"Password"}),n.jsx(Ys,{id:"password",type:"password",value:s,onChange:l=>r(l.target.value),className:"bg-slate-800 border-slate-600 text-white placeholder:text-slate-400 focus:border-amber-500 focus:ring-amber-500 h-12",placeholder:"Enter password",required:!0})]}),n.jsx(K,{type:"submit",className:"w-full bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-700 hover:to-yellow-700 text-white font-medium h-12 text-base shadow-lg transition-all duration-200",children:"Sign In"})]})})]})})]})})]})}class Hg{constructor(t,s){this.contractorName=t,this.assignmentId=s,this.storageKey=`task_progress_${s}`}async loadTaskProgress(){console.log("📁 Loading task progress...");const t=this.getFromLocalStorage();if(t.length>0)return console.log("📱 Found localStorage data, syncing with database..."),this.syncWithDatabase(t),t;try{const s=await fetch(`/api/task-progress/${encodeURIComponent(this.contractorName)}/${this.assignmentId}`);if(s.ok){const r=await s.json();if(r.length>0){console.log(`📦 Restored ${r.length} tasks from database`);const a=this.convertDbToTaskFormat(r);return this.saveToLocalStorage(a),a}}}catch(s){console.error("❌ Database load failed:",s)}return[]}async saveTaskProgress(t){this.saveToLocalStorage(t),await this.syncWithDatabase(t)}async updateTaskCompletion(t,s){try{(await fetch("/api/task-progress/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractorName:this.contractorName,assignmentId:this.assignmentId,taskId:t,completed:s})})).ok?console.log(`✅ Task ${t} saved to database: ${s?"completed":"incomplete"}`):console.error("❌ Failed to save task to database")}catch(r){console.error("❌ Database save failed:",r)}}createTasksFromCSVData(t){const s=[];return t.forEach((r,a)=>{r.replace(/,+$/,"").trim().split(",").map(i=>i.trim()).filter(i=>i).forEach((i,c)=>{if(i&&i!==""){const d=`phase-${a}-item-${c}`;s.push({id:d,title:i,description:`${i} - Phase ${a+1}`,area:`Phase ${a+1}`,totalItems:1,completedItems:0,status:"not started",taskId:d,completed:!1})}})}),console.log(`📊 Created ${s.length} tasks from authentic CSV data`),s}mergeProgressWithTasks(t,s){return t.map(r=>{const a=s.find(o=>o.id===r.id||o.title===r.title);return a?{...r,completedItems:a.completedItems,status:a.status,completed:a.completed}:r})}getFromLocalStorage(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.error("❌ LocalStorage read failed:",t),[]}}saveToLocalStorage(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t)),console.log(`💾 Saved ${t.length} tasks to localStorage`)}catch(s){console.error("❌ LocalStorage save failed:",s)}}async syncWithDatabase(t){for(const s of t)s.taskId&&await this.updateTaskCompletion(s.taskId,s.status==="completed")}convertDbToTaskFormat(t){return t.map(s=>({id:s.taskId,title:s.taskDescription,description:`${s.taskDescription} - ${s.phase}`,area:s.phase,totalItems:1,completedItems:s.completed?1:0,status:s.completed?"completed":"not started",taskId:s.taskId,completed:s.completed}))}}function Dk(){const{toast:e}=Ie(),t=localStorage.getItem("contractorName")||"Dalwayne Diedericks",s=t.split(" ")[0];console.log("🚀 TaskProgress component loaded"),console.log("🚀 contractorName from localStorage:",t),console.log("🚀 contractorFirstName:",s);const{data:r=[],isLoading:a}=ke({queryKey:[`/api/contractor-assignments/${s}`]}),o=r[0],[l,i]=x.useState(null);x.useEffect(()=>{if(o!=null&&o.id&&t){const g=new Hg(t,o.id);i(g),console.log("🎯 TaskProgressManager initialized for assignment:",o.id)}},[o==null?void 0:o.id,t]),console.log("🔍 Task Progress Debug - contractorFirstName:",s),console.log("🔍 Task Progress Debug - assignments:",r),console.log("🔍 Task Progress Debug - activeAssignment:",o),console.log("🔍 Task Progress Debug - isLoading:",a);const[c,d]=x.useState("Loading...");x.useEffect(()=>{o?(console.log("✅ Setting current project:",`${o.hbxlJob} - ${o.workLocation}`),d(`${o.hbxlJob} - ${o.workLocation}`)):(console.log("❌ No active assignment found"),d("No Active Assignment"))},[o]);const[p,m]=x.useState([]);x.useEffect(()=>{["task_progress_default","task_progress_DA17 5DB"].forEach(w=>localStorage.removeItem(w)),console.log("🧹 Cleared stale task data")},[]),x.useEffect(()=>{if(console.log("🔄 loadTasksFromCSV effect triggered"),console.log("🔄 activeAssignment:",o),console.log("🔄 buildPhases:",o==null?void 0:o.buildPhases),!o||!o.buildPhases){console.log("❌ No active assignment or build phases, skipping task loading");return}(async()=>{const w=`task_progress_${o.id}`,N=localStorage.getItem(w);let E=[];if(!N)try{console.log("📁 No localStorage found, checking database backup...");const k=await fetch(`/api/task-progress/${t}/${o.id}`);k.ok&&(E=await k.json(),console.log(`📦 Found ${E.length} tasks in database backup`))}catch(k){console.log("❌ No database backup found:",k)}let S=[];try{const T=await(await fetch("/api/uploaded-jobs")).json();console.log("🔍 Looking for job:",o.hbxlJob),console.log("🔍 Available jobs:",T.map(R=>R.name)),console.log("🔍 Matching logic - Assignment:",o.hbxlJob,"at",o.workLocation);const A=T.find(R=>{if(console.log("🔍 Checking job:",R.name,"postcode:",R.postcode,"address:",R.address),R.name===o.hbxlJob)return console.log("✅ Direct name match found"),!0;if(R.name&&o.hbxlJob){const D=R.name.toLowerCase().replace(/\s+/g,""),z=o.hbxlJob.toLowerCase().replace(/\s+/g,"");if(D.includes("flat")&&z.includes("flat"))return console.log("✅ Flat assignment match found"),!0}if(R.name.toLowerCase().includes("xavier")&&(o.hbxlJob.toLowerCase().includes("xavier")||o.hbxlJob.toLowerCase().includes("flat")))return console.log("✅ Xavier jones special case match"),!0;if(R.address&&o.workLocation&&R.address.toLowerCase().includes(o.workLocation.toLowerCase()))return console.log("✅ Address-based match found"),!0;if(R.postcode===o.workLocation)return console.log("✅ Postcode match found"),!0;if(R.postcode&&o.workLocation){const D=R.postcode.split(" ")[0],z=o.workLocation.split(" ")[0];if(D===z)return console.log("✅ Partial postcode match found"),!0}return!1});if(console.log("🔍 Found matching job:",A==null?void 0:A.name),A&&A.phaseData){let R=1;const D=A.phaseData;console.log("🔍 Phase data found:",Object.keys(D)),console.log("🔍 Assignment phases:",o.buildPhases),o.buildPhases.forEach(z=>{console.log(`🔍 Processing phase: ${z}`),D[z]?(console.log(`✅ Found data for phase ${z}:`,D[z].length,"items"),D[z].forEach((P,_)=>{const F=parseInt(P.quantity)||1;console.log(`📝 Adding task ${_+1}:`,P.description,"Qty:",F),S.push({id:`${z}-${R++}`,title:P.description||P.task||`${z} Task`,description:P.description||P.task||"",area:z,totalItems:F,completedItems:0,status:"not started"})})):(console.log(`❌ No CSV data found for phase: ${z}`),S.push({id:`${z}-${R++}`,title:z,description:`Complete ${z} work`,area:z,totalItems:1,completedItems:0,status:"not started"}))}),console.log("📊 Total tasks created:",S.length)}else{let R=1;o.buildPhases.forEach(D=>{S.push({id:(R++).toString(),title:D,description:`Complete ${D} work`,area:D,totalItems:1,completedItems:0,status:"not started"})})}}catch(k){console.error("Failed to fetch CSV job data:",k);let T=1;o.buildPhases.forEach(A=>{S.push({id:(T++).toString(),title:A,description:`Complete ${A} work`,area:A,totalItems:1,completedItems:0,status:"not started"})})}if(N)try{const k=JSON.parse(N);S=S.map(T=>{const A=k.find(R=>R.id===T.id||R.title===T.title);return A?{...T,completedItems:A.completedItems,status:A.status}:T}),console.log("📁 Restored progress from localStorage")}catch(k){console.error("Failed to load saved progress:",k)}else if(E.length>0)try{S=S.map(T=>{const A=E.find(R=>R.taskId===T.id||R.taskDescription===T.title);if(A){const R=A.completed?1:0,D=A.completed?"completed":"not started";return console.log(`📦 Restored task from database: ${T.title} - ${D}`),{...T,completedItems:R,status:D}}return T}),console.log(`✅ Restored ${E.length} tasks from database backup`);const k=`task_progress_${o.id}`;localStorage.setItem(k,JSON.stringify(S))}catch(k){console.error("Failed to restore from database backup:",k)}m(S)})()},[o]),x.useEffect(()=>{if(p.length>0&&o&&l){const g=`task_progress_${o.id}`;localStorage.setItem(g,JSON.stringify(p)),l.saveTaskProgress(p).catch(w=>{console.error("❌ Failed to backup to database:",w)})}},[p,o,l]);const[h,j]=x.useState(!1),v=()=>p.reduce((g,w)=>g+w.completedItems,0),u=()=>p.reduce((g,w)=>g+w.totalItems,0),b=()=>{const g=u();return g>0?Math.round(v()/g*100):0},y=(g,w)=>{const N=p.map(k=>{if(k.id===g){const T=Math.max(0,Math.min(k.totalItems,k.completedItems+w)),A=T===0?"not started":T===k.totalItems?"completed":"in progress";return{...k,completedItems:T,status:A}}return k});m(N);const E=`task_progress_${(o==null?void 0:o.id)||"default"}`;if(localStorage.setItem(E,JSON.stringify(N)),o!=null&&o.id&&l){const k=N.find(T=>T.id===g);if(k){const T=k.status==="completed";l.updateTaskCompletion(k.taskId||k.id,T).then(()=>{console.log(`✅ Task persisted: ${k.title} - ${T?"completed":"in progress"}`)}).catch(A=>{console.error("❌ Database persistence failed:",A)})}}const S=N.filter(k=>o==null?void 0:o.buildPhases.includes(k.area));if(o){const k=S.reduce((R,D)=>R+D.totalItems,0),T=S.reduce((R,D)=>R+D.completedItems,0),A=k>0?Math.round(T/k*100):0;console.log(`🔍 Task progress updated for ${o.hbxlJob}: ${A}%`),A>=50&&(console.log(`🚨 Triggering inspection check for ${A}% completion`),fetch(`/api/trigger-progress-check/${o.id}`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(R=>{R.ok?console.log(`✅ Progress monitoring triggered successfully for ${A}%`):console.error(`❌ Progress monitoring failed: ${R.status}`)}).catch(R=>console.error("❌ Progress monitoring failed:",R)))}e({title:"Progress Updated",description:`Task progress ${w>0?"increased":"decreased"}`})},f=g=>{j(!1),e({title:g,description:`Opening ${g} interface...`})};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>j(!h),className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4 hover:bg-yellow-700 transition-colors",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"DD"})}),h&&n.jsxs("div",{className:"absolute right-0 top-10 w-64 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-600",children:n.jsx("div",{className:"text-yellow-400 font-semibold",children:"Dalwayne Diedericks"})}),n.jsxs("div",{className:"py-2",children:[n.jsxs("button",{onClick:()=>f("Switch Account"),className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-user-circle mr-3 text-slate-400"}),"Switch Account"]}),n.jsxs("button",{onClick:()=>f("Report Issue"),className:"w-full px-4 py-2 text-left text-yellow-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-yellow-400"}),"Report Issue"]}),n.jsxs("button",{onClick:()=>f("Documents"),className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-file-alt mr-3 text-slate-400"}),"Documents"]}),n.jsxs("button",{onClick:()=>f("Help & Support"),className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-question-circle mr-3 text-slate-400"}),"Help & Support"]}),n.jsx("div",{className:"border-t border-slate-600 mt-2 pt-2",children:n.jsxs("button",{onClick:()=>{localStorage.clear(),window.location.href="/login",window.location.reload()},className:"w-full px-4 py-2 text-left text-red-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-sign-out-alt mr-3 text-red-400"}),"Sign Out & Switch Account"]})})]})]})]})]})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h1",{className:"text-2xl font-bold text-yellow-400 mb-2",children:"Task Progress"}),n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Project"}),n.jsx("div",{className:"text-white font-medium",children:c}),n.jsx("div",{className:"text-slate-400 text-sm mt-1",children:"Category"}),(o==null?void 0:o.specialInstructions)&&n.jsx("div",{className:"mt-3 bg-yellow-900/30 border border-yellow-700 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("i",{className:"fas fa-sticky-note text-yellow-400 mr-2 mt-0.5"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-yellow-400 font-medium text-sm mb-1",children:"Admin Notes:"}),n.jsx("div",{className:"text-white text-sm",children:o.specialInstructions})]})]})})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Overall Progress"}),n.jsxs(ee,{variant:"outline",className:"border-yellow-600 text-yellow-400",children:[v()," of ",u()," completed"]})]}),n.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3 mb-2",children:n.jsx("div",{className:"bg-yellow-500 h-3 rounded-full transition-all duration-300",style:{width:`${b()}%`}})}),n.jsxs("div",{className:"text-slate-400 text-sm",children:[b(),"% complete"]})]}),n.jsx("div",{className:"space-y-4",children:p.map(g=>n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-slate-500 rounded-full mr-3 mt-1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-yellow-400 font-semibold",children:g.title}),n.jsx("div",{className:"text-slate-400 text-sm mt-1",children:g.area})]})]}),n.jsx(ee,{variant:"outline",className:"border-slate-500 text-slate-400",children:g.status})]}),n.jsx("p",{className:"text-slate-300 text-sm mb-3",children:g.description}),n.jsxs("div",{className:"text-orange-400 text-sm mb-4",children:["• ",g.totalItems," items left to complete"]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:()=>y(g.id,-1),disabled:g.completedItems<=0,className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-white hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"−"}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-white",children:[g.completedItems," / ",g.totalItems]}),n.jsx("div",{className:"text-slate-400 text-sm",children:"completed"}),n.jsxs("div",{className:"text-orange-400 text-sm",children:[g.totalItems-g.completedItems," remaining"]})]}),n.jsx("button",{onClick:()=>y(g.id,1),disabled:g.completedItems>=g.totalItems,className:"w-8 h-8 bg-slate-700 rounded-full flex items-center justify-center text-yellow-400 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-2xl font-bold text-white",children:[g.totalItems>0?Math.round(g.completedItems/g.totalItems*100):0,"%"]})})]}),n.jsx(K,{variant:"outline",className:"w-full border-yellow-600 text-yellow-400 hover:bg-yellow-600 hover:text-black",children:"Show Details"})]},g.id))})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"flex justify-around py-2",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"flex flex-col items-center py-2 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-home text-xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/jobs",className:"flex flex-col items-center py-2 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-briefcase text-xl mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/more",className:"flex flex-col items-center py-2 px-4 text-slate-400",children:[n.jsx("i",{className:"fas fa-ellipsis-h text-xl mb-1"}),n.jsx("span",{className:"text-xs",children:"More"})]})]})})]})}function Mk(){const[e,t]=x.useState(!1),[s,r]=x.useState(()=>new Date().toISOString().split("T")[0]),{toast:a}=Ie(),o=localStorage.getItem("contractorName");if(!o)return window.location.href="/login",null;const l=o.split(" ")[0],c=(f=>{switch(f.toLowerCase()){case"earl":return"earl.johnson";case"dalwayne":return"dalwayne";default:return f.toLowerCase()}})(l),{data:d}=ke({queryKey:[`/api/contractor-application/${c}`],queryFn:async()=>{const f=await fetch(`/api/contractor-application/${c}`);if(f.status===404)return null;if(!f.ok)throw new Error("Failed to fetch contractor data");return f.json()},retry:!1}),{data:p=[]}=ke({queryKey:[`/api/work-sessions/${l}`],queryFn:async()=>{const f=await fetch(`/api/work-sessions/${l}?t=${Date.now()}`);if(!f.ok)throw new Error("Failed to fetch work sessions");return f.json()},staleTime:0,gcTime:0}),m=d!=null&&d.adminPayRate?parseFloat(d.adminPayRate):18.75,h={name:d!=null&&d.firstName&&(d!=null&&d.lastName)?`${d.firstName} ${d.lastName}`:o,email:(d==null?void 0:d.email)||"",cisRegistered:(d==null?void 0:d.isCisRegistered)==="true",dailyRate:m*8,hourlyRate:m,cisRate:(d==null?void 0:d.isCisRegistered)==="true"?20:30};console.log(`💼 Contractor Info: ${h.name}, £${m}/hr, £${h.dailyRate}/day, CIS: ${h.cisRate}%`);const j=p.map(f=>{let g=parseFloat(f.totalHours||"0");console.log(`🔢 Using totalHours from DB: ${f.totalHours} → ${g} hours`);const w=new Date(f.startTime),N=w.getHours(),E=w.getMinutes(),S=N+E/60,k=S>8.25;console.log(`⏰ Start time check: ${S.toFixed(2)} vs 8.25 (8:15 AM) - Late: ${k}`);const T=Math.min(g,8),A=g>=8;let R=A?h.dailyRate:T*h.hourlyRate;if(console.log(`💵 Earnings calculation: hoursWorked=${g}, paidHours=${T}, isFullDay=${A}`),console.log(`💵 Rate used: ${A?`Daily £${h.dailyRate}`:`Hourly £${h.hourlyRate} × ${T}h`} = £${R}`),k&&A){const I=Math.max(0,(S-8.25)*60),O=Math.min(I*.5,50);R=Math.max(100,h.dailyRate-O),console.log(`⚠️ LATE PENALTY: ${I.toFixed(1)} minutes late, £${O.toFixed(2)} penalty applied`)}else k&&console.log("⚠️ Started late but not full day - no penalty applied to hourly rate");const D="07:44",z="17:00",P=k?" (LATE)":"";console.log(`💰 Session ${f.id}: ${Math.min(g,8)} hours paid (${D}-${z}), started ${D}${P} = £${R.toFixed(2)}`),console.log(`⏰ Raw data - Hours: ${g}, TotalHours from DB: ${f.totalHours}`),console.log(`💸 Pay calculation: isFullDay=${A}, hourlyRate=£${h.hourlyRate}, dailyRate=£${h.dailyRate}`);const _=d!=null&&d.adminPayRate?parseFloat(d.adminPayRate):18.75,F=_*8,M=A?F:g*_;return{id:f.id,location:f.jobSiteLocation||"Work Site",date:new Date(f.startTime).toISOString().split("T")[0],startTime:D,endTime:z,hoursWorked:Math.min(g,8),hourlyRate:_,grossEarnings:M,gpsVerified:!0}}),u=(()=>{const f=j.filter(S=>{const k=new Date(S.date),T=new Date(s),A=new Date(T.getTime()-6*24*60*60*1e3);return k>=A&&k<=T}),g=f.reduce((S,k)=>S+k.hoursWorked,0),w=f.reduce((S,k)=>S+k.grossEarnings,0),N=Math.round(w*h.cisRate/100*100)/100,E=Math.round((w-N)*100)/100;return{weekEnding:s,totalHours:g,grossEarnings:w,cisDeduction:N,netEarnings:E,cisRate:h.cisRate,sessions:f}})();console.log("📊 Weekly data calculated:",{totalHours:u.totalHours,grossEarnings:u.grossEarnings,cisDeduction:u.cisDeduction,cisRate:u.cisRate,netEarnings:u.netEarnings,sessions:u.sessions.length,firstSession:u.sessions[0]}),console.log(`💸 CIS Calculation: £${u.grossEarnings.toFixed(2)} × ${u.cisRate}% = £${u.cisDeduction.toFixed(2)} deduction`),console.log(`💰 Net Payment: £${u.grossEarnings.toFixed(2)} - £${u.cisDeduction.toFixed(2)} = £${u.netEarnings.toFixed(2)}`);const b=()=>{const f={contractor:h,week:u,sessions:u.sessions};a({title:"Export Generated",description:`Week ending ${s} exported for accounting`}),console.log("Weekly Export Data:",f)},y=f=>{if(t(!1),f==="Sign Out & Switch Account"){localStorage.clear(),window.location.href="/login",window.location.reload();return}a({title:f,description:`Opening ${f} interface...`})};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>t(!e),className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4 hover:bg-yellow-700 transition-colors",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"DD"})}),e&&n.jsxs("div",{className:"absolute right-0 top-10 w-64 bg-slate-800 border border-slate-600 rounded-lg shadow-lg z-50",children:[n.jsx("div",{className:"px-4 py-3 border-b border-slate-600",children:n.jsx("div",{className:"text-yellow-400 font-semibold",children:"Dalwayne Diedericks"})}),n.jsxs("div",{className:"py-2",children:[n.jsxs("button",{onClick:()=>y("My Tasks"),className:"w-full px-4 py-2 text-left text-white hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-tasks mr-3 text-slate-400"}),"My Tasks"]}),n.jsxs("button",{onClick:()=>y("Report Issue"),className:"w-full px-4 py-2 text-left text-yellow-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle mr-3 text-yellow-400"}),"Report Issue"]}),n.jsx("div",{className:"border-t border-slate-600 mt-2 pt-2",children:n.jsxs("button",{onClick:()=>y("Sign Out & Switch Account"),className:"w-full px-4 py-2 text-left text-red-400 hover:bg-slate-700 flex items-center",children:[n.jsx("i",{className:"fas fa-sign-out-alt mr-3 text-red-400"}),"Sign Out & Switch Account"]})})]})]})]})]})]}),n.jsxs("div",{className:"p-4 pb-20",children:[n.jsx("h1",{className:"text-2xl font-bold text-yellow-400 mb-4",children:"Earnings Dashboard"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-xl p-4 text-black",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium opacity-80",children:"This Week"}),n.jsxs("div",{className:"text-2xl font-bold",children:["£",u.netEarnings.toFixed(0)]}),n.jsx("div",{className:"text-xs opacity-70",children:"Net Earnings"})]}),n.jsx("i",{className:"fas fa-pound-sign text-3xl opacity-60"})]})}),n.jsx("div",{className:"bg-slate-800 border border-slate-600 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-400",children:"Total Hours"}),n.jsx("div",{className:"text-2xl font-bold text-white",children:u.totalHours.toFixed(1)}),n.jsx("div",{className:"text-xs text-green-400",children:"GPS Verified"})]}),n.jsx("i",{className:"fas fa-clock text-3xl text-slate-600"})]})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-green-400",children:["£",u.grossEarnings.toFixed(0)]}),n.jsx("div",{className:"text-xs text-slate-400",children:"Gross"})]}),n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-red-400",children:["-£",u.cisDeduction.toFixed(0)]}),n.jsxs("div",{className:"text-xs text-slate-400",children:["CIS (",u.cisRate,"%)"]})]}),n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 text-center",children:[n.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:["£",h.hourlyRate]}),n.jsx("div",{className:"text-xs text-slate-400",children:"Rate/Hour"})]})]}),n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-yellow-400",children:"Week Details"}),n.jsx("select",{value:s,onChange:f=>r(f.target.value),className:"bg-slate-800 border border-slate-600 rounded-lg px-3 py-1 text-white text-sm",children:(()=>{const f=[],g=new Date;for(let w=0;w<8;w++){const N=new Date(g.getTime()-w*7*24*60*60*1e3),E=N.toISOString().split("T")[0],S=N.toLocaleDateString("en-GB",{month:"short",day:"numeric"});f.push(n.jsxs("option",{value:E,children:["Week ending ",S]},E))}return f})()})]}),n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("i",{className:"fas fa-calculator text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Current Pay Rates"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Daily Rate"}),n.jsxs("div",{className:"text-white font-bold text-xl",children:["£",h.dailyRate]}),n.jsx("div",{className:"text-slate-400 text-xs",children:"8-hour day"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-slate-400 text-sm",children:"Hourly Rate"}),n.jsxs("div",{className:"text-white font-bold text-xl",children:["£",h.hourlyRate.toFixed(2)]}),n.jsx("div",{className:"text-slate-400 text-xs",children:"partial day work"})]})]})]}),n.jsx("div",{className:"bg-slate-800 border-l-4 border-orange-500 rounded-lg p-4 mb-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-exclamation-triangle text-orange-500 mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-semibold",children:"Not CIS Registered"}),n.jsx("div",{className:"text-slate-400 text-sm",children:"30% tax deduction applied"})]})]}),n.jsx(ee,{variant:"default",className:"bg-orange-600",children:"Non-CIS"})]})}),n.jsxs("div",{className:"space-y-3 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Daily Breakdown"}),u.sessions.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-400 bg-slate-800 rounded-lg",children:[n.jsx("i",{className:"fas fa-calendar-times text-3xl mb-2"}),n.jsx("div",{children:"No work sessions this week"})]}):u.sessions.map(f=>n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-medium text-sm",children:f.date}),n.jsxs("div",{className:"text-slate-400 text-xs",children:[f.startTime," - ",f.endTime]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-white font-semibold",children:[f.hoursWorked.toFixed(1),"h"]}),n.jsxs("div",{className:"text-green-400 text-sm",children:["£",f.grossEarnings.toFixed(0)]})]})]}),n.jsxs("div",{className:"text-slate-400 text-sm truncate",children:[n.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),f.location]})]},f.id))]}),n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-white font-semibold",children:"Weekly Export"}),n.jsx("div",{className:"text-slate-400 text-sm",children:"Generate payroll data for accounting"})]}),n.jsx("i",{className:"fas fa-file-export text-yellow-400 text-xl"})]}),n.jsxs(K,{onClick:b,className:"w-full bg-yellow-600 hover:bg-yellow-700 text-black font-semibold",children:["Export Week Ending ",new Date(s).toLocaleDateString("en-GB",{month:"short",day:"numeric"})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-3 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/jobs",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-ellipsis-h block mb-1"}),n.jsx("span",{className:"text-xs",children:"More"})]})]})}),e&&n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>t(!1)})]})}function Ok(){const e=()=>{localStorage.clear(),window.location.href="/login",window.location.reload()};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function Lk(){var s;const{toast:e}=Ie(),t=r=>{r==="Create Job"?window.location.href="/create-assignment":e({title:r,description:`${r} functionality`})};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(Ok,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]})]}),n.jsx("div",{className:"bg-yellow-600 px-4 py-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-user-shield text-black mr-2"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-black font-medium text-sm",children:"Admin Dashboard"}),n.jsxs("div",{className:"text-black text-xs",children:["Welcome ",((s=localStorage.getItem("adminName"))==null?void 0:s.split(" ")[0])||"Admin"]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded text-xs flex items-center",children:[n.jsx("i",{className:"fas fa-plus mr-1"}),"Job"]}),n.jsx("div",{className:"bg-yellow-700 text-white px-2 py-1 rounded text-xs",children:n.jsx("i",{className:"fas fa-user"})})]})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm",children:"Jobs"}),n.jsx("i",{className:"fas fa-briefcase text-blue-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),n.jsx("div",{className:"text-slate-500 text-xs",children:"Total"})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm",children:"Active"}),n.jsx("i",{className:"fas fa-circle text-green-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),n.jsx("div",{className:"text-slate-500 text-xs",children:"Working"})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm",children:"Hours"}),n.jsx("i",{className:"fas fa-clock text-yellow-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-white",children:"0"}),n.jsx("div",{className:"text-slate-500 text-xs",children:"Today"})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-slate-400 text-sm",children:"Pay"}),n.jsx("i",{className:"fas fa-pound-sign text-yellow-400"})]}),n.jsx("div",{className:"text-2xl font-bold text-white",children:"£0"}),n.jsx("div",{className:"text-slate-500 text-xs",children:"Pending"})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-bolt text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Quick Actions"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{onClick:()=>t("Create Job"),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-4 text-center border border-slate-600 transition-colors",children:[n.jsx("i",{className:"fas fa-plus text-orange-400 text-2xl mb-2 block"}),n.jsx("div",{className:"text-white font-medium",children:"Create Job"}),n.jsx("div",{className:"text-slate-400 text-xs",children:"Create new assignment"})]}),n.jsxs("button",{onClick:()=>t("Time Tracking"),className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-4 text-center border border-slate-600 transition-colors",children:[n.jsx("i",{className:"fas fa-clock text-yellow-400 text-2xl mb-2 block"}),n.jsx("div",{className:"text-white font-medium",children:"Time Tracking"}),n.jsx("div",{className:"text-slate-400 text-xs",children:"Monitor active sessions"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"bg-slate-700 hover:bg-slate-600 rounded-lg p-4 text-center border border-slate-600 transition-colors",children:[n.jsx("i",{className:"fas fa-tasks text-blue-400 text-2xl mb-2 block"}),n.jsx("div",{className:"text-white font-medium",children:"Assignments"}),n.jsx("div",{className:"text-slate-400 text-xs",children:"Manage job assignments"})]})]})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-chart-line text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Recent Activity"})]}),n.jsx("div",{className:"text-center py-8",children:n.jsx("div",{className:"text-slate-400",children:"No recent activity"})})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]}),n.jsxs("button",{onClick:()=>window.location.href="/upload",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload"})]})]})}),n.jsx("div",{className:"h-20"})]})}class Bn{static clearLocalStorage(){try{["uploadedJobs","processedCSVs","createdJobs","csvFiles","jobAssignments","contractorData","tempData","debugLogs","formData","userPreferences","timeTracking","gpsData"].forEach(s=>{localStorage.removeItem(s)}),console.log("✓ LocalStorage cleared")}catch(t){console.error("Error clearing localStorage:",t)}}static clearSessionStorage(){try{sessionStorage.clear(),console.log("✓ SessionStorage cleared")}catch(t){console.error("Error clearing sessionStorage:",t)}}static clearBrowserCache(){try{"caches"in window&&caches.keys().then(t=>{t.forEach(s=>{caches.delete(s)})}),console.log("✓ Browser cache cleared")}catch(t){console.error("Error clearing browser cache:",t)}}static resetComponentStates(){try{window.dispatchEvent(new Event("app-reset")),console.log("✓ Component states reset")}catch(t){console.error("Error resetting component states:",t)}}static performFullCleanup(){console.log("🧹 Starting system cleanup..."),this.clearLocalStorage(),this.clearSessionStorage(),this.clearBrowserCache(),this.resetComponentStates(),console.log("✅ System cleanup completed"),setTimeout(()=>{window.location.reload()},1e3)}static checkForRemainingData(){const t=Object.keys(localStorage),s=Object.keys(sessionStorage);return console.log("LocalStorage keys:",t),console.log("SessionStorage keys:",s),{localStorage:t,sessionStorage:s}}}window.addEventListener("beforeunload",()=>{Bn.clearSessionStorage()});function Fk(){const e=()=>{localStorage.clear(),window.location.href="/login",window.location.reload()};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function _k(){const[e,t]=x.useState(!1),[s,r]=x.useState(null),{toast:a}=Ie(),o=async()=>{t(!0);try{const i=Bn.checkForRemainingData();Bn.performFullCleanup(),setTimeout(()=>{const c=Bn.checkForRemainingData();r({before:i,after:c}),a({title:"System Cleaned",description:"All temporary data and caches have been cleared"}),t(!1)},500)}catch{a({title:"Cleanup Error",description:"Error during system cleanup",variant:"destructive"}),t(!1)}},l=()=>{Bn.clearLocalStorage(),Bn.clearSessionStorage(),a({title:"Quick Cleanup Complete",description:"Storage data cleared without page reload"})};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(Fk,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]})]}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx("h1",{className:"text-3xl font-bold text-yellow-400",children:"System Cleanup"})}),n.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-broom text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-400",children:"Data Cleanup Actions"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex space-x-4",children:[n.jsx(K,{onClick:o,disabled:e,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-spinner fa-spin mr-2"}),"Cleaning..."]}):n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fas fa-trash-alt mr-2"}),"Full System Cleanup"]})}),n.jsxs(K,{onClick:l,className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-2",children:[n.jsx("i",{className:"fas fa-eraser mr-2"}),"Quick Storage Clear"]})]}),n.jsxs("div",{className:"text-sm text-slate-400",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Full System Cleanup:"})," Clears all localStorage, sessionStorage, browser cache, and reloads the page for a completely fresh start."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Quick Storage Clear:"})," Clears only localStorage and sessionStorage without page reload."]})]})]})]}),s&&n.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-chart-bar text-green-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-green-400",children:"Cleanup Results"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-yellow-400 font-medium mb-2",children:"Before Cleanup"}),n.jsxs("div",{className:"text-sm text-slate-300",children:[n.jsxs("p",{children:["LocalStorage keys: ",s.before.localStorage.length]}),n.jsxs("p",{children:["SessionStorage keys: ",s.before.sessionStorage.length]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"After Cleanup"}),n.jsxs("div",{className:"text-sm text-slate-300",children:[n.jsxs("p",{children:["LocalStorage keys: ",s.after.localStorage.length]}),n.jsxs("p",{children:["SessionStorage keys: ",s.after.sessionStorage.length]})]})]})]}),s.after.localStorage.length===0&&s.after.sessionStorage.length===0&&n.jsx("div",{className:"mt-4 p-3 bg-green-900 border border-green-600 rounded-lg",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-check-circle text-green-400 mr-2"}),n.jsx("span",{className:"text-green-300 font-medium",children:"System is completely clean!"})]})})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-6",children:[n.jsxs("div",{className:"flex items-center mb-4",children:[n.jsx("i",{className:"fas fa-info-circle text-blue-400 mr-2"}),n.jsx("h3",{className:"text-lg font-semibold text-blue-400",children:"System Status"})]}),n.jsxs("div",{className:"text-sm text-slate-300 space-y-2",children:[n.jsx("p",{children:"• All temporary test data removed from memory storage"}),n.jsx("p",{children:"• CSV upload caches cleared"}),n.jsx("p",{children:"• Job assignment data reset"}),n.jsx("p",{children:"• Component states refreshed"}),n.jsx("p",{children:"• Browser cache cleared"})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-task-monitor",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]}),n.jsxs("button",{onClick:()=>window.location.href="/upload",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload"})]})]})}),n.jsx("div",{className:"h-20"})]})}function $k(){const e=()=>{localStorage.clear(),window.location.href="/login",window.location.reload()};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function zk(){const[e,t]=x.useState([]),[s,r]=x.useState(""),[a,o]=x.useState(""),[l,i]=x.useState(""),[c,d]=x.useState(""),[p,m]=x.useState(""),[h,j]=x.useState("06/08/2025"),[v,u]=x.useState("13/08/2025"),[b,y]=x.useState(""),[f,g]=x.useState([]),[w,N]=x.useState([]),[E,S]=x.useState([]),{toast:k}=Ie(),{data:T=[]}=ke({queryKey:["/api/contractor-applications"],select:P=>P.filter(_=>_.status==="approved").map(_=>({id:_.id,firstName:_.firstName,lastName:_.lastName,email:_.email,phone:_.phone,primaryTrade:_.primaryTrade}))});x.useEffect(()=>{(async()=>{try{console.log("🔍 Loading jobs from database...");const _=await fetch("/api/jobs");if(!_.ok)throw new Error("Failed to fetch jobs");const F=await _.json();console.log("✅ Loaded jobs from database:",F.length);const M=F.map(I=>({id:I.id,name:I.title,location:I.location,status:I.status,phases:I.phases?I.phases.split(", "):[],phaseData:I.phases?I.phases.split(", ").reduce((O,U)=>(O[U]=[],O),{}):{}}));g(M),console.log("✅ Transformed jobs for dropdown:",M.length)}catch(_){console.error("❌ Error loading jobs:",_),k({title:"Error Loading Jobs",description:"Could not load jobs from database",variant:"destructive"})}})()},[]),x.useEffect(()=>{if(p){console.log("=== PHASE EXTRACTION DEBUG ==="),console.log("Selected HBXL Job:",p),console.log("All uploaded jobs:",f);const P=f.find(_=>_.name===p);if(console.log("Found selected job:",P),P)if(console.log("Job phase data exists:",!!P.phaseData),console.log("Phase data type:",typeof P.phaseData),console.log("Phase data content:",P.phaseData),P.phaseData&&typeof P.phaseData=="object"&&P.phaseData!==null){const _=Object.keys(P.phaseData);S(_),console.log("✓ Extracted phases:",_)}else console.log("❌ Phase data invalid or missing"),console.log("Selected job structure:",JSON.stringify(P,null,2)),S([]);else console.log("❌ No job found with name:",p),S([]);console.log("=== END DEBUG ===")}else S([])},[p,f]);const A=P=>{N(_=>_.includes(P)?_.filter(F=>F!==P):[..._,P])},R=()=>{N([...E])},D=()=>{N([])},z=async()=>{if(e.length===0){k({title:"Missing Information",description:"Please select at least one contractor",variant:"destructive"});return}if(!c||!p){k({title:"Missing Information",description:"Please fill in work location and select an HBXL job",variant:"destructive"});return}if(w.length===0){k({title:"No Phases Selected",description:"Please select at least one build phase",variant:"destructive"});return}try{const P=[];for(const F of e){const M=T.find(H=>H.id===F);if(!M)continue;const I={contractorName:`${M.firstName} ${M.lastName}`,email:M.email,phone:M.phone,workLocation:c,hbxlJob:p,buildPhases:w,startDate:h,endDate:v,specialInstructions:e.length>1?`TEAM ASSIGNMENT: Working with ${e.length} contractors. ${b}`.trim():b,status:"assigned",sendTelegramNotification:!0,teamAssignment:e.length>1,teamMembers:e.length>1?e.map(H=>{const J=T.find(re=>re.id===H);return J?`${J.firstName} ${J.lastName}`:""}).filter(Boolean):void 0};console.log(`📋 Creating assignment for ${M.firstName} ${M.lastName}:`,I);const O=await fetch("/api/job-assignments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!O.ok)throw new Error(`Failed to create assignment for ${M.firstName}: ${O.status}`);const U=await O.json();P.push(U),console.log(`✅ Assignment saved for ${M.firstName} ${M.lastName}`)}const _=e.map(F=>{const M=T.find(I=>I.id===F);return M?`${M.firstName} ${M.lastName}`:""}).filter(Boolean).join(", ");k({title:"Assignments Created",description:e.length>1?`Team assignment created for ${e.length} contractors: ${_}. Telegram notifications sent to each.`:`Job assigned to ${_}. Telegram notification sent.`}),setTimeout(()=>{window.location.href="/job-assignments"},2e3)}catch(P){console.error("❌ Assignment creation failed:",P),k({title:"Assignment Error",description:"Failed to create assignment. Please try again.",variant:"destructive"})}};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx($k,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Simple Time Tracking"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsx("div",{className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"RD"})})]})]}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-yellow-400",children:"Job Assignments"}),n.jsx(K,{onClick:()=>window.location.href="/job-assignments",className:"bg-blue-600 hover:bg-blue-700 text-white",children:"+ Create Assignment"})]}),n.jsxs("div",{className:"bg-slate-800 rounded-lg border border-slate-700 p-6",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx("i",{className:"fas fa-user-plus text-yellow-400 mr-2"}),n.jsx("h3",{className:"text-xl font-semibold text-yellow-400",children:"Create New Job Assignment"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:["Select Contractors *",n.jsx("span",{className:"text-slate-400 text-xs ml-2",children:"(Can select multiple for team work)"})]}),n.jsx("div",{className:"relative mb-3",children:n.jsxs("select",{onChange:P=>{const _=P.target.value;if(_&&!e.includes(_)){const F=[...e,_];if(t(F),F.length===1){const M=T.find(I=>I.id===_);M&&(r(`${M.firstName} ${M.lastName}`),o(M.email),i(M.phone))}else{const M=F.map(I=>{const O=T.find(U=>U.id===I);return O?`${O.firstName} ${O.lastName}`:""}).filter(Boolean);r(M.join(", ")),o(""),i("")}P.target.value=""}},className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Choose contractors..."}),T.map(P=>n.jsxs("option",{value:P.id,disabled:e.includes(P.id),children:[P.firstName," ",P.lastName," - ",P.primaryTrade]},P.id))]})}),e.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-sm text-slate-400",children:"Selected Contractors:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(P=>{const _=T.find(F=>F.id===P);return _?n.jsxs(ee,{className:"bg-blue-600 text-white px-3 py-1 flex items-center gap-2",children:[n.jsxs("span",{children:[_.firstName," ",_.lastName]}),n.jsxs("span",{className:"text-blue-200 text-xs",children:["(",_.primaryTrade,")"]}),n.jsx("button",{onClick:()=>{const F=e.filter(M=>M!==P);if(t(F),F.length===0)r(""),o(""),i("");else if(F.length===1){const M=T.find(I=>I.id===F[0]);M&&(r(`${M.firstName} ${M.lastName}`),o(M.email),i(M.phone))}else{const M=F.map(I=>{const O=T.find(U=>U.id===I);return O?`${O.firstName} ${O.lastName}`:""}).filter(Boolean);r(M.join(", ")),o(""),i("")}},className:"text-blue-200 hover:text-white ml-1",children:"×"})]},P):null})}),e.length>1&&n.jsxs("div",{className:"text-xs text-green-400 bg-green-900/20 border border-green-700 rounded p-2",children:["✓ Team Assignment: ",e.length," contractors will work together on this job"]})]})]}),e.length===1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:["Email * ",n.jsx("span",{className:"text-slate-400 text-xs",children:"(Auto-filled from contractor profile)"})]}),n.jsx("input",{type:"email",value:a,onChange:P=>o(P.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"Enter email address"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:["Phone ",n.jsx("span",{className:"text-slate-400 text-xs",children:"(Auto-filled from contractor profile)"})]}),n.jsx("input",{type:"text",value:l,onChange:P=>i(P.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"Enter phone number"})]})]}),e.length>1&&n.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[n.jsx("div",{className:"text-yellow-400 font-medium mb-2",children:"Team Assignment Mode"}),n.jsx("div",{className:"text-slate-300 text-sm",children:"For team assignments with multiple contractors, notifications will be sent to each contractor individually. Contact details are managed through their individual profiles."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Work Location (Postcode) *"}),n.jsx("input",{type:"text",value:c,onChange:P=>d(P.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"Enter postcode"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"HBXL Job *"}),n.jsxs("select",{value:p,onChange:P=>{if(console.log("Job selection changed to:",P.target.value),m(P.target.value),N([]),P.target.value){const _=f.find(F=>F.name===P.target.value);if(_&&_.location){const F=_.location.split(", "),M=F[F.length-1];d(M),console.log("✅ Auto-populated work location with postcode:",M)}}else d("")},className:"w-full bg-slate-700 border border-yellow-500 rounded-lg px-4 py-3 text-white focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",children:[n.jsx("option",{value:"",children:"Select HBXL job"}),f.map(P=>n.jsxs("option",{value:P.name,children:[P.name," ",P.phaseData?`(${Object.keys(P.phaseData).length} phases)`:"(No phases)"]},P.id))]}),f.length===0&&n.jsx("p",{className:"text-red-400 text-sm mt-2",children:"No jobs available. Upload CSV files on the Upload Job page first."}),f.length>0&&n.jsxs("p",{className:"text-green-400 text-sm mt-2",children:["✓ ",f.length," job(s) loaded from CSV uploads"]})]}),p&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Build Phases"}),n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{onClick:R,className:"text-yellow-400 text-sm hover:text-yellow-300",children:"Select All"}),n.jsx("button",{onClick:D,className:"text-yellow-400 text-sm hover:text-yellow-300",children:"Clear All"})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.length>0?E.map(P=>n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",id:P,checked:w.includes(P),onChange:()=>A(P),className:"w-4 h-4 text-yellow-400 bg-slate-700 border-slate-600 rounded focus:ring-yellow-500"}),n.jsx("label",{htmlFor:P,className:"text-white text-sm",children:P})]},P)):n.jsx("div",{className:"col-span-2 text-slate-400 text-sm text-center py-4 border border-slate-600 rounded-lg bg-slate-800",children:p?`No phases found for "${p}". Upload a CSV file first to get real phase data.`:"Select an HBXL job to see available phases"})}),n.jsxs("div",{className:"mt-2 text-slate-400 text-sm",children:["Selected: ",w.length," of ",E.length," phases from ",p]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Start Date"}),n.jsx("input",{type:"text",value:h,onChange:P=>j(P.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"DD/MM/YYYY"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"End Date"}),n.jsx("input",{type:"text",value:v,onChange:P=>u(P.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"DD/MM/YYYY"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-yellow-400 text-sm font-medium mb-2",children:"Special Instructions"}),n.jsx("textarea",{value:b,onChange:P=>y(P.target.value),rows:4,className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500",placeholder:"Any special instructions for the contractor..."})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx(K,{onClick:()=>window.location.href="/job-assignments",variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),n.jsx(K,{onClick:z,className:"bg-green-600 hover:bg-green-700 text-white",children:"Create Assignment"})]})]})]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-700",children:n.jsxs("div",{className:"grid grid-cols-4 text-center",children:[n.jsxs("button",{onClick:()=>window.location.href="/",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-home block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-yellow-400",children:[n.jsx("i",{className:"fas fa-briefcase block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-task-monitor",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-user-cog block mb-1"}),n.jsx("span",{className:"text-xs",children:"Admin"})]})]})}),n.jsx("div",{className:"h-20"})]})}function Bf(e,[t,s]){return Math.min(s,Math.max(t,e))}var Gi=0;function Uk(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wf()),document.body.insertAdjacentElement("beforeend",e[1]??Wf()),Gi++,()=>{Gi===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Gi--}},[])}function Wf(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qi="focusScope.autoFocusOnMount",qi="focusScope.autoFocusOnUnmount",Hf={bubbles:!1,cancelable:!0},Vk="FocusScope",Kg=x.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...l}=e,[i,c]=x.useState(null),d=ft(a),p=ft(o),m=x.useRef(null),h=Ne(t,u=>c(u)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let u=function(g){if(j.paused||!i)return;const w=g.target;i.contains(w)?m.current=w:Es(m.current,{select:!0})},b=function(g){if(j.paused||!i)return;const w=g.relatedTarget;w!==null&&(i.contains(w)||Es(m.current,{select:!0}))},y=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&Es(i)};document.addEventListener("focusin",u),document.addEventListener("focusout",b);const f=new MutationObserver(y);return i&&f.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",b),f.disconnect()}}},[r,i,j.paused]),x.useEffect(()=>{if(i){Gf.add(j);const u=document.activeElement;if(!i.contains(u)){const y=new CustomEvent(Qi,Hf);i.addEventListener(Qi,d),i.dispatchEvent(y),y.defaultPrevented||(Bk(Qk(Gg(i)),{select:!0}),document.activeElement===u&&Es(i))}return()=>{i.removeEventListener(Qi,d),setTimeout(()=>{const y=new CustomEvent(qi,Hf);i.addEventListener(qi,p),i.dispatchEvent(y),y.defaultPrevented||Es(u??document.body,{select:!0}),i.removeEventListener(qi,p),Gf.remove(j)},0)}}},[i,d,p,j]);const v=x.useCallback(u=>{if(!s&&!r||j.paused)return;const b=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,y=document.activeElement;if(b&&y){const f=u.currentTarget,[g,w]=Wk(f);g&&w?!u.shiftKey&&y===w?(u.preventDefault(),s&&Es(g,{select:!0})):u.shiftKey&&y===g&&(u.preventDefault(),s&&Es(w,{select:!0})):y===f&&u.preventDefault()}},[s,r,j.paused]);return n.jsx(ce.div,{tabIndex:-1,...l,ref:h,onKeyDown:v})});Kg.displayName=Vk;function Bk(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Es(r,{select:t}),document.activeElement!==s)return}function Wk(e){const t=Gg(e),s=Kf(t,e),r=Kf(t.reverse(),e);return[s,r]}function Gg(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Kf(e,t){for(const s of e)if(!Hk(s,{upTo:t}))return s}function Hk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kk(e){return e instanceof HTMLInputElement&&"select"in e}function Es(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&Kk(e)&&t&&e.select()}}var Gf=Gk();function Gk(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Qf(e,t),e.unshift(t)},remove(t){var s;e=Qf(e,t),(s=e[0])==null||s.resume()}}}function Qf(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function Qk(e){return e.filter(t=>t.tagName!=="A")}function Qg(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var qk=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zn=new WeakMap,Eo=new WeakMap,Po={},Ji=0,qg=function(e){return e&&(e.host||qg(e.parentNode))},Jk=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=qg(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},Yk=function(e,t,s,r){var a=Jk(t,Array.isArray(e)?e:[e]);Po[s]||(Po[s]=new WeakMap);var o=Po[s],l=[],i=new Set,c=new Set(a),d=function(m){!m||i.has(m)||(i.add(m),d(m.parentNode))};a.forEach(d);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(i.has(h))p(h);else try{var j=h.getAttribute(r),v=j!==null&&j!=="false",u=(zn.get(h)||0)+1,b=(o.get(h)||0)+1;zn.set(h,u),o.set(h,b),l.push(h),u===1&&v&&Eo.set(h,!0),b===1&&h.setAttribute(s,"true"),v||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return p(t),i.clear(),Ji++,function(){l.forEach(function(m){var h=zn.get(m)-1,j=o.get(m)-1;zn.set(m,h),o.set(m,j),h||(Eo.has(m)||m.removeAttribute(r),Eo.delete(m)),j||m.removeAttribute(s)}),Ji--,Ji||(zn=new WeakMap,zn=new WeakMap,Eo=new WeakMap,Po={})}},Xk=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=qk(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),Yk(r,a,s,"aria-hidden")):function(){return null}},Jt=function(){return Jt=Object.assign||function(t){for(var s,r=1,a=arguments.length;r<a;r++){s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}return t},Jt.apply(this,arguments)};function Jg(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}function Zk(e,t,s){if(s||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var qo="right-scroll-bar-position",Jo="width-before-scroll-bar",eC="with-scroll-bars-hidden",tC="--removed-body-scroll-bar-size";function Yi(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sC(e,t){var s=x.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var a=s.value;a!==r&&(s.value=r,s.callback(r,a))}}}})[0];return s.callback=t,s.facade}var nC=typeof window<"u"?x.useLayoutEffect:x.useEffect,qf=new WeakMap;function rC(e,t){var s=sC(null,function(r){return e.forEach(function(a){return Yi(a,r)})});return nC(function(){var r=qf.get(s);if(r){var a=new Set(r),o=new Set(e),l=s.current;a.forEach(function(i){o.has(i)||Yi(i,null)}),o.forEach(function(i){a.has(i)||Yi(i,l)})}qf.set(s,e)},[e]),s}function aC(e){return e}function oC(e,t){t===void 0&&(t=aC);var s=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(o){var l=t(o,r);return s.push(l),function(){s=s.filter(function(i){return i!==l})}},assignSyncMedium:function(o){for(r=!0;s.length;){var l=s;s=[],l.forEach(o)}s={push:function(i){return o(i)},filter:function(){return s}}},assignMedium:function(o){r=!0;var l=[];if(s.length){var i=s;s=[],i.forEach(o),l=s}var c=function(){var p=l;l=[],p.forEach(o)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),s}}}};return a}function lC(e){e===void 0&&(e={});var t=oC(null);return t.options=Jt({async:!0,ssr:!1},e),t}var Yg=function(e){var t=e.sideCar,s=Jg(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,Jt({},s))};Yg.isSideCarExport=!0;function iC(e,t){return e.useMedium(t),Yg}var Xg=lC(),Xi=function(){},ai=x.forwardRef(function(e,t){var s=x.useRef(null),r=x.useState({onScrollCapture:Xi,onWheelCapture:Xi,onTouchMoveCapture:Xi}),a=r[0],o=r[1],l=e.forwardProps,i=e.children,c=e.className,d=e.removeScrollBar,p=e.enabled,m=e.shards,h=e.sideCar,j=e.noIsolation,v=e.inert,u=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,f=e.gapMode,g=Jg(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=h,N=rC([s,t]),E=Jt(Jt({},g),a);return x.createElement(x.Fragment,null,p&&x.createElement(w,{sideCar:Xg,removeScrollBar:d,shards:m,noIsolation:j,inert:v,setCallbacks:o,allowPinchZoom:!!u,lockRef:s,gapMode:f}),l?x.cloneElement(x.Children.only(i),Jt(Jt({},E),{ref:N})):x.createElement(y,Jt({},E,{className:c,ref:N}),i))});ai.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ai.classNames={fullWidth:Jo,zeroRight:qo};var cC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dC(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cC();return t&&e.setAttribute("nonce",t),e}function uC(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mC(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fC=function(){var e=0,t=null;return{add:function(s){e==0&&(t=dC())&&(uC(t,s),mC(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hC=function(){var e=fC();return function(t,s){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Zg=function(){var e=hC(),t=function(s){var r=s.styles,a=s.dynamic;return e(r,a),null};return t},pC={left:0,top:0,right:0,gap:0},Zi=function(e){return parseInt(e||"",10)||0},xC=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Zi(s),Zi(r),Zi(a)]},gC=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pC;var t=xC(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},vC=Zg(),hr="data-scroll-locked",yC=function(e,t,s,r){var a=e.left,o=e.top,l=e.right,i=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(eC,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(hr,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qo,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Jo,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(qo," .").concat(qo,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jo," .").concat(Jo,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hr,`] {
    `).concat(tC,": ").concat(i,`px;
  }
`)},Jf=function(){var e=parseInt(document.body.getAttribute(hr)||"0",10);return isFinite(e)?e:0},wC=function(){x.useEffect(function(){return document.body.setAttribute(hr,(Jf()+1).toString()),function(){var e=Jf()-1;e<=0?document.body.removeAttribute(hr):document.body.setAttribute(hr,e.toString())}},[])},bC=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;wC();var o=x.useMemo(function(){return gC(a)},[a]);return x.createElement(vC,{styles:yC(o,!t,a,s?"":"!important")})},yd=!1;if(typeof window<"u")try{var To=Object.defineProperty({},"passive",{get:function(){return yd=!0,!0}});window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{yd=!1}var Un=yd?{passive:!1}:!1,jC=function(e){return e.tagName==="TEXTAREA"},ev=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!jC(e)&&s[t]==="visible")},NC=function(e){return ev(e,"overflowY")},SC=function(e){return ev(e,"overflowX")},Yf=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=tv(e,r);if(a){var o=sv(e,r),l=o[1],i=o[2];if(l>i)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},kC=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},CC=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},tv=function(e,t){return e==="v"?NC(t):SC(t)},sv=function(e,t){return e==="v"?kC(t):CC(t)},EC=function(e,t){return e==="h"&&t==="rtl"?-1:1},PC=function(e,t,s,r,a){var o=EC(e,window.getComputedStyle(t).direction),l=o*r,i=s.target,c=t.contains(i),d=!1,p=l>0,m=0,h=0;do{var j=sv(e,i),v=j[0],u=j[1],b=j[2],y=u-b-o*v;(v||y)&&tv(e,i)&&(m+=y,h+=v),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(p&&(Math.abs(m)<1||!a)||!p&&(Math.abs(h)<1||!a))&&(d=!0),d},Ro=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xf=function(e){return[e.deltaX,e.deltaY]},Zf=function(e){return e&&"current"in e?e.current:e},TC=function(e,t){return e[0]===t[0]&&e[1]===t[1]},RC=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IC=0,Vn=[];function AC(e){var t=x.useRef([]),s=x.useRef([0,0]),r=x.useRef(),a=x.useState(IC++)[0],o=x.useState(Zg)[0],l=x.useRef(e);x.useEffect(function(){l.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var u=Zk([e.lockRef.current],(e.shards||[]).map(Zf),!0).filter(Boolean);return u.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),u.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=x.useCallback(function(u,b){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!l.current.allowPinchZoom;var y=Ro(u),f=s.current,g="deltaX"in u?u.deltaX:f[0]-y[0],w="deltaY"in u?u.deltaY:f[1]-y[1],N,E=u.target,S=Math.abs(g)>Math.abs(w)?"h":"v";if("touches"in u&&S==="h"&&E.type==="range")return!1;var k=Yf(S,E);if(!k)return!0;if(k?N=S:(N=S==="v"?"h":"v",k=Yf(S,E)),!k)return!1;if(!r.current&&"changedTouches"in u&&(g||w)&&(r.current=N),!N)return!0;var T=r.current||N;return PC(T,b,u,T==="h"?g:w,!0)},[]),c=x.useCallback(function(u){var b=u;if(!(!Vn.length||Vn[Vn.length-1]!==o)){var y="deltaY"in b?Xf(b):Ro(b),f=t.current.filter(function(N){return N.name===b.type&&(N.target===b.target||b.target===N.shadowParent)&&TC(N.delta,y)})[0];if(f&&f.should){b.cancelable&&b.preventDefault();return}if(!f){var g=(l.current.shards||[]).map(Zf).filter(Boolean).filter(function(N){return N.contains(b.target)}),w=g.length>0?i(b,g[0]):!l.current.noIsolation;w&&b.cancelable&&b.preventDefault()}}},[]),d=x.useCallback(function(u,b,y,f){var g={name:u,delta:b,target:y,should:f,shadowParent:DC(y)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(w){return w!==g})},1)},[]),p=x.useCallback(function(u){s.current=Ro(u),r.current=void 0},[]),m=x.useCallback(function(u){d(u.type,Xf(u),u.target,i(u,e.lockRef.current))},[]),h=x.useCallback(function(u){d(u.type,Ro(u),u.target,i(u,e.lockRef.current))},[]);x.useEffect(function(){return Vn.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Un),document.addEventListener("touchmove",c,Un),document.addEventListener("touchstart",p,Un),function(){Vn=Vn.filter(function(u){return u!==o}),document.removeEventListener("wheel",c,Un),document.removeEventListener("touchmove",c,Un),document.removeEventListener("touchstart",p,Un)}},[]);var j=e.removeScrollBar,v=e.inert;return x.createElement(x.Fragment,null,v?x.createElement(o,{styles:RC(a)}):null,j?x.createElement(bC,{gapMode:e.gapMode}):null)}function DC(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MC=iC(Xg,AC);var nv=x.forwardRef(function(e,t){return x.createElement(ai,Jt({},e,{ref:t,sideCar:MC}))});nv.classNames=ai.classNames;var OC=[" ","Enter","ArrowUp","ArrowDown"],LC=[" ","Enter"],so="Select",[oi,li,FC]=Cu(so),[Qr,M4]=ln(so,[FC,ei]),ii=ei(),[_C,cn]=Qr(so),[$C,zC]=Qr(so),rv=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:o,value:l,defaultValue:i,onValueChange:c,dir:d,name:p,autoComplete:m,disabled:h,required:j,form:v}=e,u=ii(t),[b,y]=x.useState(null),[f,g]=x.useState(null),[w,N]=x.useState(!1),E=Wu(d),[S=!1,k]=Fr({prop:r,defaultProp:a,onChange:o}),[T,A]=Fr({prop:l,defaultProp:i,onChange:c}),R=x.useRef(null),D=b?v||!!b.closest("form"):!0,[z,P]=x.useState(new Set),_=Array.from(z).map(F=>F.props.value).join(";");return n.jsx(PS,{...u,children:n.jsxs(_C,{required:j,scope:t,trigger:b,onTriggerChange:y,valueNode:f,onValueNodeChange:g,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:eo(),value:T,onValueChange:A,open:S,onOpenChange:k,dir:E,triggerPointerDownPosRef:R,disabled:h,children:[n.jsx(oi.Provider,{scope:t,children:n.jsx($C,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{P(M=>new Set(M).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{P(M=>{const I=new Set(M);return I.delete(F),I})},[]),children:s})}),D?n.jsxs(Tv,{"aria-hidden":!0,required:j,tabIndex:-1,name:p,autoComplete:m,value:T,onChange:F=>A(F.target.value),disabled:h,form:v,children:[T===void 0?n.jsx("option",{value:""}):null,Array.from(z)]},_):null]})})};rv.displayName=so;var av="SelectTrigger",ov=x.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,o=ii(s),l=cn(av,s),i=l.disabled||r,c=Ne(t,l.onTriggerChange),d=li(s),p=x.useRef("touch"),[m,h,j]=Rv(u=>{const b=d().filter(g=>!g.disabled),y=b.find(g=>g.value===l.value),f=Iv(b,u,y);f!==void 0&&l.onValueChange(f.value)}),v=u=>{i||(l.onOpenChange(!0),j()),u&&(l.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return n.jsx(cg,{asChild:!0,...o,children:n.jsx(ce.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Pv(l.value)?"":void 0,...a,ref:c,onClick:X(a.onClick,u=>{u.currentTarget.focus(),p.current!=="mouse"&&v(u)}),onPointerDown:X(a.onPointerDown,u=>{p.current=u.pointerType;const b=u.target;b.hasPointerCapture(u.pointerId)&&b.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(v(u),u.preventDefault())}),onKeyDown:X(a.onKeyDown,u=>{const b=m.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&h(u.key),!(b&&u.key===" ")&&OC.includes(u.key)&&(v(),u.preventDefault())})})})});ov.displayName=av;var lv="SelectValue",iv=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:o,placeholder:l="",...i}=e,c=cn(lv,s),{onValueNodeHasChildrenChange:d}=c,p=o!==void 0,m=Ne(t,c.onValueNodeChange);return Ye(()=>{d(p)},[d,p]),n.jsx(ce.span,{...i,ref:m,style:{pointerEvents:"none"},children:Pv(c.value)?n.jsx(n.Fragment,{children:l}):o})});iv.displayName=lv;var UC="SelectIcon",cv=x.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return n.jsx(ce.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});cv.displayName=UC;var VC="SelectPortal",dv=e=>n.jsx(Eu,{asChild:!0,...e});dv.displayName=VC;var On="SelectContent",uv=x.forwardRef((e,t)=>{const s=cn(On,e.__scopeSelect),[r,a]=x.useState();if(Ye(()=>{a(new DocumentFragment)},[]),!s.open){const o=r;return o?_n.createPortal(n.jsx(mv,{scope:e.__scopeSelect,children:n.jsx(oi.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),o):null}return n.jsx(fv,{...e,ref:t})});uv.displayName=On;var At=10,[mv,dn]=Qr(On),BC="SelectContentImpl",WC=za("SelectContent.RemoveScroll"),fv=x.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:l,side:i,sideOffset:c,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:h,collisionPadding:j,sticky:v,hideWhenDetached:u,avoidCollisions:b,...y}=e,f=cn(On,s),[g,w]=x.useState(null),[N,E]=x.useState(null),S=Ne(t,V=>w(V)),[k,T]=x.useState(null),[A,R]=x.useState(null),D=li(s),[z,P]=x.useState(!1),_=x.useRef(!1);x.useEffect(()=>{if(g)return Xk(g)},[g]),Uk();const F=x.useCallback(V=>{const[Y,...ue]=D().map(ne=>ne.ref.current),[ae]=ue.slice(-1),se=document.activeElement;for(const ne of V)if(ne===se||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===Y&&N&&(N.scrollTop=0),ne===ae&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==se))return},[D,N]),M=x.useCallback(()=>F([k,g]),[F,k,g]);x.useEffect(()=>{z&&M()},[z,M]);const{onOpenChange:I,triggerPointerDownPosRef:O}=f;x.useEffect(()=>{if(g){let V={x:0,y:0};const Y=ae=>{var se,ne;V={x:Math.abs(Math.round(ae.pageX)-(((se=O.current)==null?void 0:se.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((ne=O.current)==null?void 0:ne.y)??0))}},ue=ae=>{V.x<=10&&V.y<=10?ae.preventDefault():g.contains(ae.target)||I(!1),document.removeEventListener("pointermove",Y),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ue,{capture:!0})}}},[g,I,O]),x.useEffect(()=>{const V=()=>I(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[I]);const[U,H]=Rv(V=>{const Y=D().filter(se=>!se.disabled),ue=Y.find(se=>se.ref.current===document.activeElement),ae=Iv(Y,V,ue);ae&&setTimeout(()=>ae.ref.current.focus())}),J=x.useCallback((V,Y,ue)=>{const ae=!_.current&&!ue;(f.value!==void 0&&f.value===Y||ae)&&(T(V),ae&&(_.current=!0))},[f.value]),re=x.useCallback(()=>g==null?void 0:g.focus(),[g]),L=x.useCallback((V,Y,ue)=>{const ae=!_.current&&!ue;(f.value!==void 0&&f.value===Y||ae)&&R(V)},[f.value]),G=r==="popper"?wd:hv,q=G===wd?{side:i,sideOffset:c,align:d,alignOffset:p,arrowPadding:m,collisionBoundary:h,collisionPadding:j,sticky:v,hideWhenDetached:u,avoidCollisions:b}:{};return n.jsx(mv,{scope:s,content:g,viewport:N,onViewportChange:E,itemRefCallback:J,selectedItem:k,onItemLeave:re,itemTextRefCallback:L,focusSelectedItem:M,selectedItemText:A,position:r,isPositioned:z,searchRef:U,children:n.jsx(nv,{as:WC,allowPinchZoom:!0,children:n.jsx(Kg,{asChild:!0,trapped:f.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:X(a,V=>{var Y;(Y=f.trigger)==null||Y.focus({preventScroll:!0}),V.preventDefault()}),children:n.jsx(Kl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:n.jsx(G,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:V=>V.preventDefault(),...y,...q,onPlaced:()=>P(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:X(y.onKeyDown,V=>{const Y=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!Y&&V.key.length===1&&H(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ae=D().filter(se=>!se.disabled).map(se=>se.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const se=V.target,ne=ae.indexOf(se);ae=ae.slice(ne+1)}setTimeout(()=>F(ae)),V.preventDefault()}})})})})})})});fv.displayName=BC;var HC="SelectItemAlignedPosition",hv=x.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,o=cn(On,s),l=dn(On,s),[i,c]=x.useState(null),[d,p]=x.useState(null),m=Ne(t,S=>p(S)),h=li(s),j=x.useRef(!1),v=x.useRef(!0),{viewport:u,selectedItem:b,selectedItemText:y,focusSelectedItem:f}=l,g=x.useCallback(()=>{if(o.trigger&&o.valueNode&&i&&d&&u&&b&&y){const S=o.trigger.getBoundingClientRect(),k=d.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const se=A.left-k.left,ne=T.left-se,Ae=S.left-ne,rt=S.width+Ae,un=Math.max(rt,k.width),ss=window.innerWidth-At,qr=Bf(ne,[At,Math.max(At,ss-un)]);i.style.minWidth=rt+"px",i.style.left=qr+"px"}else{const se=k.right-A.right,ne=window.innerWidth-T.right-se,Ae=window.innerWidth-S.right-ne,rt=S.width+Ae,un=Math.max(rt,k.width),ss=window.innerWidth-At,qr=Bf(ne,[At,Math.max(At,ss-un)]);i.style.minWidth=rt+"px",i.style.right=qr+"px"}const R=h(),D=window.innerHeight-At*2,z=u.scrollHeight,P=window.getComputedStyle(d),_=parseInt(P.borderTopWidth,10),F=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),I=parseInt(P.paddingBottom,10),O=_+F+z+I+M,U=Math.min(b.offsetHeight*5,O),H=window.getComputedStyle(u),J=parseInt(H.paddingTop,10),re=parseInt(H.paddingBottom,10),L=S.top+S.height/2-At,G=D-L,q=b.offsetHeight/2,V=b.offsetTop+q,Y=_+F+V,ue=O-Y;if(Y<=L){const se=R.length>0&&b===R[R.length-1].ref.current;i.style.bottom="0px";const ne=d.clientHeight-u.offsetTop-u.offsetHeight,Ae=Math.max(G,q+(se?re:0)+ne+M),rt=Y+Ae;i.style.height=rt+"px"}else{const se=R.length>0&&b===R[0].ref.current;i.style.top="0px";const Ae=Math.max(L,_+u.offsetTop+(se?J:0)+q)+ue;i.style.height=Ae+"px",u.scrollTop=Y-L+u.offsetTop}i.style.margin=`${At}px 0`,i.style.minHeight=U+"px",i.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>j.current=!0)}},[h,o.trigger,o.valueNode,i,d,u,b,y,o.dir,r]);Ye(()=>g(),[g]);const[w,N]=x.useState();Ye(()=>{d&&N(window.getComputedStyle(d).zIndex)},[d]);const E=x.useCallback(S=>{S&&v.current===!0&&(g(),f==null||f(),v.current=!1)},[g,f]);return n.jsx(GC,{scope:s,contentWrapper:i,shouldExpandOnScrollRef:j,onScrollButtonChange:E,children:n.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:n.jsx(ce.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});hv.displayName=HC;var KC="SelectPopperPosition",wd=x.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=At,...o}=e,l=ii(s);return n.jsx(dg,{...l,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wd.displayName=KC;var[GC,Gu]=Qr(On,{}),bd="SelectViewport",pv=x.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,o=dn(bd,s),l=Gu(bd,s),i=Ne(t,o.onViewportChange),c=x.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),n.jsx(oi.Slot,{scope:s,children:n.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:X(a.onScroll,d=>{const p=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=l;if(h!=null&&h.current&&m){const j=Math.abs(c.current-p.scrollTop);if(j>0){const v=window.innerHeight-At*2,u=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),y=Math.max(u,b);if(y<v){const f=y+j,g=Math.min(v,f),w=f-g;m.style.height=g+"px",m.style.bottom==="0px"&&(p.scrollTop=w>0?w:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});pv.displayName=bd;var xv="SelectGroup",[QC,qC]=Qr(xv),JC=x.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=eo();return n.jsx(QC,{scope:s,id:a,children:n.jsx(ce.div,{role:"group","aria-labelledby":a,...r,ref:t})})});JC.displayName=xv;var gv="SelectLabel",vv=x.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=qC(gv,s);return n.jsx(ce.div,{id:a.id,...r,ref:t})});vv.displayName=gv;var Pl="SelectItem",[YC,yv]=Qr(Pl),wv=x.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:o,...l}=e,i=cn(Pl,s),c=dn(Pl,s),d=i.value===r,[p,m]=x.useState(o??""),[h,j]=x.useState(!1),v=Ne(t,f=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,f,r,a)}),u=eo(),b=x.useRef("touch"),y=()=>{a||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(YC,{scope:s,value:r,disabled:a,textId:u,isSelected:d,onItemTextChange:x.useCallback(f=>{m(g=>g||((f==null?void 0:f.textContent)??"").trim())},[]),children:n.jsx(oi.ItemSlot,{scope:s,value:r,disabled:a,textValue:p,children:n.jsx(ce.div,{role:"option","aria-labelledby":u,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:X(l.onFocus,()=>j(!0)),onBlur:X(l.onBlur,()=>j(!1)),onClick:X(l.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:X(l.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:X(l.onPointerDown,f=>{b.current=f.pointerType}),onPointerMove:X(l.onPointerMove,f=>{var g;b.current=f.pointerType,a?(g=c.onItemLeave)==null||g.call(c):b.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:X(l.onPointerLeave,f=>{var g;f.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:X(l.onKeyDown,f=>{var w;((w=c.searchRef)==null?void 0:w.current)!==""&&f.key===" "||(LC.includes(f.key)&&y(),f.key===" "&&f.preventDefault())})})})})});wv.displayName=Pl;var ua="SelectItemText",bv=x.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...o}=e,l=cn(ua,s),i=dn(ua,s),c=yv(ua,s),d=zC(ua,s),[p,m]=x.useState(null),h=Ne(t,y=>m(y),c.onItemTextChange,y=>{var f;return(f=i.itemTextRefCallback)==null?void 0:f.call(i,y,c.value,c.disabled)}),j=p==null?void 0:p.textContent,v=x.useMemo(()=>n.jsx("option",{value:c.value,disabled:c.disabled,children:j},c.value),[c.disabled,c.value,j]),{onNativeOptionAdd:u,onNativeOptionRemove:b}=d;return Ye(()=>(u(v),()=>b(v)),[u,b,v]),n.jsxs(n.Fragment,{children:[n.jsx(ce.span,{id:c.textId,...o,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?_n.createPortal(o.children,l.valueNode):null]})});bv.displayName=ua;var jv="SelectItemIndicator",Nv=x.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return yv(jv,s).isSelected?n.jsx(ce.span,{"aria-hidden":!0,...r,ref:t}):null});Nv.displayName=jv;var jd="SelectScrollUpButton",Sv=x.forwardRef((e,t)=>{const s=dn(jd,e.__scopeSelect),r=Gu(jd,e.__scopeSelect),[a,o]=x.useState(!1),l=Ne(t,r.onScrollButtonChange);return Ye(()=>{if(s.viewport&&s.isPositioned){let i=function(){const d=c.scrollTop>0;o(d)};const c=s.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[s.viewport,s.isPositioned]),a?n.jsx(Cv,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=s;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});Sv.displayName=jd;var Nd="SelectScrollDownButton",kv=x.forwardRef((e,t)=>{const s=dn(Nd,e.__scopeSelect),r=Gu(Nd,e.__scopeSelect),[a,o]=x.useState(!1),l=Ne(t,r.onScrollButtonChange);return Ye(()=>{if(s.viewport&&s.isPositioned){let i=function(){const d=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<d;o(p)};const c=s.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[s.viewport,s.isPositioned]),a?n.jsx(Cv,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=s;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});kv.displayName=Nd;var Cv=x.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,o=dn("SelectScrollButton",s),l=x.useRef(null),i=li(s),c=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Ye(()=>{var p;const d=i().find(m=>m.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[i]),n.jsx(ce.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:X(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:X(a.onPointerMove,()=>{var d;(d=o.onItemLeave)==null||d.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:X(a.onPointerLeave,()=>{c()})})}),XC="SelectSeparator",Ev=x.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return n.jsx(ce.div,{"aria-hidden":!0,...r,ref:t})});Ev.displayName=XC;var Sd="SelectArrow",ZC=x.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=ii(s),o=cn(Sd,s),l=dn(Sd,s);return o.open&&l.position==="popper"?n.jsx(ug,{...a,...r,ref:t}):null});ZC.displayName=Sd;function Pv(e){return e===""||e===void 0}var Tv=x.forwardRef((e,t)=>{const{value:s,...r}=e,a=x.useRef(null),o=Ne(t,a),l=Qg(s);return x.useEffect(()=>{const i=a.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&p){const m=new Event("change",{bubbles:!0});p.call(i,s),i.dispatchEvent(m)}},[l,s]),n.jsx(Za,{asChild:!0,children:n.jsx("select",{...r,ref:o,defaultValue:s})})});Tv.displayName="BubbleSelect";function Rv(e){const t=ft(e),s=x.useRef(""),r=x.useRef(0),a=x.useCallback(l=>{const i=s.current+l;t(i),function c(d){s.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),o=x.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,o]}function Iv(e,t,s){const a=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=s?e.indexOf(s):-1;let l=e4(e,Math.max(o,0));a.length===1&&(l=l.filter(d=>d!==s));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function e4(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var t4=rv,Av=ov,s4=iv,n4=cv,r4=dv,Dv=uv,a4=pv,Mv=vv,Ov=wv,o4=bv,l4=Nv,Lv=Sv,Fv=kv,_v=Ev;const i4=t4,c4=s4,$v=x.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(Av,{ref:r,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,n.jsx(n4,{asChild:!0,children:n.jsx(E0,{className:"h-4 w-4 opacity-50"})})]}));$v.displayName=Av.displayName;const zv=x.forwardRef(({className:e,...t},s)=>n.jsx(Lv,{ref:s,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(IN,{className:"h-4 w-4"})}));zv.displayName=Lv.displayName;const Uv=x.forwardRef(({className:e,...t},s)=>n.jsx(Fv,{ref:s,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(E0,{className:"h-4 w-4"})}));Uv.displayName=Fv.displayName;const Vv=x.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>n.jsx(r4,{children:n.jsxs(Dv,{ref:a,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[n.jsx(zv,{}),n.jsx(a4,{className:he("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(Uv,{})]})}));Vv.displayName=Dv.displayName;const d4=x.forwardRef(({className:e,...t},s)=>n.jsx(Mv,{ref:s,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));d4.displayName=Mv.displayName;const Bv=x.forwardRef(({className:e,children:t,...s},r)=>n.jsxs(Ov,{ref:r,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(l4,{children:n.jsx(RN,{className:"h-4 w-4"})})}),n.jsx(o4,{children:t})]}));Bv.displayName=Ov.displayName;const u4=x.forwardRef(({className:e,...t},s)=>n.jsx(_v,{ref:s,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));u4.displayName=_v.displayName;function m4(){const e=()=>{localStorage.removeItem("userRole"),localStorage.removeItem("isLoggedIn"),window.location.href="/login"};return n.jsx("div",{className:"fixed top-4 left-4 z-50 bg-slate-800 rounded-lg p-2 border border-slate-600 shadow-lg",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Admin"}),n.jsx(K,{onClick:e,size:"sm",className:"text-xs px-2 py-1 bg-red-600 hover:bg-red-700 text-white",children:"Logout"})]})})}function f4(){const[e,t]=x.useState("2025-02-08"),[s,r]=x.useState(!1);Ie();const{data:a=[],isLoading:o}=ke({queryKey:["/api/admin/time-tracking",e],queryFn:()=>Promise.resolve([])}),l=a.reduce((m,h)=>m+h.totalGrossEarnings,0),i=a.reduce((m,h)=>m+h.totalHours,0),c=a.reduce((m,h)=>m+h.totalCisDeduction,0),d=a.reduce((m,h)=>m+h.totalNetEarnings,0),p=()=>{const m=[],h=new Date;for(let j=0;j<12;j++){const v=new Date(h.getTime()-j*7*24*60*60*1e3),u=v.toISOString().split("T")[0],b=`Week ending ${v.toLocaleDateString("en-UK",{day:"numeric",month:"short",year:"numeric"})}`;m.push({value:u,label:b})}return m};return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[n.jsx(m4,{}),n.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"Pro"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium",children:"Pro"}),n.jsx("div",{className:"text-xs text-slate-400",children:"Time Tracking Dashboard"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),n.jsx("span",{className:"text-sm text-green-500",children:"Online"}),n.jsx("i",{className:"fas fa-sun text-yellow-400 ml-2"}),n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>r(!s),className:"w-8 h-8 bg-yellow-600 rounded-full flex items-center justify-center ml-4 hover:bg-yellow-700 transition-colors",children:n.jsx("span",{className:"text-white font-bold text-sm",children:(localStorage.getItem("adminName")||"Admin").split(" ").map(m=>m[0]).join("").slice(0,2)})}),n.jsx("i",{className:"fas fa-chevron-down text-slate-400 text-xs ml-1"}),s&&n.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-slate-800 rounded-lg shadow-xl border border-slate-600 z-50 max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"p-4 border-b border-slate-600",children:[n.jsx("div",{className:"font-medium text-white",children:localStorage.getItem("adminName")||"Admin"}),n.jsx("div",{className:"text-sm text-slate-400",children:localStorage.getItem("adminEmail")||"admin@erbuildanddesign.co.uk"}),n.jsxs("div",{className:"flex items-center mt-2",children:[n.jsx("i",{className:"fas fa-clock text-blue-400 mr-2"}),n.jsx("span",{className:"text-blue-400 text-sm",children:"Time Tracking Admin"})]})]}),n.jsxs("div",{className:"py-2",children:[n.jsxs("button",{onClick:()=>window.location.href="/admin",className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-white",children:[n.jsx("i",{className:"fas fa-tachometer-alt mr-3 w-4"}),"Admin Dashboard"]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-white",children:[n.jsx("i",{className:"fas fa-tasks mr-3 w-4"}),"Job Assignments"]}),n.jsxs("button",{onClick:()=>window.location.href="/admin-applications",className:"w-full px-4 py-2 text-left hover:bg-slate-700 flex items-center text-white",children:[n.jsx("i",{className:"fas fa-users mr-3 w-4"}),"Applications"]})]})]})]})]})]}),n.jsx("div",{className:"bg-blue-600 px-4 py-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("i",{className:"fas fa-clock text-white mr-2"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium text-sm",children:"Time Tracking Dashboard"}),n.jsx("div",{className:"text-blue-100 text-xs",children:"Monitor contractor earnings by job"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(i4,{value:e,onValueChange:t,children:[n.jsx($v,{className:"w-48 bg-blue-700 text-white border-blue-500",children:n.jsx(c4,{})}),n.jsx(Vv,{children:p().map(m=>n.jsx(Bv,{value:m.value,children:m.label},m.value))})]}),n.jsxs("div",{className:"bg-blue-700 text-white px-2 py-1 rounded text-xs",children:[n.jsx("i",{className:"fas fa-download mr-1"}),"Export"]})]})]})}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(le,{className:"bg-slate-800 border-slate-700",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm",children:"Total Spend"}),n.jsxs("p",{className:"text-2xl font-bold text-green-400",children:["£",l.toFixed(2)]})]}),n.jsx("i",{className:"fas fa-pound-sign text-green-400 text-xl"})]})})}),n.jsx(le,{className:"bg-slate-800 border-slate-700",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm",children:"Total Hours"}),n.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[i.toFixed(1),"h"]})]}),n.jsx("i",{className:"fas fa-clock text-blue-400 text-xl"})]})})}),n.jsx(le,{className:"bg-slate-800 border-slate-700",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm",children:"CIS Deductions"}),n.jsxs("p",{className:"text-2xl font-bold text-orange-400",children:["£",c.toFixed(2)]})]}),n.jsx("i",{className:"fas fa-percentage text-orange-400 text-xl"})]})})}),n.jsx(le,{className:"bg-slate-800 border-slate-700",children:n.jsx(ie,{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-slate-400 text-sm",children:"Net Payout"}),n.jsxs("p",{className:"text-2xl font-bold text-yellow-400",children:["£",d.toFixed(2)]})]}),n.jsx("i",{className:"fas fa-hand-holding-usd text-yellow-400 text-xl"})]})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold text-white",children:"Job Earnings Breakdown"}),n.jsxs(ee,{variant:"outline",className:"text-slate-400 border-slate-600",children:[a.length," Jobs"]})]}),o?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx("div",{className:"text-slate-400",children:"Loading contractor earnings..."})}):a.length===0?n.jsx(le,{className:"bg-slate-800 border-slate-700",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx("i",{className:"fas fa-clock text-slate-500 text-4xl mb-4"}),n.jsx("h4",{className:"text-lg font-medium text-slate-400 mb-2",children:"No Time Tracking Data"}),n.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"No contractor time tracking data available for the selected week."}),n.jsx("div",{className:"text-slate-500 text-xs",children:"Time tracking data will appear here once contractors start working and logging hours through the GPS system."})]})}):a.map(m=>n.jsxs(le,{className:"bg-slate-800 border-slate-700",children:[n.jsx(Qe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(qe,{className:"text-white text-lg",children:m.jobTitle}),n.jsxs(zr,{className:"text-slate-400",children:[n.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),m.location]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["£",m.totalGrossEarnings.toFixed(2)]}),n.jsxs("div",{className:"text-sm text-slate-400",children:[m.totalHours,"h total"]}),m.gpsVerified&&n.jsxs(ee,{className:"bg-green-900 text-green-300 mt-1",children:[n.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),"GPS Verified"]})]})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-slate-400",children:"Contractor Breakdown:"}),n.jsxs("span",{className:"text-slate-400",children:[m.contractors.length," contractors"]})]}),m.contractors.map((h,j)=>n.jsxs("div",{className:"flex items-center justify-between bg-slate-700 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white text-xs font-bold",children:h.contractorName.split(" ").map(v=>v[0]).join("")})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-white text-sm font-medium",children:h.contractorName}),n.jsxs("div",{className:"text-slate-400 text-xs",children:[h.hoursWorked,"h @ £",h.hourlyRate,"/h"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-white font-medium",children:["£",h.grossEarnings.toFixed(2)]}),n.jsxs("div",{className:"text-slate-400 text-xs",children:["-",h.cisRate,"% CIS (£",h.cisDeduction.toFixed(2),")"]}),n.jsxs("div",{className:"text-green-400 text-xs font-medium",children:["Net: £",h.netEarnings.toFixed(2)]})]})]},j)),n.jsx("div",{className:"border-t border-slate-600 pt-3 mt-3",children:n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-slate-400",children:"Job Totals:"}),n.jsxs("div",{className:"text-right space-y-1",children:[n.jsxs("div",{className:"text-white",children:["Gross: £",m.totalGrossEarnings.toFixed(2)]}),n.jsxs("div",{className:"text-orange-400",children:["CIS: -£",m.totalCisDeduction.toFixed(2)]}),n.jsxs("div",{className:"text-green-400 font-medium",children:["Net: £",m.totalNetEarnings.toFixed(2)]})]})]})})]})})]},m.jobId))]})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-800 border-t border-slate-600",children:n.jsxs("div",{className:"flex justify-around",children:[n.jsxs("button",{onClick:()=>window.location.href="/admin",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-tachometer-alt block mb-1"}),n.jsx("span",{className:"text-xs",children:"Dashboard"})]}),n.jsxs("button",{onClick:()=>window.location.href="/job-assignments",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-tasks block mb-1"}),n.jsx("span",{className:"text-xs",children:"Jobs"})]}),n.jsxs("button",{className:"py-3 px-4 text-blue-400",children:[n.jsx("i",{className:"fas fa-clock block mb-1"}),n.jsx("span",{className:"text-xs",children:"Time Tracking"})]}),n.jsxs("button",{onClick:()=>window.location.href="/upload",className:"py-3 px-4 text-slate-400 hover:text-white",children:[n.jsx("i",{className:"fas fa-upload block mb-1"}),n.jsx("span",{className:"text-xs",children:"Upload Job"})]})]})}),n.jsx("div",{className:"h-20"})]})}function h4(){const[e,t]=x.useState(""),[s,r]=x.useState(""),[a,o]=x.useState(""),{toast:l}=Ie(),i=()=>{const d=`🔨 ERdesignandbuild Contractor Application

Hi ${e||"[Contractor Name]"},

Please complete your contractor application form by providing:

📋 **Required Information:**
• Personal details (Name, Email, Phone, Address)
• Right to work documentation
• CIS registration status
• Banking information
• Emergency contact
• Trade specializations and experience

Reply with your completed information or visit our application portal.

Best regards,
ERdesignandbuild Team`;navigator.clipboard.writeText(d),l({title:"Form Message Copied",description:"Send this message to the contractor on Telegram"})},c=()=>{if(!e||!s){l({title:"Missing Information",description:"Please enter contractor name and phone number",variant:"destructive"});return}const d={name:e,phone:s,telegramId:a||"Not provided",dateAdded:new Date().toISOString(),status:"pending_application"},p=JSON.parse(localStorage.getItem("contractor_contacts")||"[]");p.push(d),localStorage.setItem("contractor_contacts",JSON.stringify(p)),l({title:"Contractor Added",description:`${e} has been added to your contact list`}),t(""),r(""),o("")};return n.jsx("div",{className:"min-h-screen bg-slate-900 text-white p-4",children:n.jsxs("div",{className:"max-w-2xl mx-auto",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(Dn,{className:"h-8 w-8 text-yellow-600 mr-3"}),n.jsx("h1",{className:"text-2xl font-bold",children:"Contractor ID Capture"})]}),n.jsxs(le,{className:"bg-slate-800 border-slate-700 mb-6",children:[n.jsx(Qe,{children:n.jsx(qe,{className:"text-yellow-600",children:"Add New Contractor"})}),n.jsxs(ie,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Contractor Name"}),n.jsx(Ys,{value:e,onChange:d=>t(d.target.value),placeholder:"Enter contractor's full name",className:"bg-slate-700 border-slate-600"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx(Ys,{value:s,onChange:d=>r(d.target.value),placeholder:"e.g., 07534251548",className:"bg-slate-700 border-slate-600"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Telegram ID (Optional)",n.jsx("span",{className:"text-slate-400 text-xs ml-2",children:"Get this from the contractor"})]}),n.jsx(Ys,{value:a,onChange:d=>o(d.target.value),placeholder:"e.g., @username or user ID number",className:"bg-slate-700 border-slate-600"})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(K,{onClick:c,className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-black",children:[n.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Save Contractor"]}),n.jsxs(K,{onClick:i,variant:"outline",className:"flex-1 border-slate-600 hover:bg-slate-700",children:[n.jsx(DN,{className:"h-4 w-4 mr-2"}),"Copy Form Message"]})]})]})]}),n.jsxs(le,{className:"bg-slate-800 border-slate-700",children:[n.jsx(Qe,{children:n.jsxs(qe,{className:"text-yellow-600 flex items-center",children:[n.jsx(Au,{className:"h-5 w-5 mr-2"}),"How to Get Telegram ID"]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-3 text-sm text-slate-300",children:[n.jsxs("div",{className:"bg-slate-700 p-3 rounded",children:[n.jsx("h4",{className:"font-medium text-white mb-2",children:"Method 1: Ask the Contractor"}),n.jsx("p",{children:'Ask them to search for "@userinfobot" on Telegram and send /start. The bot will reply with their user ID.'})]}),n.jsxs("div",{className:"bg-slate-700 p-3 rounded",children:[n.jsx("h4",{className:"font-medium text-white mb-2",children:"Method 2: Username Method"}),n.jsx("p",{children:"If they have a username (like @john_contractor), you can use that instead of the numeric ID."})]}),n.jsxs("div",{className:"bg-slate-700 p-3 rounded",children:[n.jsx("h4",{className:"font-medium text-white mb-2",children:"Method 3: Phone Contact"}),n.jsx("p",{children:"Start with their phone number for initial contact, then get Telegram ID for future automated messages."})]})]})})]})]})})}var Qu="Switch",[p4,O4]=ln(Qu),[x4,g4]=p4(Qu),Wv=x.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:o,required:l,disabled:i,value:c="on",onCheckedChange:d,form:p,...m}=e,[h,j]=x.useState(null),v=Ne(t,g=>j(g)),u=x.useRef(!1),b=h?p||!!h.closest("form"):!0,[y=!1,f]=Fr({prop:a,defaultProp:o,onChange:d});return n.jsxs(x4,{scope:s,checked:y,disabled:i,children:[n.jsx(ce.button,{type:"button",role:"switch","aria-checked":y,"aria-required":l,"data-state":Gv(y),"data-disabled":i?"":void 0,disabled:i,value:c,...m,ref:v,onClick:X(e.onClick,g=>{f(w=>!w),b&&(u.current=g.isPropagationStopped(),u.current||g.stopPropagation())})}),b&&n.jsx(v4,{control:h,bubbles:!u.current,name:r,value:c,checked:y,required:l,disabled:i,form:p,style:{transform:"translateX(-100%)"}})]})});Wv.displayName=Qu;var Hv="SwitchThumb",Kv=x.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=g4(Hv,s);return n.jsx(ce.span,{"data-state":Gv(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});Kv.displayName=Hv;var v4=e=>{const{control:t,checked:s,bubbles:r=!0,...a}=e,o=x.useRef(null),l=Qg(s),i=Z0(t);return x.useEffect(()=>{const c=o.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==s&&m){const h=new Event("click",{bubbles:r});m.call(c,s),c.dispatchEvent(h)}},[l,s,r]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gv(e){return e?"checked":"unchecked"}var Qv=Wv,y4=Kv;const kd=x.forwardRef(({className:e,...t},s)=>n.jsx(Qv,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:n.jsx(y4,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kd.displayName=Qv.displayName;function w4(){const{toast:e}=Ie(),t=on(),{data:s,isLoading:r}=ke({queryKey:["/api/admin-settings/saturday_overtime"],queryFn:async()=>{const h=await fetch("/api/admin-settings/saturday_overtime");if(h.status===404)return null;if(!h.ok)throw new Error("Failed to fetch Saturday overtime setting");return h.json()},retry:!1}),{data:a,isLoading:o}=ke({queryKey:["/api/admin-settings/sunday_overtime"],queryFn:async()=>{const h=await fetch("/api/admin-settings/sunday_overtime");if(h.status===404)return null;if(!h.ok)throw new Error("Failed to fetch Sunday overtime setting");return h.json()},retry:!1}),l=mt({mutationFn:async h=>{const j={settingKey:"saturday_overtime",settingValue:h.toString(),description:"Allow contractors to work overtime on Saturdays",updatedBy:"Admin"},v=await fetch("/api/admin-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!v.ok)throw new Error("Failed to update Saturday overtime setting");return v.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin-settings/saturday_overtime"]}),e({title:"Setting Updated",description:"Saturday overtime setting has been updated successfully."})},onError:h=>{e({title:"Update Failed",description:"Failed to update Saturday overtime setting. Please try again.",variant:"destructive"})}}),i=mt({mutationFn:async h=>{const j={settingKey:"sunday_overtime",settingValue:h.toString(),description:"Allow contractors to work overtime on Sundays",updatedBy:"Admin"},v=await fetch("/api/admin-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});if(!v.ok)throw new Error("Failed to update Sunday overtime setting");return v.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/admin-settings/sunday_overtime"]}),e({title:"Setting Updated",description:"Sunday overtime setting has been updated successfully."})},onError:h=>{e({title:"Update Failed",description:"Failed to update Sunday overtime setting. Please try again.",variant:"destructive"})}}),c=h=>{l.mutate(h)},d=h=>{i.mutate(h)},p=(s==null?void 0:s.settingValue)==="true",m=(a==null?void 0:a.settingValue)==="true";return n.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-black font-bold text-sm",children:"⚙️"})}),n.jsx("h1",{className:"text-2xl font-bold text-yellow-400",children:"Admin Settings"})]}),n.jsx("p",{className:"text-slate-400",children:"Configure system settings for contractor management"})]}),n.jsxs(le,{className:"bg-slate-800 border-slate-700",children:[n.jsx(Qe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(qe,{className:"text-yellow-400 flex items-center space-x-2",children:[n.jsx("span",{children:"Saturday Overtime"}),p&&n.jsx(ee,{className:"bg-green-600 text-white",children:"ENABLED"}),!p&&n.jsx(ee,{className:"bg-red-600 text-white",children:"DISABLED"})]}),n.jsx(zr,{className:"text-slate-400",children:"Allow contractors to clock in and work overtime on Saturdays"})]}),n.jsx(kd,{checked:p,onCheckedChange:c,disabled:r||l.isPending,className:"data-[state=checked]:bg-yellow-500"})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-slate-300",children:[n.jsx("div",{className:"font-semibold text-yellow-400 mb-2",children:"Current Configuration:"}),n.jsxs("ul",{className:"space-y-1 text-slate-400",children:[n.jsx("li",{children:"• Regular Hours: Monday-Friday, 7:45 AM - 5:00 PM"}),n.jsxs("li",{children:["• Saturday Overtime: ",p?"Allowed":"Not Allowed"]}),n.jsxs("li",{children:["• Sunday Overtime: ",m?"Allowed":"Not Allowed"]}),n.jsx("li",{children:"• GPS Validation: 1km radius required for all work sessions"})]})]}),p&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg",children:[n.jsx("div",{className:"text-yellow-400 font-semibold mb-1",children:"⚠️ Saturday Overtime Active"}),n.jsx("div",{className:"text-sm text-slate-300",children:"Contractors can now clock in on Saturdays during regular hours (7:45 AM - 5:00 PM). All GPS and location validation rules still apply."})]}),!p&&n.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg",children:n.jsx("div",{className:"text-slate-400 text-sm",children:"Saturday work is currently disabled. Contractors cannot clock in on Saturdays."})}),(s==null?void 0:s.updatedAt)&&n.jsxs("div",{className:"text-xs text-slate-500",children:["Last updated: ",new Date(s.updatedAt).toLocaleString()," by ",s.updatedBy]})]})})]}),n.jsxs(le,{className:"bg-slate-800 border-slate-700 mt-4",children:[n.jsx(Qe,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs(qe,{className:"text-yellow-400 flex items-center space-x-2",children:[n.jsx("span",{children:"Sunday Overtime"}),m&&n.jsx(ee,{className:"bg-green-600 text-white",children:"ENABLED"}),!m&&n.jsx(ee,{className:"bg-red-600 text-white",children:"DISABLED"})]}),n.jsx(zr,{className:"text-slate-400",children:"Allow contractors to clock in and work overtime on Sundays"})]}),n.jsx(kd,{checked:m,onCheckedChange:d,disabled:o||i.isPending,className:"data-[state=checked]:bg-yellow-500"})]})}),n.jsx(ie,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"text-sm text-slate-300",children:[n.jsx("div",{className:"font-semibold text-yellow-400 mb-2",children:"Current Configuration:"}),n.jsxs("ul",{className:"space-y-1 text-slate-400",children:[n.jsx("li",{children:"• Regular Hours: Monday-Friday, 7:45 AM - 5:00 PM"}),n.jsxs("li",{children:["• Saturday Overtime: ",p?"Allowed":"Not Allowed"]}),n.jsxs("li",{children:["• Sunday Overtime: ",m?"Allowed":"Not Allowed"]}),n.jsx("li",{children:"• GPS Validation: 1km radius required for all work sessions"})]})]}),m&&n.jsxs("div",{className:"p-3 bg-yellow-900/20 border border-yellow-600/30 rounded-lg",children:[n.jsx("div",{className:"text-yellow-400 font-semibold mb-1",children:"⚠️ Sunday Overtime Active"}),n.jsx("div",{className:"text-sm text-slate-300",children:"Contractors can now clock in on Sundays during regular hours (7:45 AM - 5:00 PM). All GPS and location validation rules still apply."})]}),!m&&n.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg",children:n.jsx("div",{className:"text-slate-400 text-sm",children:"Sunday work is currently disabled. Contractors cannot clock in on Sundays."})}),(a==null?void 0:a.updatedAt)&&n.jsxs("div",{className:"text-xs text-slate-500",children:["Last updated: ",new Date(a.updatedAt).toLocaleString()," by ",a.updatedBy]})]})})]})]})}function eh(){const{toast:e}=Ie(),{data:t=[],isLoading:s}=ke({queryKey:["/api/pending-inspections"]}),r=mt({mutationFn:async l=>{const i=await fetch(`/api/complete-inspection/${l}`,{method:"POST"});if(!i.ok)throw new Error("Failed to complete inspection");return i.json()},onSuccess:()=>{Lr.invalidateQueries({queryKey:["/api/pending-inspections"]}),e({title:"Inspection Completed",description:"The inspection has been marked as completed."})},onError:l=>{e({title:"Error",description:"Failed to complete inspection",variant:"destructive"})}}),a=l=>l==="50_percent_ready"?"bg-yellow-500":"bg-green-500",o=l=>l==="50_percent_ready"?n.jsx(R0,{className:"h-4 w-4"}):n.jsx(ze,{className:"h-4 w-4"});return s?n.jsx("div",{className:"min-h-screen bg-slate-800 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-2xl font-bold text-amber-400 mb-6",children:"Admin Inspections"}),n.jsx("div",{className:"text-slate-300",children:"Loading pending inspections..."})]})}):n.jsx("div",{className:"min-h-screen bg-slate-800 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-amber-400 mb-2",children:"Admin Inspections"}),n.jsx("p",{className:"text-slate-300",children:"Monitor job progress and complete required site inspections at 50% and 100% milestones"})]}),t.length===0?n.jsx(le,{className:"bg-slate-700 border-slate-600",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(ze,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:"No Pending Inspections"}),n.jsx("p",{className:"text-slate-400",children:"All current jobs are either below 50% completion or have completed their required inspections."})]})}):n.jsx("div",{className:"space-y-4",children:t.map(l=>n.jsxs(le,{className:"bg-slate-700 border-slate-600",children:[n.jsx(Qe,{className:"pb-3",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[o(l.notificationType),n.jsxs("div",{children:[n.jsx(qe,{className:"text-slate-200 text-lg",children:l.inspectionType}),n.jsxs(zr,{className:"text-slate-400",children:["Job: ",l.jobTitle]})]})]}),n.jsx(ee,{className:`${a(l.notificationType)} text-white`,children:l.notificationType.replace("_"," ").toUpperCase()})]})}),n.jsxs(ie,{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(Dn,{className:"h-4 w-4 text-amber-400"}),n.jsxs("span",{children:["Contractor: ",l.contractorName]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(Iu,{className:"h-4 w-4 text-amber-400"}),n.jsxs("span",{children:["Location: ",l.jobLocation]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(TN,{className:"h-4 w-4 text-amber-400"}),n.jsxs("span",{children:["Triggered: ",new Date(l.createdAt).toLocaleDateString()]})]})]}),n.jsx("div",{className:"flex gap-3 pt-3",children:n.jsx(K,{onClick:()=>r.mutate(l.id),disabled:r.isPending,className:"bg-green-600 hover:bg-green-700",children:r.isPending?"Completing...":"Mark Inspection Complete"})})]})]},l.id))}),n.jsxs("div",{className:"mt-8 p-4 bg-slate-700 rounded-lg border border-slate-600",children:[n.jsx("h3",{className:"text-lg font-semibold text-amber-400 mb-2",children:"How It Works"}),n.jsxs("ul",{className:"text-slate-300 space-y-1 text-sm",children:[n.jsxs("li",{children:["• ",n.jsx("strong",{children:"50% Inspection:"})," Triggered automatically when job reaches 50% completion"]}),n.jsxs("li",{children:["• ",n.jsx("strong",{children:"100% Inspection:"})," Triggered when job is marked as fully complete"]}),n.jsx("li",{children:'• Click "Mark Inspection Complete" to confirm the inspection has been done'}),n.jsx("li",{children:"• Use other admin tools for detailed site reports and quality assessments"})]})]})]})})}function b4(){const{id:e}=Ox(),[,t]=qb(),[s,r]=x.useState([]),[a,o]=x.useState({}),[l,i]=x.useState({}),c=on(),{data:d,isLoading:p}=ke({queryKey:[`/api/job-assignments/${e}`],enabled:!!e});x.useEffect(()=>{(async()=>{if(d)try{const u=new Hg(d.contractorName,d.id),y=await(await fetch(`/api/task-progress/${encodeURIComponent(d.contractorName)}/${d.id}`)).json(),w=(await(await fetch("/api/uploaded-jobs")).json()).find(S=>{if(S.name===d.hbxlJob)return!0;if(S.name&&d.hbxlJob){const k=S.name.toLowerCase().replace(/\s+/g,""),T=d.hbxlJob.toLowerCase().replace(/\s+/g,"");if(k.includes("flat")&&T.includes("flat"))return!0}if(S.postcode&&d.workLocation){const k=S.postcode.split(" ")[0],T=d.workLocation.split(" ")[0];if(k===T)return!0}return!1});if(!w||!w.phaseTaskDataValue){console.log("No matching job found or no task data available");return}const N=JSON.parse(w.phaseTaskDataValue),E=[];y.forEach(S=>{if(S.completed===!0){const k=S.taskId.split("-"),T=k[0]+(k.length>2?" "+k.slice(1,-1).join(" "):""),A=parseInt(k[k.length-1]);if(console.log("🔍 Processing completed task:",{taskId:S.taskId,expectedPhase:T,taskIndex:A,progressItem:S}),d.buildPhases.includes(T)&&N[T]){const R=N[T][A];R&&E.push({taskId:S.taskId,phase:T,taskName:R.task||R.description,description:S.taskDescription||R.description,progress:100,completed:!0,inspectionStatus:"pending",notes:"",photos:[]})}else E.push({taskId:S.taskId,phase:S.phase||T,taskName:S.taskDescription,description:S.taskDescription,progress:100,completed:!0,inspectionStatus:"pending",notes:"",photos:[]})}}),console.log(`📋 Found ${E.length} tasks for inspection:`,E),r(E)}catch(u){console.error("Error loading completed tasks:",u),r([])}})()},[d]);const m=mt({mutationFn:async()=>{const v=s.map(u=>({assignmentId:d.id,contractorName:d.contractorName,taskId:u.taskId,phase:u.phase,taskName:u.taskName,inspectionStatus:l[u.taskId]||"pending",notes:a[u.taskId]||"",inspectedBy:localStorage.getItem("adminName")||"Admin",inspectedAt:new Date().toISOString()}));return dr("POST","/api/admin-inspections/batch",{inspections:v})},onSuccess:()=>{c.invalidateQueries({queryKey:["/api/admin-inspections"]}),t("/admin/job-assignments")}}),h=(v,u)=>{i(b=>({...b,[v]:u}))},j=(v,u)=>{o(b=>({...b,[v]:u}))};return p?n.jsx("div",{className:"min-h-screen bg-slate-800 flex items-center justify-center",children:n.jsx("div",{className:"text-amber-500",children:"Loading assignment details..."})}):d?n.jsxs("div",{className:"min-h-screen bg-slate-800 pb-20",children:[n.jsxs("div",{className:"bg-slate-900 p-4 flex items-center gap-3 border-b border-slate-700",children:[n.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t("/admin/job-assignments"),className:"text-slate-400 hover:text-white",children:n.jsx(EN,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-white",children:"📋 Assignment Overview"}),n.jsx("p",{className:"text-slate-400 text-sm",children:"Admin Site Inspection"})]})]}),n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs(le,{className:"bg-slate-900 border-slate-700",children:[n.jsx(Qe,{children:n.jsxs(qe,{className:"text-amber-500 flex items-center gap-2",children:[n.jsx(vs,{className:"h-5 w-5"}),"Assignment Overview"]})}),n.jsx(ie,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(Dn,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:"text-slate-400",children:"Contractor:"}),n.jsx("span",{children:d.contractorName})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(Iu,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:"text-slate-400",children:"Location:"}),n.jsx("span",{children:d.workLocation})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(C0,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:"text-slate-400",children:"Start Date:"}),n.jsx("span",{children:d.startDate})]}),n.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[n.jsx(PN,{className:"h-4 w-4 text-amber-500"}),n.jsx("span",{className:"text-slate-400",children:"Status:"}),n.jsx(ee,{variant:"secondary",className:"bg-blue-600 text-white",children:d.status}),n.jsx("span",{className:"text-slate-400",children:"Phases:"}),n.jsx(ee,{variant:"outline",className:"border-amber-500 text-amber-500",children:d.buildPhases.length})]})]})})]}),n.jsxs(le,{className:"bg-slate-900 border-slate-700",children:[n.jsx(Qe,{children:n.jsx(qe,{className:"text-amber-500 flex items-center gap-2",children:"🔧 Sub-Tasks Progress"})}),n.jsx(ie,{children:s.length===0?n.jsxs("div",{className:"text-center py-8 text-slate-400",children:[n.jsx("p",{children:"No completed tasks available for inspection yet."}),n.jsx("p",{className:"text-sm mt-2",children:"Tasks will appear here when contractors mark them as 100% complete."})]}):n.jsx("div",{className:"space-y-4",children:d.buildPhases.map(v=>{const u=s.filter(b=>b.phase===v);return u.length===0?null:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("h3",{className:"text-slate-200 font-medium",children:[v," (",u.length," tasks)"]})}),u.map(b=>n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-slate-200 font-medium",children:b.description}),n.jsx(ee,{variant:"secondary",className:"bg-green-600 text-white",children:"100% Complete"})]}),n.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Qty: 1 • Progress: 100%"})]},b.taskId))]},v)})})})]}),s.length>0&&n.jsxs(le,{className:"bg-slate-900 border-slate-700",children:[n.jsx(Qe,{children:n.jsx(qe,{className:"text-amber-500 flex items-center gap-2",children:"📋 Admin Task Reporting"})}),n.jsxs(ie,{children:[n.jsxs("div",{className:"bg-blue-900/50 rounded-lg p-4 mb-4",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("div",{className:"text-blue-400 font-semibold",children:"💡 New Task-Based Reporting"})}),n.jsxs("div",{className:"text-blue-200 text-sm space-y-1",children:[n.jsx("p",{children:"Use the task-level buttons below to add quick notes and photos for each specific task."}),n.jsxs("div",{className:"space-y-1 mt-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-3 w-3"}),n.jsx("span",{children:"Note button: Add quick observations per task"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dd,{className:"h-3 w-3"}),n.jsx("span",{children:"Photo button: Capture evidence per task (coming soon)"})]}),n.jsx("div",{className:"text-xs text-blue-300 mt-1",children:"• More efficient than complex forms"})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[s.map(v=>n.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-600 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-slate-200 font-medium",children:v.description}),n.jsxs("p",{className:"text-sm text-slate-400",children:[v.phase," • Qty: 1"]})]}),n.jsx(ee,{variant:"secondary",className:"bg-green-600 text-white",children:"Ready for Inspection"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(K,{size:"sm",variant:l[v.taskId]==="approved"?"default":"outline",onClick:()=>h(v.taskId,"approved"),className:l[v.taskId]==="approved"?"bg-green-600 hover:bg-green-700 text-white":"border-green-600 text-green-400 hover:bg-green-600 hover:text-white",children:[n.jsx(ze,{className:"h-4 w-4 mr-1"}),"Approve"]}),n.jsxs(K,{size:"sm",variant:l[v.taskId]==="issues"?"default":"outline",onClick:()=>h(v.taskId,"issues"),className:l[v.taskId]==="issues"?"bg-red-600 hover:bg-red-700 text-white":"border-red-600 text-red-400 hover:bg-red-600 hover:text-white",children:[n.jsx(us,{className:"h-4 w-4 mr-1"}),"Issues Found"]}),n.jsxs(K,{size:"sm",variant:"outline",className:"border-slate-600 text-slate-400",children:[n.jsx(dd,{className:"h-4 w-4 mr-1"}),"Photo"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"Inspection Notes"}),n.jsx(ni,{placeholder:"Add notes about this specific task...",value:a[v.taskId]||"",onChange:u=>j(v.taskId,u.target.value),className:"bg-slate-700 border-slate-600 text-slate-200 min-h-[80px]"})]})]},v.taskId)),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(K,{onClick:()=>m.mutate(),disabled:m.isPending,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white",children:m.isPending?"Submitting...":"Complete Inspection"}),n.jsx(K,{variant:"outline",onClick:()=>t("/admin/job-assignments"),className:"border-slate-600 text-slate-400",children:"Cancel"})]})]})]})]})]})]}):n.jsx("div",{className:"min-h-screen bg-slate-800 flex items-center justify-center",children:n.jsx("div",{className:"text-red-400",children:"Assignment not found"})})}function j4(){const[e,t]=x.useState([]),[s,r]=x.useState(!1),{toast:a}=Ie(),o=async()=>{r(!0);try{const c=await(await fetch("/api/telegram/recent-messages?limit=20")).json();c.success?(t(c.messages||[]),a({title:"Messages Updated",description:`Found ${c.relevantCount} relevant messages from ${c.totalChecked} total`})):a({title:"Error",description:c.error||"Failed to fetch messages",variant:"destructive"})}catch{a({title:"Error",description:"Failed to connect to server",variant:"destructive"})}finally{r(!1)}},l=async i=>{try{const d=await(await fetch("/api/send-onboarding-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contractorName:i,contractorPhone:"unknown"})})).json();d.success?a({title:"Onboarding Sent",description:`Sent onboarding form to ${i}`}):a({title:"Send Failed",description:d.error||"Failed to send onboarding form",variant:"destructive"})}catch{a({title:"Error",description:"Failed to send onboarding form",variant:"destructive"})}};return x.useEffect(()=>{o()},[]),n.jsx("div",{className:"min-h-screen bg-slate-800 p-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:"Telegram Messages"}),n.jsx("p",{className:"text-slate-400",children:"Recent contractor communications"})]}),n.jsxs(K,{onClick:o,disabled:s,className:"bg-amber-600 hover:bg-amber-700",children:[n.jsx(ON,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]})]}),e.length===0?n.jsx(le,{className:"bg-slate-700 border-slate-600",children:n.jsxs(ie,{className:"p-8 text-center",children:[n.jsx(Au,{className:"h-12 w-12 text-slate-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Recent Messages"}),n.jsx("p",{className:"text-slate-400",children:s?"Loading messages...":"No relevant messages found from contractors"})]})}):n.jsx("div",{className:"space-y-4",children:e.map((i,c)=>n.jsxs(le,{className:"bg-slate-700 border-slate-600",children:[n.jsx(Qe,{className:"pb-3",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(qe,{className:"text-white text-lg",children:[i.from.first_name,i.from.username&&n.jsxs("span",{className:"text-slate-400 font-normal ml-2",children:["@",i.from.username]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-slate-400",children:new Date(i.date).toLocaleString()}),n.jsxs(K,{size:"sm",onClick:()=>l(i.from.first_name),className:"bg-green-600 hover:bg-green-700",children:[n.jsx(T0,{className:"h-3 w-3 mr-1"}),"Send Form"]})]})]})}),n.jsxs(ie,{children:[n.jsx("div",{className:"bg-slate-800 p-4 rounded-lg",children:n.jsx("p",{className:"text-white",children:i.text})}),n.jsxs("div",{className:"mt-3 text-xs text-slate-400",children:["Chat ID: ",i.chatId," | Message ID: ",i.messageId]})]})]},`${i.messageId}-${c}`))})]})})}function N4(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(le,{className:"w-full max-w-md mx-4",children:n.jsxs(ie,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Nl,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function De({children:e,requiredRole:t}){return x.useEffect(()=>{const s=localStorage.getItem("isLoggedIn"),r=localStorage.getItem("userRole");if(!s){window.location.href="/login";return}if(t&&r!==t){r==="admin"?window.location.href="/admin":r==="contractor"?window.location.href="/":window.location.href="/login";return}},[t]),n.jsx(n.Fragment,{children:e})}function S4(){const e=localStorage.getItem("userRole"),t=localStorage.getItem("adminName"),s=localStorage.getItem("contractorName");return console.log("🔍 RoleBased Debug:",{userRole:e,adminName:t,contractorName:s,allLocalStorage:Object.fromEntries(Object.entries(localStorage))}),e==="admin"?(console.log(`👑 Admin access for: ${t}`),n.jsx(jg,{})):e==="contractor"?(console.log(`👷 Contractor access for: ${s}`),n.jsx(ZS,{})):(console.log("❌ No valid role found, redirecting to login"),window.location.href="/login",n.jsx("div",{children:"Redirecting..."}))}function k4(){return n.jsx("div",{className:"relative",children:n.jsxs(Xb,{children:[n.jsx(be,{path:"/login",component:Ak}),n.jsx(be,{path:"/",component:()=>n.jsx(De,{children:n.jsx(S4,{})})}),n.jsx(be,{path:"/upload",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(ak,{})})}),n.jsx(be,{path:"/admin",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(jg,{})})}),n.jsx(be,{path:"/admin-task-monitor",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(Lk,{})})}),n.jsx(be,{path:"/contractor-onboarding",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(ik,{})})}),n.jsx(be,{path:"/admin-applications",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(Rk,{})})}),n.jsx(be,{path:"/contractor-form",component:ck}),n.jsx(be,{path:"/contractor-success",component:dk}),n.jsx(be,{path:"/jobs",component:()=>n.jsx(De,{requiredRole:"contractor",children:n.jsx(ek,{})})}),n.jsx(be,{path:"/task-progress",component:()=>n.jsx(De,{requiredRole:"contractor",children:n.jsx(Dk,{})})}),n.jsx(be,{path:"/more",component:()=>n.jsx(De,{requiredRole:"contractor",children:n.jsx(Mk,{})})}),n.jsx(be,{path:"/job-assignments",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(Vf,{})})}),n.jsx(be,{path:"/admin/job-assignments",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(Vf,{})})}),n.jsx(be,{path:"/system-cleanup",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(_k,{})})}),n.jsx(be,{path:"/create-assignment",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(zk,{})})}),n.jsx(be,{path:"/admin-time-tracking",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(f4,{})})}),n.jsx(be,{path:"/contractor-id-capture",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(h4,{})})}),n.jsx(be,{path:"/admin-settings",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(w4,{})})}),n.jsx(be,{path:"/admin-inspections",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(eh,{})})}),n.jsx(be,{path:"/admin-inspection/:id",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(b4,{})})}),n.jsx(be,{path:"/admin-telegram",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(j4,{})})}),n.jsx(be,{path:"/admin-site-inspections",component:()=>n.jsx(De,{requiredRole:"admin",children:n.jsx(eh,{})})}),n.jsx(be,{component:N4})]})})}function C4(){return n.jsx(vj,{client:Lr,children:n.jsxs(KS,{children:[n.jsx(w1,{}),n.jsx(k4,{})]})})}kx(document.getElementById("root")).render(n.jsx(C4,{}));
